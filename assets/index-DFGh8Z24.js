(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function hc(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Tm={exports:{}},xu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yT;function Qx(){if(yT)return xu;yT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:l}}return xu.Fragment=e,xu.jsx=t,xu.jsxs=t,xu}var vT;function Yx(){return vT||(vT=1,Tm.exports=Qx()),Tm.exports}var T=Yx(),bm={exports:{}},Ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _T;function Xx(){if(_T)return Ve;_T=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function S(P){return P===null||typeof P!="object"?null:(P=b&&P[b]||P["@@iterator"],typeof P=="function"?P:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,j={};function N(P,ne,de){this.props=P,this.context=ne,this.refs=j,this.updater=de||R}N.prototype.isReactComponent={},N.prototype.setState=function(P,ne){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,ne,"setState")},N.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function B(){}B.prototype=N.prototype;function G(P,ne,de){this.props=P,this.context=ne,this.refs=j,this.updater=de||R}var q=G.prototype=new B;q.constructor=G,I(q,N.prototype),q.isPureReactComponent=!0;var Y=Array.isArray,W={H:null,A:null,T:null,S:null},ee=Object.prototype.hasOwnProperty;function k(P,ne,de,ue,oe,ve){return de=ve.ref,{$$typeof:n,type:P,key:ne,ref:de!==void 0?de:null,props:ve}}function O(P,ne){return k(P.type,ne,void 0,void 0,void 0,P.props)}function x(P){return typeof P=="object"&&P!==null&&P.$$typeof===n}function M(P){var ne={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(de){return ne[de]})}var L=/\/+/g;function U(P,ne){return typeof P=="object"&&P!==null&&P.key!=null?M(""+P.key):ne.toString(36)}function D(){}function Oe(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(D,D):(P.status="pending",P.then(function(ne){P.status==="pending"&&(P.status="fulfilled",P.value=ne)},function(ne){P.status==="pending"&&(P.status="rejected",P.reason=ne)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function De(P,ne,de,ue,oe){var ve=typeof P;(ve==="undefined"||ve==="boolean")&&(P=null);var me=!1;if(P===null)me=!0;else switch(ve){case"bigint":case"string":case"number":me=!0;break;case"object":switch(P.$$typeof){case n:case e:me=!0;break;case v:return me=P._init,De(me(P._payload),ne,de,ue,oe)}}if(me)return oe=oe(P),me=ue===""?"."+U(P,0):ue,Y(oe)?(de="",me!=null&&(de=me.replace(L,"$&/")+"/"),De(oe,ne,de,"",function(We){return We})):oe!=null&&(x(oe)&&(oe=O(oe,de+(oe.key==null||P&&P.key===oe.key?"":(""+oe.key).replace(L,"$&/")+"/")+me)),ne.push(oe)),1;me=0;var it=ue===""?".":ue+":";if(Y(P))for(var Re=0;Re<P.length;Re++)ue=P[Re],ve=it+U(ue,Re),me+=De(ue,ne,de,ve,oe);else if(Re=S(P),typeof Re=="function")for(P=Re.call(P),Re=0;!(ue=P.next()).done;)ue=ue.value,ve=it+U(ue,Re++),me+=De(ue,ne,de,ve,oe);else if(ve==="object"){if(typeof P.then=="function")return De(Oe(P),ne,de,ue,oe);throw ne=String(P),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return me}function se(P,ne,de){if(P==null)return P;var ue=[],oe=0;return De(P,ue,"","",function(ve){return ne.call(de,ve,oe++)}),ue}function he(P){if(P._status===-1){var ne=P._result;ne=ne(),ne.then(function(de){(P._status===0||P._status===-1)&&(P._status=1,P._result=de)},function(de){(P._status===0||P._status===-1)&&(P._status=2,P._result=de)}),P._status===-1&&(P._status=0,P._result=ne)}if(P._status===1)return P._result.default;throw P._result}var ce=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function we(){}return Ve.Children={map:se,forEach:function(P,ne,de){se(P,function(){ne.apply(this,arguments)},de)},count:function(P){var ne=0;return se(P,function(){ne++}),ne},toArray:function(P){return se(P,function(ne){return ne})||[]},only:function(P){if(!x(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Ve.Component=N,Ve.Fragment=t,Ve.Profiler=a,Ve.PureComponent=G,Ve.StrictMode=i,Ve.Suspense=p,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,Ve.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ve.cache=function(P){return function(){return P.apply(null,arguments)}},Ve.cloneElement=function(P,ne,de){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ue=I({},P.props),oe=P.key,ve=void 0;if(ne!=null)for(me in ne.ref!==void 0&&(ve=void 0),ne.key!==void 0&&(oe=""+ne.key),ne)!ee.call(ne,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&ne.ref===void 0||(ue[me]=ne[me]);var me=arguments.length-2;if(me===1)ue.children=de;else if(1<me){for(var it=Array(me),Re=0;Re<me;Re++)it[Re]=arguments[Re+2];ue.children=it}return k(P.type,oe,void 0,void 0,ve,ue)},Ve.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:l,_context:P},P},Ve.createElement=function(P,ne,de){var ue,oe={},ve=null;if(ne!=null)for(ue in ne.key!==void 0&&(ve=""+ne.key),ne)ee.call(ne,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(oe[ue]=ne[ue]);var me=arguments.length-2;if(me===1)oe.children=de;else if(1<me){for(var it=Array(me),Re=0;Re<me;Re++)it[Re]=arguments[Re+2];oe.children=it}if(P&&P.defaultProps)for(ue in me=P.defaultProps,me)oe[ue]===void 0&&(oe[ue]=me[ue]);return k(P,ve,void 0,void 0,null,oe)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(P){return{$$typeof:d,render:P}},Ve.isValidElement=x,Ve.lazy=function(P){return{$$typeof:v,_payload:{_status:-1,_result:P},_init:he}},Ve.memo=function(P,ne){return{$$typeof:m,type:P,compare:ne===void 0?null:ne}},Ve.startTransition=function(P){var ne=W.T,de={};W.T=de;try{var ue=P(),oe=W.S;oe!==null&&oe(de,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(we,ce)}catch(ve){ce(ve)}finally{W.T=ne}},Ve.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},Ve.use=function(P){return W.H.use(P)},Ve.useActionState=function(P,ne,de){return W.H.useActionState(P,ne,de)},Ve.useCallback=function(P,ne){return W.H.useCallback(P,ne)},Ve.useContext=function(P){return W.H.useContext(P)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(P,ne){return W.H.useDeferredValue(P,ne)},Ve.useEffect=function(P,ne){return W.H.useEffect(P,ne)},Ve.useId=function(){return W.H.useId()},Ve.useImperativeHandle=function(P,ne,de){return W.H.useImperativeHandle(P,ne,de)},Ve.useInsertionEffect=function(P,ne){return W.H.useInsertionEffect(P,ne)},Ve.useLayoutEffect=function(P,ne){return W.H.useLayoutEffect(P,ne)},Ve.useMemo=function(P,ne){return W.H.useMemo(P,ne)},Ve.useOptimistic=function(P,ne){return W.H.useOptimistic(P,ne)},Ve.useReducer=function(P,ne,de){return W.H.useReducer(P,ne,de)},Ve.useRef=function(P){return W.H.useRef(P)},Ve.useState=function(P){return W.H.useState(P)},Ve.useSyncExternalStore=function(P,ne,de){return W.H.useSyncExternalStore(P,ne,de)},Ve.useTransition=function(){return W.H.useTransition()},Ve.version="19.0.0",Ve}var ET;function Pg(){return ET||(ET=1,bm.exports=Xx()),bm.exports}var w=Pg();const Tt=hc(w);var wm={exports:{}},Iu={},Sm={exports:{}},Am={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TT;function Wx(){return TT||(TT=1,function(n){function e(se,he){var ce=se.length;se.push(he);e:for(;0<ce;){var we=ce-1>>>1,P=se[we];if(0<a(P,he))se[we]=he,se[ce]=P,ce=we;else break e}}function t(se){return se.length===0?null:se[0]}function i(se){if(se.length===0)return null;var he=se[0],ce=se.pop();if(ce!==he){se[0]=ce;e:for(var we=0,P=se.length,ne=P>>>1;we<ne;){var de=2*(we+1)-1,ue=se[de],oe=de+1,ve=se[oe];if(0>a(ue,ce))oe<P&&0>a(ve,ue)?(se[we]=ve,se[oe]=ce,we=oe):(se[we]=ue,se[de]=ce,we=de);else if(oe<P&&0>a(ve,ce))se[we]=ve,se[oe]=ce,we=oe;else break e}}return he}function a(se,he){var ce=se.sortIndex-he.sortIndex;return ce!==0?ce:se.id-he.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],m=[],v=1,b=null,S=3,R=!1,I=!1,j=!1,N=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function q(se){for(var he=t(m);he!==null;){if(he.callback===null)i(m);else if(he.startTime<=se)i(m),he.sortIndex=he.expirationTime,e(p,he);else break;he=t(m)}}function Y(se){if(j=!1,q(se),!I)if(t(p)!==null)I=!0,Oe();else{var he=t(m);he!==null&&De(Y,he.startTime-se)}}var W=!1,ee=-1,k=5,O=-1;function x(){return!(n.unstable_now()-O<k)}function M(){if(W){var se=n.unstable_now();O=se;var he=!0;try{e:{I=!1,j&&(j=!1,B(ee),ee=-1),R=!0;var ce=S;try{t:{for(q(se),b=t(p);b!==null&&!(b.expirationTime>se&&x());){var we=b.callback;if(typeof we=="function"){b.callback=null,S=b.priorityLevel;var P=we(b.expirationTime<=se);if(se=n.unstable_now(),typeof P=="function"){b.callback=P,q(se),he=!0;break t}b===t(p)&&i(p),q(se)}else i(p);b=t(p)}if(b!==null)he=!0;else{var ne=t(m);ne!==null&&De(Y,ne.startTime-se),he=!1}}break e}finally{b=null,S=ce,R=!1}he=void 0}}finally{he?L():W=!1}}}var L;if(typeof G=="function")L=function(){G(M)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,D=U.port2;U.port1.onmessage=M,L=function(){D.postMessage(null)}}else L=function(){N(M,0)};function Oe(){W||(W=!0,L())}function De(se,he){ee=N(function(){se(n.unstable_now())},he)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(se){se.callback=null},n.unstable_continueExecution=function(){I||R||(I=!0,Oe())},n.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<se?Math.floor(1e3/se):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(se){switch(S){case 1:case 2:case 3:var he=3;break;default:he=S}var ce=S;S=he;try{return se()}finally{S=ce}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(se,he){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var ce=S;S=se;try{return he()}finally{S=ce}},n.unstable_scheduleCallback=function(se,he,ce){var we=n.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?we+ce:we):ce=we,se){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=ce+P,se={id:v++,callback:he,priorityLevel:se,startTime:ce,expirationTime:P,sortIndex:-1},ce>we?(se.sortIndex=ce,e(m,se),t(p)===null&&se===t(m)&&(j?(B(ee),ee=-1):j=!0,De(Y,ce-we))):(se.sortIndex=P,e(p,se),I||R||(I=!0,Oe())),se},n.unstable_shouldYield=x,n.unstable_wrapCallback=function(se){var he=S;return function(){var ce=S;S=he;try{return se.apply(this,arguments)}finally{S=ce}}}}(Am)),Am}var bT;function Zx(){return bT||(bT=1,Sm.exports=Wx()),Sm.exports}var Rm={exports:{}},cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wT;function Jx(){if(wT)return cn;wT=1;var n=Pg();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,m,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:p,containerInfo:m,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,cn.createPortal=function(p,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(p,m,null,v)},cn.flushSync=function(p){var m=c.T,v=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=m,i.p=v,i.d.f()}},cn.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(p,m))},cn.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},cn.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var v=m.as,b=d(v,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,R=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?i.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:R}):v==="script"&&i.d.X(p,{crossOrigin:b,integrity:S,fetchPriority:R,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},cn.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=d(m.as,m.crossOrigin);i.d.M(p,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(p)},cn.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,b=d(v,m.crossOrigin);i.d.L(p,v,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},cn.preloadModule=function(p,m){if(typeof p=="string")if(m){var v=d(m.as,m.crossOrigin);i.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(p)},cn.requestFormReset=function(p){i.d.r(p)},cn.unstable_batchedUpdates=function(p,m){return p(m)},cn.useFormState=function(p,m,v){return c.H.useFormState(p,m,v)},cn.useFormStatus=function(){return c.H.useHostTransitionStatus()},cn.version="19.0.0",cn}var ST;function Kb(){if(ST)return Rm.exports;ST=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Rm.exports=Jx(),Rm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AT;function e1(){if(AT)return Iu;AT=1;var n=Zx(),e=Pg(),t=Kb();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),R=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),q=Symbol.for("react.offscreen"),Y=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function ee(r){return r===null||typeof r!="object"?null:(r=W&&r[W]||r["@@iterator"],typeof r=="function"?r:null)}var k=Symbol.for("react.client.reference");function O(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===k?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case p:return"Fragment";case d:return"Portal";case v:return"Profiler";case m:return"StrictMode";case j:return"Suspense";case N:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case R:return(r.displayName||"Context")+".Provider";case S:return(r._context.displayName||"Context")+".Consumer";case I:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case B:return s=r.displayName||null,s!==null?s:O(r.type)||"Memo";case G:s=r._payload,r=r._init;try{return O(r(s))}catch{}}return null}var x=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=Object.assign,L,U;function D(r){if(L===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);L=s&&s[1]||"",U=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+L+r+U}var Oe=!1;function De(r,s){if(!r||Oe)return"";Oe=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(Z){var Q=Z}Reflect.construct(r,[],ae)}else{try{ae.call()}catch(Z){Q=Z}r.call(ae.prototype)}}else{try{throw Error()}catch(Z){Q=Z}(ae=r())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(Z){if(Z&&Q&&typeof Z.stack=="string")return[Z.stack,Q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),E=g[0],A=g[1];if(E&&A){var V=E.split(`
`),H=A.split(`
`);for(h=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(u===V.length||h===H.length)for(u=V.length-1,h=H.length-1;1<=u&&0<=h&&V[u]!==H[h];)h--;for(;1<=u&&0<=h;u--,h--)if(V[u]!==H[h]){if(u!==1||h!==1)do if(u--,h--,0>h||V[u]!==H[h]){var J=`
`+V[u].replace(" at new "," at ");return r.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",r.displayName)),J}while(1<=u&&0<=h);break}}}finally{Oe=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?D(o):""}function se(r){switch(r.tag){case 26:case 27:case 5:return D(r.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return r=De(r.type,!1),r;case 11:return r=De(r.type.render,!1),r;case 1:return r=De(r.type,!0),r;default:return""}}function he(r){try{var s="";do s+=se(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function ce(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function we(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function P(r){if(ce(r)!==r)throw Error(i(188))}function ne(r){var s=r.alternate;if(!s){if(s=ce(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var h=o.return;if(h===null)break;var g=h.alternate;if(g===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===o)return P(h),r;if(g===u)return P(h),s;g=g.sibling}throw Error(i(188))}if(o.return!==u.return)o=h,u=g;else{for(var E=!1,A=h.child;A;){if(A===o){E=!0,o=h,u=g;break}if(A===u){E=!0,u=h,o=g;break}A=A.sibling}if(!E){for(A=g.child;A;){if(A===o){E=!0,o=g,u=h;break}if(A===u){E=!0,u=g,o=h;break}A=A.sibling}if(!E)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function de(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=de(r),s!==null)return s;r=r.sibling}return null}var ue=Array.isArray,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},me=[],it=-1;function Re(r){return{current:r}}function We(r){0>it||(r.current=me[it],me[it]=null,it--)}function je(r,s){it++,me[it]=r.current,r.current=s}var Ze=Re(null),ft=Re(null),mt=Re(null),Ft=Re(null);function Le(r,s){switch(je(mt,s),je(ft,r),je(Ze,null),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?GE(s):0;break;default:if(r=r===8?s.parentNode:s,s=r.tagName,r=r.namespaceURI)r=GE(r),s=KE(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}We(Ze),je(Ze,s)}function Jt(){We(Ze),We(ft),We(mt)}function bn(r){r.memoizedState!==null&&je(Ft,r);var s=Ze.current,o=KE(s,r.type);s!==o&&(je(ft,r),je(Ze,o))}function Cr(r){ft.current===r&&(We(Ze),We(ft)),Ft.current===r&&(We(Ft),wu._currentValue=ve)}var xr=Object.prototype.hasOwnProperty,en=n.unstable_scheduleCallback,Mn=n.unstable_cancelCallback,Xi=n.unstable_shouldYield,hr=n.unstable_requestPaint,gt=n.unstable_now,Ir=n.unstable_getCurrentPriorityLevel,dt=n.unstable_ImmediatePriority,yt=n.unstable_UserBlockingPriority,wn=n.unstable_NormalPriority,ra=n.unstable_LowPriority,si=n.unstable_IdlePriority,eo=n.log,Ae=n.unstable_setDisableYieldValue,qe=null,lt=null;function dr(r){if(lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(qe,r,void 0,(r.current.flags&128)===128)}catch{}}function Fn(r){if(typeof eo=="function"&&Ae(r),lt&&typeof lt.setStrictMode=="function")try{lt.setStrictMode(qe,r)}catch{}}var gn=Math.clz32?Math.clz32:Nc,Cl=Math.log,Oc=Math.LN2;function Nc(r){return r>>>=0,r===0?32:31-(Cl(r)/Oc|0)|0}var Or=128,Wi=4194304;function pr(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function $n(r,s){var o=r.pendingLanes;if(o===0)return 0;var u=0,h=r.suspendedLanes,g=r.pingedLanes,E=r.warmLanes;r=r.finishedLanes!==0;var A=o&134217727;return A!==0?(o=A&~h,o!==0?u=pr(o):(g&=A,g!==0?u=pr(g):r||(E=A&~E,E!==0&&(u=pr(E))))):(A=o&~h,A!==0?u=pr(A):g!==0?u=pr(g):r||(E=o&~E,E!==0&&(u=pr(E)))),u===0?0:s!==0&&s!==u&&(s&h)===0&&(h=u&-u,E=s&-s,h>=E||h===32&&(E&4194176)!==0)?s:u}function Zi(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function to(r,s){switch(r){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xl(){var r=Or;return Or<<=1,(Or&4194176)===0&&(Or=128),r}function Ji(){var r=Wi;return Wi<<=1,(Wi&62914560)===0&&(Wi=4194304),r}function no(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function Ct(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Dc(r,s,o,u,h,g){var E=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var A=r.entanglements,V=r.expirationTimes,H=r.hiddenUpdates;for(o=E&~o;0<o;){var J=31-gn(o),ae=1<<J;A[J]=0,V[J]=-1;var Q=H[J];if(Q!==null)for(H[J]=null,J=0;J<Q.length;J++){var Z=Q[J];Z!==null&&(Z.lane&=-536870913)}o&=~ae}u!==0&&es(r,u,0),g!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=g&~(E&~s))}function es(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-gn(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194218}function ts(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-gn(o),h=1<<u;h&s|r[u]&s&&(r[u]|=s),o&=~h}}function Mc(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function kc(){var r=oe.p;return r!==0?r:(r=window.event,r===void 0?32:fT(r.type))}function ns(r,s){var o=oe.p;try{return oe.p=r,s()}finally{oe.p=o}}var Nr=Math.random().toString(36).slice(2),$t="__reactFiber$"+Nr,Pt="__reactProps$"+Nr,ai="__reactContainer$"+Nr,ia="__reactEvents$"+Nr,ro="__reactListeners$"+Nr,Dr="__reactHandles$"+Nr,Il="__reactResources$"+Nr,rs="__reactMarker$"+Nr;function sa(r){delete r[$t],delete r[Pt],delete r[ia],delete r[ro],delete r[Dr]}function mr(r){var s=r[$t];if(s)return s;for(var o=r.parentNode;o;){if(s=o[ai]||o[$t]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=XE(r);r!==null;){if(o=r[$t])return o;r=XE(r)}return s}r=o,o=r.parentNode}return null}function oi(r){if(r=r[$t]||r[ai]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function is(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function ss(r){var s=r[Il];return s||(s=r[Il]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function vt(r){r[rs]=!0}var Ol=new Set,io={};function kn(r,s){Sn(r,s),Sn(r+"Capture",s)}function Sn(r,s){for(io[r]=s,r=0;r<s.length;r++)Ol.add(s[r])}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ad=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nl={},Dl={};function Vc(r){return xr.call(Dl,r)?!0:xr.call(Nl,r)?!1:Ad.test(r)?Dl[r]=!0:(Nl[r]=!0,!1)}function as(r,s,o){if(Vc(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function os(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function Gn(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}function yn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Lc(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Rd(r){var s=Lc(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,g=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return h.call(this)},set:function(E){u=""+E,g.call(this,E)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function aa(r){r._valueTracker||(r._valueTracker=Rd(r))}function Ml(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=Lc(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function so(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var li=/[\n"\\]/g;function wt(r){return r.replace(li,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ls(r,s,o,u,h,g,E,A){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),s!=null?E==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+yn(s)):r.value!==""+yn(s)&&(r.value=""+yn(s)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),s!=null?ao(r,E,yn(s)):o!=null?ao(r,E,yn(o)):u!=null&&r.removeAttribute("value"),h==null&&g!=null&&(r.defaultChecked=!!g),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.name=""+yn(A):r.removeAttribute("name")}function oa(r,s,o,u,h,g,E,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+yn(o):"",s=s!=null?""+yn(s):o,A||s===r.value||(r.value=s),r.defaultValue=s}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=A?r.checked:!!u,r.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E)}function ao(r,s,o){s==="number"&&so(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Je(r,s,o,u){if(r=r.options,s){s={};for(var h=0;h<o.length;h++)s["$"+o[h]]=!0;for(o=0;o<r.length;o++)h=s.hasOwnProperty("$"+r[o].value),r[o].selected!==h&&(r[o].selected=h),h&&u&&(r[o].defaultSelected=!0)}else{for(o=""+yn(o),s=null,h=0;h<r.length;h++){if(r[h].value===o){r[h].selected=!0,u&&(r[h].defaultSelected=!0);return}s!==null||r[h].disabled||(s=r[h])}s!==null&&(s.selected=!0)}}function la(r,s,o){if(s!=null&&(s=""+yn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+yn(o):""}function us(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(ue(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=yn(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function Kn(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var Cd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kl(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||Cd.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function Pc(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var h in s)u=s[h],s.hasOwnProperty(h)&&o[h]!==u&&kl(r,h,u)}else for(var g in s)s.hasOwnProperty(g)&&kl(r,g,s[g])}function Vl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Id=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mr(r){return Id.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Qn=null;function oo(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ui=null,ci=null;function fi(r){var s=oi(r);if(s&&(r=s.stateNode)){var o=r[Pt]||null;e:switch(r=s.stateNode,s.type){case"input":if(ls(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+wt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var h=u[Pt]||null;if(!h)throw Error(i(90));ls(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&Ml(u)}break e;case"textarea":la(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Je(r,!!o.multiple,s,!1)}}}var Ll=!1;function jc(r,s,o){if(Ll)return r(s,o);Ll=!0;try{var u=r(s);return u}finally{if(Ll=!1,(ui!==null||ci!==null)&&(Of(),ui&&(s=ui,r=ci,ci=ui=null,fi(s),r)))for(s=0;s<r.length;s++)fi(r[s])}}function ua(r,s){var o=r.stateNode;if(o===null)return null;var u=o[Pt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var Yn=!1;if(Vn)try{var ca={};Object.defineProperty(ca,"passive",{get:function(){Yn=!0}}),window.addEventListener("test",ca,ca),window.removeEventListener("test",ca,ca)}catch{Yn=!1}var kr=null,cs=null,hi=null;function Pl(){if(hi)return hi;var r,s=cs,o=s.length,u,h="value"in kr?kr.value:kr.textContent,g=h.length;for(r=0;r<o&&s[r]===h[r];r++);var E=o-r;for(u=1;u<=E&&s[o-u]===h[g-u];u++);return hi=h.slice(r,1<u?1-u:void 0)}function Vr(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Lr(){return!0}function jl(){return!1}function Gt(r){function s(o,u,h,g,E){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(o=r[A],this[A]=o?o(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Lr:jl,this.isPropagationStopped=jl,this}return M(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Lr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Lr)},persist:function(){},isPersistent:Lr}),s}var nt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lo=Gt(nt),fa=M({},nt,{view:0,detail:0}),Uc=Gt(fa),uo,co,Pr,ha=M({},fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ma,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Pr&&(Pr&&r.type==="mousemove"?(uo=r.screenX-Pr.screenX,co=r.screenY-Pr.screenY):co=uo=0,Pr=r),uo)},movementY:function(r){return"movementY"in r?r.movementY:co}}),Xn=Gt(ha),Bc=M({},ha,{dataTransfer:0}),Od=Gt(Bc),da=M({},fa,{relatedTarget:0}),fo=Gt(da),Ul=M({},nt,{animationName:0,elapsedTime:0,pseudoElement:0}),ho=Gt(Ul),zc=M({},nt,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),po=Gt(zc),Nd=M({},nt,{data:0}),Bl=Gt(Nd),pa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=qc[r])?!!s[r]:!1}function ma(){return zl}var Fc=M({},fa,{key:function(r){if(r.key){var s=pa[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Vr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Hc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ma,charCode:function(r){return r.type==="keypress"?Vr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Vr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),mo=Gt(Fc),$c=M({},ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hl=Gt($c),di=M({},fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ma}),Gc=Gt(di),Kc=M({},nt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qc=Gt(Kc),Yc=M({},ha,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),go=Gt(Yc),vn=M({},nt,{newState:0,oldState:0}),Xc=Gt(vn),Wc=[9,13,27,32],jr=Vn&&"CompositionEvent"in window,f=null;Vn&&"documentMode"in document&&(f=document.documentMode);var y=Vn&&"TextEvent"in window&&!f,_=Vn&&(!jr||f&&8<f&&11>=f),C=" ",$=!1;function X(r,s){switch(r){case"keyup":return Wc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fe(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ke=!1;function jt(r,s){switch(r){case"compositionend":return fe(s);case"keypress":return s.which!==32?null:($=!0,C);case"textInput":return r=s.data,r===C&&$?null:r;default:return null}}function Qe(r,s){if(Ke)return r==="compositionend"||!jr&&X(r,s)?(r=Pl(),hi=cs=kr=null,Ke=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _&&s.locale!=="ko"?null:s.data;default:return null}}var Kt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ut(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Kt[r.type]:s==="textarea"}function pi(r,s,o,u){ui?ci?ci.push(u):ci=[u]:ui=u,s=Vf(s,"onChange"),0<s.length&&(o=new lo("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var tn=null,Ur=null;function ql(r){zE(r,0)}function Zc(r){var s=is(r);if(Ml(s))return r}function gv(r,s){if(r==="change")return s}var yv=!1;if(Vn){var Dd;if(Vn){var Md="oninput"in document;if(!Md){var vv=document.createElement("div");vv.setAttribute("oninput","return;"),Md=typeof vv.oninput=="function"}Dd=Md}else Dd=!1;yv=Dd&&(!document.documentMode||9<document.documentMode)}function _v(){tn&&(tn.detachEvent("onpropertychange",Ev),Ur=tn=null)}function Ev(r){if(r.propertyName==="value"&&Zc(Ur)){var s=[];pi(s,Ur,r,oo(r)),jc(ql,s)}}function SC(r,s,o){r==="focusin"?(_v(),tn=s,Ur=o,tn.attachEvent("onpropertychange",Ev)):r==="focusout"&&_v()}function AC(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Zc(Ur)}function RC(r,s){if(r==="click")return Zc(s)}function CC(r,s){if(r==="input"||r==="change")return Zc(s)}function xC(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Ln=typeof Object.is=="function"?Object.is:xC;function Fl(r,s){if(Ln(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!xr.call(s,h)||!Ln(r[h],s[h]))return!1}return!0}function Tv(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function bv(r,s){var o=Tv(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Tv(o)}}function wv(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?wv(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Sv(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=so(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=so(r.document)}return s}function kd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function IC(r,s){var o=Sv(s);s=r.focusedElem;var u=r.selectionRange;if(o!==s&&s&&s.ownerDocument&&wv(s.ownerDocument.documentElement,s)){if(u!==null&&kd(s)){if(r=u.start,o=u.end,o===void 0&&(o=r),"selectionStart"in s)s.selectionStart=r,s.selectionEnd=Math.min(o,s.value.length);else if(o=(r=s.ownerDocument||document)&&r.defaultView||window,o.getSelection){o=o.getSelection();var h=s.textContent.length,g=Math.min(u.start,h);u=u.end===void 0?g:Math.min(u.end,h),!o.extend&&g>u&&(h=u,u=g,g=h),h=bv(s,g);var E=bv(s,u);h&&E&&(o.rangeCount!==1||o.anchorNode!==h.node||o.anchorOffset!==h.offset||o.focusNode!==E.node||o.focusOffset!==E.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),o.removeAllRanges(),g>u?(o.addRange(r),o.extend(E.node,E.offset)):(r.setEnd(E.node,E.offset),o.addRange(r)))}}for(r=[],o=s;o=o.parentNode;)o.nodeType===1&&r.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<r.length;s++)o=r[s],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var OC=Vn&&"documentMode"in document&&11>=document.documentMode,yo=null,Vd=null,$l=null,Ld=!1;function Av(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ld||yo==null||yo!==so(u)||(u=yo,"selectionStart"in u&&kd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),$l&&Fl($l,u)||($l=u,u=Vf(Vd,"onSelect"),0<u.length&&(s=new lo("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=yo)))}function ga(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var vo={animationend:ga("Animation","AnimationEnd"),animationiteration:ga("Animation","AnimationIteration"),animationstart:ga("Animation","AnimationStart"),transitionrun:ga("Transition","TransitionRun"),transitionstart:ga("Transition","TransitionStart"),transitioncancel:ga("Transition","TransitionCancel"),transitionend:ga("Transition","TransitionEnd")},Pd={},Rv={};Vn&&(Rv=document.createElement("div").style,"AnimationEvent"in window||(delete vo.animationend.animation,delete vo.animationiteration.animation,delete vo.animationstart.animation),"TransitionEvent"in window||delete vo.transitionend.transition);function ya(r){if(Pd[r])return Pd[r];if(!vo[r])return r;var s=vo[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in Rv)return Pd[r]=s[o];return r}var Cv=ya("animationend"),xv=ya("animationiteration"),Iv=ya("animationstart"),NC=ya("transitionrun"),DC=ya("transitionstart"),MC=ya("transitioncancel"),Ov=ya("transitionend"),Nv=new Map,Dv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function gr(r,s){Nv.set(r,s),kn(s,[r])}var Wn=[],_o=0,jd=0;function Jc(){for(var r=_o,s=jd=_o=0;s<r;){var o=Wn[s];Wn[s++]=null;var u=Wn[s];Wn[s++]=null;var h=Wn[s];Wn[s++]=null;var g=Wn[s];if(Wn[s++]=null,u!==null&&h!==null){var E=u.pending;E===null?h.next=h:(h.next=E.next,E.next=h),u.pending=h}g!==0&&Mv(o,h,g)}}function ef(r,s,o,u){Wn[_o++]=r,Wn[_o++]=s,Wn[_o++]=o,Wn[_o++]=u,jd|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Ud(r,s,o,u){return ef(r,s,o,u),tf(r)}function fs(r,s){return ef(r,null,null,s),tf(r)}function Mv(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var h=!1,g=r.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(h=!0)),r=g,g=g.return;h&&s!==null&&r.tag===3&&(g=r.stateNode,h=31-gn(o),g=g.hiddenUpdates,r=g[h],r===null?g[h]=[s]:r.push(s),s.lane=o|536870912)}function tf(r){if(50<gu)throw gu=0,$p=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Eo={},kv=new WeakMap;function Zn(r,s){if(typeof r=="object"&&r!==null){var o=kv.get(r);return o!==void 0?o:(s={value:r,source:s,stack:he(s)},kv.set(r,s),s)}return{value:r,source:s,stack:he(s)}}var To=[],bo=0,nf=null,rf=0,Jn=[],er=0,va=null,mi=1,gi="";function _a(r,s){To[bo++]=rf,To[bo++]=nf,nf=r,rf=s}function Vv(r,s,o){Jn[er++]=mi,Jn[er++]=gi,Jn[er++]=va,va=r;var u=mi;r=gi;var h=32-gn(u)-1;u&=~(1<<h),o+=1;var g=32-gn(s)+h;if(30<g){var E=h-h%5;g=(u&(1<<E)-1).toString(32),u>>=E,h-=E,mi=1<<32-gn(s)+h|o<<h|u,gi=g+r}else mi=1<<g|o<<h|u,gi=r}function Bd(r){r.return!==null&&(_a(r,1),Vv(r,1,0))}function zd(r){for(;r===nf;)nf=To[--bo],To[bo]=null,rf=To[--bo],To[bo]=null;for(;r===va;)va=Jn[--er],Jn[er]=null,gi=Jn[--er],Jn[er]=null,mi=Jn[--er],Jn[er]=null}var _n=null,nn=null,et=!1,yr=null,Br=!1,Hd=Error(i(519));function Ea(r){var s=Error(i(418,""));throw Ql(Zn(s,r)),Hd}function Lv(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[$t]=r,s[Pt]=u,o){case"dialog":Fe("cancel",s),Fe("close",s);break;case"iframe":case"object":case"embed":Fe("load",s);break;case"video":case"audio":for(o=0;o<vu.length;o++)Fe(vu[o],s);break;case"source":Fe("error",s);break;case"img":case"image":case"link":Fe("error",s),Fe("load",s);break;case"details":Fe("toggle",s);break;case"input":Fe("invalid",s),oa(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),aa(s);break;case"select":Fe("invalid",s);break;case"textarea":Fe("invalid",s),us(s,u.value,u.defaultValue,u.children),aa(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||$E(s.textContent,o)?(u.popover!=null&&(Fe("beforetoggle",s),Fe("toggle",s)),u.onScroll!=null&&Fe("scroll",s),u.onScrollEnd!=null&&Fe("scrollend",s),u.onClick!=null&&(s.onclick=Lf),s=!0):s=!1,s||Ea(r)}function Pv(r){for(_n=r.return;_n;)switch(_n.tag){case 3:case 27:Br=!0;return;case 5:case 13:Br=!1;return;default:_n=_n.return}}function Gl(r){if(r!==_n)return!1;if(!et)return Pv(r),et=!0,!1;var s=!1,o;if((o=r.tag!==3&&r.tag!==27)&&((o=r.tag===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||lm(r.type,r.memoizedProps)),o=!o),o&&(s=!0),s&&nn&&Ea(r),Pv(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){nn=_r(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}nn=null}}else nn=_n?_r(r.stateNode.nextSibling):null;return!0}function Kl(){nn=_n=null,et=!1}function Ql(r){yr===null?yr=[r]:yr.push(r)}var Yl=Error(i(460)),jv=Error(i(474)),qd={then:function(){}};function Uv(r){return r=r.status,r==="fulfilled"||r==="rejected"}function sf(){}function Bv(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(sf,sf),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===Yl?Error(i(483)):r;default:if(typeof s.status=="string")s.then(sf,sf);else{if(r=ut,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=u}},function(u){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===Yl?Error(i(483)):r}throw Xl=s,Yl}}var Xl=null;function zv(){if(Xl===null)throw Error(i(459));var r=Xl;return Xl=null,r}var wo=null,Wl=0;function af(r){var s=Wl;return Wl+=1,wo===null&&(wo=[]),Bv(wo,r,s)}function Zl(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function of(r,s){throw s.$$typeof===l?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function Hv(r){var s=r._init;return s(r._payload)}function qv(r){function s(F,z){if(r){var K=F.deletions;K===null?(F.deletions=[z],F.flags|=16):K.push(z)}}function o(F,z){if(!r)return null;for(;z!==null;)s(F,z),z=z.sibling;return null}function u(F){for(var z=new Map;F!==null;)F.key!==null?z.set(F.key,F):z.set(F.index,F),F=F.sibling;return z}function h(F,z){return F=ws(F,z),F.index=0,F.sibling=null,F}function g(F,z,K){return F.index=K,r?(K=F.alternate,K!==null?(K=K.index,K<z?(F.flags|=33554434,z):K):(F.flags|=33554434,z)):(F.flags|=1048576,z)}function E(F){return r&&F.alternate===null&&(F.flags|=33554434),F}function A(F,z,K,te){return z===null||z.tag!==6?(z=Pp(K,F.mode,te),z.return=F,z):(z=h(z,K),z.return=F,z)}function V(F,z,K,te){var ye=K.type;return ye===p?J(F,z,K.props.children,te,K.key):z!==null&&(z.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===G&&Hv(ye)===z.type)?(z=h(z,K.props),Zl(z,K),z.return=F,z):(z=Af(K.type,K.key,K.props,null,F.mode,te),Zl(z,K),z.return=F,z)}function H(F,z,K,te){return z===null||z.tag!==4||z.stateNode.containerInfo!==K.containerInfo||z.stateNode.implementation!==K.implementation?(z=jp(K,F.mode,te),z.return=F,z):(z=h(z,K.children||[]),z.return=F,z)}function J(F,z,K,te,ye){return z===null||z.tag!==7?(z=Oa(K,F.mode,te,ye),z.return=F,z):(z=h(z,K),z.return=F,z)}function ae(F,z,K){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Pp(""+z,F.mode,K),z.return=F,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case c:return K=Af(z.type,z.key,z.props,null,F.mode,K),Zl(K,z),K.return=F,K;case d:return z=jp(z,F.mode,K),z.return=F,z;case G:var te=z._init;return z=te(z._payload),ae(F,z,K)}if(ue(z)||ee(z))return z=Oa(z,F.mode,K,null),z.return=F,z;if(typeof z.then=="function")return ae(F,af(z),K);if(z.$$typeof===R)return ae(F,bf(F,z),K);of(F,z)}return null}function Q(F,z,K,te){var ye=z!==null?z.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return ye!==null?null:A(F,z,""+K,te);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case c:return K.key===ye?V(F,z,K,te):null;case d:return K.key===ye?H(F,z,K,te):null;case G:return ye=K._init,K=ye(K._payload),Q(F,z,K,te)}if(ue(K)||ee(K))return ye!==null?null:J(F,z,K,te,null);if(typeof K.then=="function")return Q(F,z,af(K),te);if(K.$$typeof===R)return Q(F,z,bf(F,K),te);of(F,K)}return null}function Z(F,z,K,te,ye){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return F=F.get(K)||null,A(z,F,""+te,ye);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case c:return F=F.get(te.key===null?K:te.key)||null,V(z,F,te,ye);case d:return F=F.get(te.key===null?K:te.key)||null,H(z,F,te,ye);case G:var Ue=te._init;return te=Ue(te._payload),Z(F,z,K,te,ye)}if(ue(te)||ee(te))return F=F.get(K)||null,J(z,F,te,ye,null);if(typeof te.then=="function")return Z(F,z,K,af(te),ye);if(te.$$typeof===R)return Z(F,z,K,bf(z,te),ye);of(z,te)}return null}function Ee(F,z,K,te){for(var ye=null,Ue=null,Te=z,Ce=z=0,Xt=null;Te!==null&&Ce<K.length;Ce++){Te.index>Ce?(Xt=Te,Te=null):Xt=Te.sibling;var tt=Q(F,Te,K[Ce],te);if(tt===null){Te===null&&(Te=Xt);break}r&&Te&&tt.alternate===null&&s(F,Te),z=g(tt,z,Ce),Ue===null?ye=tt:Ue.sibling=tt,Ue=tt,Te=Xt}if(Ce===K.length)return o(F,Te),et&&_a(F,Ce),ye;if(Te===null){for(;Ce<K.length;Ce++)Te=ae(F,K[Ce],te),Te!==null&&(z=g(Te,z,Ce),Ue===null?ye=Te:Ue.sibling=Te,Ue=Te);return et&&_a(F,Ce),ye}for(Te=u(Te);Ce<K.length;Ce++)Xt=Z(Te,F,Ce,K[Ce],te),Xt!==null&&(r&&Xt.alternate!==null&&Te.delete(Xt.key===null?Ce:Xt.key),z=g(Xt,z,Ce),Ue===null?ye=Xt:Ue.sibling=Xt,Ue=Xt);return r&&Te.forEach(function(Os){return s(F,Os)}),et&&_a(F,Ce),ye}function Me(F,z,K,te){if(K==null)throw Error(i(151));for(var ye=null,Ue=null,Te=z,Ce=z=0,Xt=null,tt=K.next();Te!==null&&!tt.done;Ce++,tt=K.next()){Te.index>Ce?(Xt=Te,Te=null):Xt=Te.sibling;var Os=Q(F,Te,tt.value,te);if(Os===null){Te===null&&(Te=Xt);break}r&&Te&&Os.alternate===null&&s(F,Te),z=g(Os,z,Ce),Ue===null?ye=Os:Ue.sibling=Os,Ue=Os,Te=Xt}if(tt.done)return o(F,Te),et&&_a(F,Ce),ye;if(Te===null){for(;!tt.done;Ce++,tt=K.next())tt=ae(F,tt.value,te),tt!==null&&(z=g(tt,z,Ce),Ue===null?ye=tt:Ue.sibling=tt,Ue=tt);return et&&_a(F,Ce),ye}for(Te=u(Te);!tt.done;Ce++,tt=K.next())tt=Z(Te,F,Ce,tt.value,te),tt!==null&&(r&&tt.alternate!==null&&Te.delete(tt.key===null?Ce:tt.key),z=g(tt,z,Ce),Ue===null?ye=tt:Ue.sibling=tt,Ue=tt);return r&&Te.forEach(function(Kx){return s(F,Kx)}),et&&_a(F,Ce),ye}function Rt(F,z,K,te){if(typeof K=="object"&&K!==null&&K.type===p&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case c:e:{for(var ye=K.key;z!==null;){if(z.key===ye){if(ye=K.type,ye===p){if(z.tag===7){o(F,z.sibling),te=h(z,K.props.children),te.return=F,F=te;break e}}else if(z.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===G&&Hv(ye)===z.type){o(F,z.sibling),te=h(z,K.props),Zl(te,K),te.return=F,F=te;break e}o(F,z);break}else s(F,z);z=z.sibling}K.type===p?(te=Oa(K.props.children,F.mode,te,K.key),te.return=F,F=te):(te=Af(K.type,K.key,K.props,null,F.mode,te),Zl(te,K),te.return=F,F=te)}return E(F);case d:e:{for(ye=K.key;z!==null;){if(z.key===ye)if(z.tag===4&&z.stateNode.containerInfo===K.containerInfo&&z.stateNode.implementation===K.implementation){o(F,z.sibling),te=h(z,K.children||[]),te.return=F,F=te;break e}else{o(F,z);break}else s(F,z);z=z.sibling}te=jp(K,F.mode,te),te.return=F,F=te}return E(F);case G:return ye=K._init,K=ye(K._payload),Rt(F,z,K,te)}if(ue(K))return Ee(F,z,K,te);if(ee(K)){if(ye=ee(K),typeof ye!="function")throw Error(i(150));return K=ye.call(K),Me(F,z,K,te)}if(typeof K.then=="function")return Rt(F,z,af(K),te);if(K.$$typeof===R)return Rt(F,z,bf(F,K),te);of(F,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,z!==null&&z.tag===6?(o(F,z.sibling),te=h(z,K),te.return=F,F=te):(o(F,z),te=Pp(K,F.mode,te),te.return=F,F=te),E(F)):o(F,z)}return function(F,z,K,te){try{Wl=0;var ye=Rt(F,z,K,te);return wo=null,ye}catch(Te){if(Te===Yl)throw Te;var Ue=ir(29,Te,null,F.mode);return Ue.lanes=te,Ue.return=F,Ue}finally{}}}var Ta=qv(!0),Fv=qv(!1),So=Re(null),lf=Re(0);function $v(r,s){r=Ci,je(lf,r),je(So,s),Ci=r|s.baseLanes}function Fd(){je(lf,Ci),je(So,So.current)}function $d(){Ci=lf.current,We(So),We(lf)}var tr=Re(null),zr=null;function hs(r){var s=r.alternate;je(Bt,Bt.current&1),je(tr,r),zr===null&&(s===null||So.current!==null||s.memoizedState!==null)&&(zr=r)}function Gv(r){if(r.tag===22){if(je(Bt,Bt.current),je(tr,r),zr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(zr=r)}}else ds()}function ds(){je(Bt,Bt.current),je(tr,tr.current)}function yi(r){We(tr),zr===r&&(zr=null),We(Bt)}var Bt=Re(0);function uf(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var kC=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},VC=n.unstable_scheduleCallback,LC=n.unstable_NormalPriority,zt={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gd(){return{controller:new kC,data:new Map,refCount:0}}function Jl(r){r.refCount--,r.refCount===0&&VC(LC,function(){r.controller.abort()})}var eu=null,Kd=0,Ao=0,Ro=null;function PC(r,s){if(eu===null){var o=eu=[];Kd=0,Ao=Jp(),Ro={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Kd++,s.then(Kv,Kv),s}function Kv(){if(--Kd===0&&eu!==null){Ro!==null&&(Ro.status="fulfilled");var r=eu;eu=null,Ao=0,Ro=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function jC(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var h=0;h<o.length;h++)(0,o[h])(s)},function(h){for(u.status="rejected",u.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),u}var Qv=x.S;x.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&PC(r,s),Qv!==null&&Qv(r,s)};var ba=Re(null);function Qd(){var r=ba.current;return r!==null?r:ut.pooledCache}function cf(r,s){s===null?je(ba,ba.current):je(ba,s.pool)}function Yv(){var r=Qd();return r===null?null:{parent:zt._currentValue,pool:r}}var ps=0,Pe=null,st=null,Ot=null,ff=!1,Co=!1,wa=!1,hf=0,tu=0,xo=null,UC=0;function xt(){throw Error(i(321))}function Yd(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Ln(r[o],s[o]))return!1;return!0}function Xd(r,s,o,u,h,g){return ps=g,Pe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,x.H=r===null||r.memoizedState===null?Sa:ms,wa=!1,g=o(u,h),wa=!1,Co&&(g=Wv(s,o,u,h)),Xv(r),g}function Xv(r){x.H=Hr;var s=st!==null&&st.next!==null;if(ps=0,Ot=st=Pe=null,ff=!1,tu=0,xo=null,s)throw Error(i(300));r===null||Qt||(r=r.dependencies,r!==null&&Tf(r)&&(Qt=!0))}function Wv(r,s,o,u){Pe=r;var h=0;do{if(Co&&(xo=null),tu=0,Co=!1,25<=h)throw Error(i(301));if(h+=1,Ot=st=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}x.H=Aa,g=s(o,u)}while(Co);return g}function BC(){var r=x.H,s=r.useState()[0];return s=typeof s.then=="function"?nu(s):s,r=r.useState()[0],(st!==null?st.memoizedState:null)!==r&&(Pe.flags|=1024),s}function Wd(){var r=hf!==0;return hf=0,r}function Zd(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function Jd(r){if(ff){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ff=!1}ps=0,Ot=st=Pe=null,Co=!1,tu=hf=0,xo=null}function An(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Pe.memoizedState=Ot=r:Ot=Ot.next=r,Ot}function Nt(){if(st===null){var r=Pe.alternate;r=r!==null?r.memoizedState:null}else r=st.next;var s=Ot===null?Pe.memoizedState:Ot.next;if(s!==null)Ot=s,st=r;else{if(r===null)throw Pe.alternate===null?Error(i(467)):Error(i(310));st=r,r={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Ot===null?Pe.memoizedState=Ot=r:Ot=Ot.next=r}return Ot}var df;df=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function nu(r){var s=tu;return tu+=1,xo===null&&(xo=[]),r=Bv(xo,r,s),s=Pe,(Ot===null?s.memoizedState:Ot.next)===null&&(s=s.alternate,x.H=s===null||s.memoizedState===null?Sa:ms),r}function pf(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return nu(r);if(r.$$typeof===R)return un(r)}throw Error(i(438,String(r)))}function ep(r){var s=null,o=Pe.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Pe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=df(),Pe.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=Y;return s.index++,o}function vi(r,s){return typeof s=="function"?s(r):s}function mf(r){var s=Nt();return tp(s,st,r)}function tp(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var h=r.baseQueue,g=u.pending;if(g!==null){if(h!==null){var E=h.next;h.next=g.next,g.next=E}s.baseQueue=h=g,u.pending=null}if(g=r.baseState,h===null)r.memoizedState=g;else{s=h.next;var A=E=null,V=null,H=s,J=!1;do{var ae=H.lane&-536870913;if(ae!==H.lane?(Ye&ae)===ae:(ps&ae)===ae){var Q=H.revertLane;if(Q===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ae===Ao&&(J=!0);else if((ps&Q)===Q){H=H.next,Q===Ao&&(J=!0);continue}else ae={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},V===null?(A=V=ae,E=g):V=V.next=ae,Pe.lanes|=Q,Ss|=Q;ae=H.action,wa&&o(g,ae),g=H.hasEagerState?H.eagerState:o(g,ae)}else Q={lane:ae,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},V===null?(A=V=Q,E=g):V=V.next=Q,Pe.lanes|=ae,Ss|=ae;H=H.next}while(H!==null&&H!==s);if(V===null?E=g:V.next=A,!Ln(g,r.memoizedState)&&(Qt=!0,J&&(o=Ro,o!==null)))throw o;r.memoizedState=g,r.baseState=E,r.baseQueue=V,u.lastRenderedState=g}return h===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function np(r){var s=Nt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,h=o.pending,g=s.memoizedState;if(h!==null){o.pending=null;var E=h=h.next;do g=r(g,E.action),E=E.next;while(E!==h);Ln(g,s.memoizedState)||(Qt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function Zv(r,s,o){var u=Pe,h=Nt(),g=et;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=s();var E=!Ln((st||h).memoizedState,o);if(E&&(h.memoizedState=o,Qt=!0),h=h.queue,sp(t_.bind(null,u,h,r),[r]),h.getSnapshot!==s||E||Ot!==null&&Ot.memoizedState.tag&1){if(u.flags|=2048,Io(9,e_.bind(null,u,h,o,s),{destroy:void 0},null),ut===null)throw Error(i(349));g||(ps&60)!==0||Jv(u,s,o)}return o}function Jv(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Pe.updateQueue,s===null?(s=df(),Pe.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function e_(r,s,o,u){s.value=o,s.getSnapshot=u,n_(s)&&r_(r)}function t_(r,s,o){return o(function(){n_(s)&&r_(r)})}function n_(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Ln(r,o)}catch{return!0}}function r_(r){var s=fs(r,2);s!==null&&En(s,r,2)}function rp(r){var s=An();if(typeof r=="function"){var o=r;if(r=o(),wa){Fn(!0);try{o()}finally{Fn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:r},s}function i_(r,s,o,u){return r.baseState=o,tp(r,st,typeof u=="function"?u:vi)}function zC(r,s,o,u,h){if(vf(r))throw Error(i(485));if(r=s.action,r!==null){var g={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};x.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,s_(s,g)):(g.next=o.next,s.pending=o.next=g)}}function s_(r,s){var o=s.action,u=s.payload,h=r.state;if(s.isTransition){var g=x.T,E={};x.T=E;try{var A=o(h,u),V=x.S;V!==null&&V(E,A),a_(r,s,A)}catch(H){ip(r,s,H)}finally{x.T=g}}else try{g=o(h,u),a_(r,s,g)}catch(H){ip(r,s,H)}}function a_(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){o_(r,s,u)},function(u){return ip(r,s,u)}):o_(r,s,o)}function o_(r,s,o){s.status="fulfilled",s.value=o,l_(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,s_(r,o)))}function ip(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,l_(s),s=s.next;while(s!==u)}r.action=null}function l_(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function u_(r,s){return s}function c_(r,s){if(et){var o=ut.formState;if(o!==null){e:{var u=Pe;if(et){if(nn){t:{for(var h=nn,g=Br;h.nodeType!==8;){if(!g){h=null;break t}if(h=_r(h.nextSibling),h===null){h=null;break t}}g=h.data,h=g==="F!"||g==="F"?h:null}if(h){nn=_r(h.nextSibling),u=h.data==="F!";break e}}Ea(u)}u=!1}u&&(s=o[0])}}return o=An(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u_,lastRenderedState:s},o.queue=u,o=x_.bind(null,Pe,u),u.dispatch=o,u=rp(!1),g=cp.bind(null,Pe,!1,u.queue),u=An(),h={state:s,dispatch:null,action:r,pending:null},u.queue=h,o=zC.bind(null,Pe,h,g,o),h.dispatch=o,u.memoizedState=r,[s,o,!1]}function f_(r){var s=Nt();return h_(s,st,r)}function h_(r,s,o){s=tp(r,s,u_)[0],r=mf(vi)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?nu(s):s;var u=Nt(),h=u.queue,g=h.dispatch;return o!==u.memoizedState&&(Pe.flags|=2048,Io(9,HC.bind(null,h,o),{destroy:void 0},null)),[s,g,r]}function HC(r,s){r.action=s}function d_(r){var s=Nt(),o=st;if(o!==null)return h_(s,o,r);Nt(),s=s.memoizedState,o=Nt();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function Io(r,s,o,u){return r={tag:r,create:s,inst:o,deps:u,next:null},s=Pe.updateQueue,s===null&&(s=df(),Pe.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function p_(){return Nt().memoizedState}function gf(r,s,o,u){var h=An();Pe.flags|=r,h.memoizedState=Io(1|s,o,{destroy:void 0},u===void 0?null:u)}function yf(r,s,o,u){var h=Nt();u=u===void 0?null:u;var g=h.memoizedState.inst;st!==null&&u!==null&&Yd(u,st.memoizedState.deps)?h.memoizedState=Io(s,o,g,u):(Pe.flags|=r,h.memoizedState=Io(1|s,o,g,u))}function m_(r,s){gf(8390656,8,r,s)}function sp(r,s){yf(2048,8,r,s)}function g_(r,s){return yf(4,2,r,s)}function y_(r,s){return yf(4,4,r,s)}function v_(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function __(r,s,o){o=o!=null?o.concat([r]):null,yf(4,4,v_.bind(null,s,r),o)}function ap(){}function E_(r,s){var o=Nt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Yd(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function T_(r,s){var o=Nt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Yd(s,u[1]))return u[0];if(u=r(),wa){Fn(!0);try{r()}finally{Fn(!1)}}return o.memoizedState=[u,s],u}function op(r,s,o){return o===void 0||(ps&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=wE(),Pe.lanes|=r,Ss|=r,o)}function b_(r,s,o,u){return Ln(o,s)?o:So.current!==null?(r=op(r,o,u),Ln(r,s)||(Qt=!0),r):(ps&42)===0?(Qt=!0,r.memoizedState=o):(r=wE(),Pe.lanes|=r,Ss|=r,s)}function w_(r,s,o,u,h){var g=oe.p;oe.p=g!==0&&8>g?g:8;var E=x.T,A={};x.T=A,cp(r,!1,s,o);try{var V=h(),H=x.S;if(H!==null&&H(A,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var J=jC(V,u);ru(r,s,J,Bn(r))}else ru(r,s,u,Bn(r))}catch(ae){ru(r,s,{then:function(){},status:"rejected",reason:ae},Bn())}finally{oe.p=g,x.T=E}}function qC(){}function lp(r,s,o,u){if(r.tag!==5)throw Error(i(476));var h=S_(r).queue;w_(r,h,s,ve,o===null?qC:function(){return A_(r),o(u)})}function S_(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:ve},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function A_(r){var s=S_(r).next.queue;ru(r,s,{},Bn())}function up(){return un(wu)}function R_(){return Nt().memoizedState}function C_(){return Nt().memoizedState}function FC(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Bn();r=vs(o);var u=_s(s,r,o);u!==null&&(En(u,s,o),au(u,s,o)),s={cache:Gd()},r.payload=s;return}s=s.return}}function $C(r,s,o){var u=Bn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},vf(r)?I_(s,o):(o=Ud(r,s,o,u),o!==null&&(En(o,r,u),O_(o,s,u)))}function x_(r,s,o){var u=Bn();ru(r,s,o,u)}function ru(r,s,o,u){var h={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(vf(r))I_(s,h);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var E=s.lastRenderedState,A=g(E,o);if(h.hasEagerState=!0,h.eagerState=A,Ln(A,E))return ef(r,s,h,0),ut===null&&Jc(),!1}catch{}finally{}if(o=Ud(r,s,h,u),o!==null)return En(o,r,u),O_(o,s,u),!0}return!1}function cp(r,s,o,u){if(u={lane:2,revertLane:Jp(),action:u,hasEagerState:!1,eagerState:null,next:null},vf(r)){if(s)throw Error(i(479))}else s=Ud(r,o,u,2),s!==null&&En(s,r,2)}function vf(r){var s=r.alternate;return r===Pe||s!==null&&s===Pe}function I_(r,s){Co=ff=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function O_(r,s,o){if((o&4194176)!==0){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,ts(r,o)}}var Hr={readContext:un,use:pf,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt};Hr.useCacheRefresh=xt,Hr.useMemoCache=xt,Hr.useHostTransitionStatus=xt,Hr.useFormState=xt,Hr.useActionState=xt,Hr.useOptimistic=xt;var Sa={readContext:un,use:pf,useCallback:function(r,s){return An().memoizedState=[r,s===void 0?null:s],r},useContext:un,useEffect:m_,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,gf(4194308,4,v_.bind(null,s,r),o)},useLayoutEffect:function(r,s){return gf(4194308,4,r,s)},useInsertionEffect:function(r,s){gf(4,2,r,s)},useMemo:function(r,s){var o=An();s=s===void 0?null:s;var u=r();if(wa){Fn(!0);try{r()}finally{Fn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=An();if(o!==void 0){var h=o(s);if(wa){Fn(!0);try{o(s)}finally{Fn(!1)}}}else h=s;return u.memoizedState=u.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},u.queue=r,r=r.dispatch=$C.bind(null,Pe,r),[u.memoizedState,r]},useRef:function(r){var s=An();return r={current:r},s.memoizedState=r},useState:function(r){r=rp(r);var s=r.queue,o=x_.bind(null,Pe,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:ap,useDeferredValue:function(r,s){var o=An();return op(o,r,s)},useTransition:function(){var r=rp(!1);return r=w_.bind(null,Pe,r.queue,!0,!1),An().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=Pe,h=An();if(et){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),ut===null)throw Error(i(349));(Ye&60)!==0||Jv(u,s,o)}h.memoizedState=o;var g={value:o,getSnapshot:s};return h.queue=g,m_(t_.bind(null,u,g,r),[r]),u.flags|=2048,Io(9,e_.bind(null,u,g,o,s),{destroy:void 0},null),o},useId:function(){var r=An(),s=ut.identifierPrefix;if(et){var o=gi,u=mi;o=(u&~(1<<32-gn(u)-1)).toString(32)+o,s=":"+s+"R"+o,o=hf++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=UC++,s=":"+s+"r"+o.toString(32)+":";return r.memoizedState=s},useCacheRefresh:function(){return An().memoizedState=FC.bind(null,Pe)}};Sa.useMemoCache=ep,Sa.useHostTransitionStatus=up,Sa.useFormState=c_,Sa.useActionState=c_,Sa.useOptimistic=function(r){var s=An();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=cp.bind(null,Pe,!0,o),o.dispatch=s,[r,s]};var ms={readContext:un,use:pf,useCallback:E_,useContext:un,useEffect:sp,useImperativeHandle:__,useInsertionEffect:g_,useLayoutEffect:y_,useMemo:T_,useReducer:mf,useRef:p_,useState:function(){return mf(vi)},useDebugValue:ap,useDeferredValue:function(r,s){var o=Nt();return b_(o,st.memoizedState,r,s)},useTransition:function(){var r=mf(vi)[0],s=Nt().memoizedState;return[typeof r=="boolean"?r:nu(r),s]},useSyncExternalStore:Zv,useId:R_};ms.useCacheRefresh=C_,ms.useMemoCache=ep,ms.useHostTransitionStatus=up,ms.useFormState=f_,ms.useActionState=f_,ms.useOptimistic=function(r,s){var o=Nt();return i_(o,st,r,s)};var Aa={readContext:un,use:pf,useCallback:E_,useContext:un,useEffect:sp,useImperativeHandle:__,useInsertionEffect:g_,useLayoutEffect:y_,useMemo:T_,useReducer:np,useRef:p_,useState:function(){return np(vi)},useDebugValue:ap,useDeferredValue:function(r,s){var o=Nt();return st===null?op(o,r,s):b_(o,st.memoizedState,r,s)},useTransition:function(){var r=np(vi)[0],s=Nt().memoizedState;return[typeof r=="boolean"?r:nu(r),s]},useSyncExternalStore:Zv,useId:R_};Aa.useCacheRefresh=C_,Aa.useMemoCache=ep,Aa.useHostTransitionStatus=up,Aa.useFormState=d_,Aa.useActionState=d_,Aa.useOptimistic=function(r,s){var o=Nt();return st!==null?i_(o,st,r,s):(o.baseState=r,[r,o.queue.dispatch])};function fp(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:M({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var hp={isMounted:function(r){return(r=r._reactInternals)?ce(r)===r:!1},enqueueSetState:function(r,s,o){r=r._reactInternals;var u=Bn(),h=vs(u);h.payload=s,o!=null&&(h.callback=o),s=_s(r,h,u),s!==null&&(En(s,r,u),au(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=Bn(),h=vs(u);h.tag=1,h.payload=s,o!=null&&(h.callback=o),s=_s(r,h,u),s!==null&&(En(s,r,u),au(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Bn(),u=vs(o);u.tag=2,s!=null&&(u.callback=s),s=_s(r,u,o),s!==null&&(En(s,r,o),au(s,r,o))}};function N_(r,s,o,u,h,g,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,g,E):s.prototype&&s.prototype.isPureReactComponent?!Fl(o,u)||!Fl(h,g):!0}function D_(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&hp.enqueueReplaceState(s,s.state,null)}function Ra(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=M({},o));for(var h in r)o[h]===void 0&&(o[h]=r[h])}return o}var _f=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function M_(r){_f(r)}function k_(r){console.error(r)}function V_(r){_f(r)}function Ef(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function L_(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function dp(r,s,o){return o=vs(o),o.tag=3,o.payload={element:null},o.callback=function(){Ef(r,s)},o}function P_(r){return r=vs(r),r.tag=3,r}function j_(r,s,o,u){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var g=u.value;r.payload=function(){return h(g)},r.callback=function(){L_(s,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){L_(s,o,u),typeof h!="function"&&(As===null?As=new Set([this]):As.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function GC(r,s,o,u,h){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&su(s,o,h,!0),o=tr.current,o!==null){switch(o.tag){case 13:return zr===null?Qp():o.alternate===null&&At===0&&(At=3),o.flags&=-257,o.flags|=65536,o.lanes=h,u===qd?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Xp(r,u,h)),!1;case 22:return o.flags|=65536,u===qd?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Xp(r,u,h)),!1}throw Error(i(435,o.tag))}return Xp(r,u,h),Qp(),!1}if(et)return s=tr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,u!==Hd&&(r=Error(i(422),{cause:u}),Ql(Zn(r,o)))):(u!==Hd&&(s=Error(i(423),{cause:u}),Ql(Zn(s,o))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,u=Zn(u,o),h=dp(r.stateNode,u,h),xp(r,h),At!==4&&(At=2)),!1;var g=Error(i(520),{cause:u});if(g=Zn(g,o),pu===null?pu=[g]:pu.push(g),At!==4&&(At=2),s===null)return!0;u=Zn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=h&-h,o.lanes|=r,r=dp(o.stateNode,u,r),xp(o,r),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(As===null||!As.has(g))))return o.flags|=65536,h&=-h,o.lanes|=h,h=P_(h),j_(h,r,o,u),xp(o,h),!1}o=o.return}while(o!==null);return!1}var U_=Error(i(461)),Qt=!1;function rn(r,s,o,u){s.child=r===null?Fv(s,null,o,u):Ta(s,r.child,o,u)}function B_(r,s,o,u,h){o=o.render;var g=s.ref;if("ref"in u){var E={};for(var A in u)A!=="ref"&&(E[A]=u[A])}else E=u;return xa(s),u=Xd(r,s,o,E,g,h),A=Wd(),r!==null&&!Qt?(Zd(r,s,h),_i(r,s,h)):(et&&A&&Bd(s),s.flags|=1,rn(r,s,u,h),s.child)}function z_(r,s,o,u,h){if(r===null){var g=o.type;return typeof g=="function"&&!Lp(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,H_(r,s,g,u,h)):(r=Af(o.type,null,u,s,s.mode,h),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!bp(r,h)){var E=g.memoizedProps;if(o=o.compare,o=o!==null?o:Fl,o(E,u)&&r.ref===s.ref)return _i(r,s,h)}return s.flags|=1,r=ws(g,u),r.ref=s.ref,r.return=s,s.child=r}function H_(r,s,o,u,h){if(r!==null){var g=r.memoizedProps;if(Fl(g,u)&&r.ref===s.ref)if(Qt=!1,s.pendingProps=u=g,bp(r,h))(r.flags&131072)!==0&&(Qt=!0);else return s.lanes=r.lanes,_i(r,s,h)}return pp(r,s,o,u,h)}function q_(r,s,o){var u=s.pendingProps,h=u.children,g=(s.stateNode._pendingVisibility&2)!==0,E=r!==null?r.memoizedState:null;if(iu(r,s),u.mode==="hidden"||g){if((s.flags&128)!==0){if(u=E!==null?E.baseLanes|o:o,r!==null){for(h=s.child=r.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return F_(r,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&cf(s,E!==null?E.cachePool:null),E!==null?$v(s,E):Fd(),Gv(s);else return s.lanes=s.childLanes=536870912,F_(r,s,E!==null?E.baseLanes|o:o,o)}else E!==null?(cf(s,E.cachePool),$v(s,E),ds(),s.memoizedState=null):(r!==null&&cf(s,null),Fd(),ds());return rn(r,s,h,o),s.child}function F_(r,s,o,u){var h=Qd();return h=h===null?null:{parent:zt._currentValue,pool:h},s.memoizedState={baseLanes:o,cachePool:h},r!==null&&cf(s,null),Fd(),Gv(s),r!==null&&su(r,s,u,!0),null}function iu(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=2097664)}}function pp(r,s,o,u,h){return xa(s),o=Xd(r,s,o,u,void 0,h),u=Wd(),r!==null&&!Qt?(Zd(r,s,h),_i(r,s,h)):(et&&u&&Bd(s),s.flags|=1,rn(r,s,o,h),s.child)}function $_(r,s,o,u,h,g){return xa(s),s.updateQueue=null,o=Wv(s,u,o,h),Xv(r),u=Wd(),r!==null&&!Qt?(Zd(r,s,g),_i(r,s,g)):(et&&u&&Bd(s),s.flags|=1,rn(r,s,o,g),s.child)}function G_(r,s,o,u,h){if(xa(s),s.stateNode===null){var g=Eo,E=o.contextType;typeof E=="object"&&E!==null&&(g=un(E)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=hp,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},Rp(s),E=o.contextType,g.context=typeof E=="object"&&E!==null?un(E):Eo,g.state=s.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(fp(s,o,E,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&hp.enqueueReplaceState(g,g.state,null),lu(s,u,g,h),ou(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){g=s.stateNode;var A=s.memoizedProps,V=Ra(o,A);g.props=V;var H=g.context,J=o.contextType;E=Eo,typeof J=="object"&&J!==null&&(E=un(J));var ae=o.getDerivedStateFromProps;J=typeof ae=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,J||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||H!==E)&&D_(s,g,u,E),ys=!1;var Q=s.memoizedState;g.state=Q,lu(s,u,g,h),ou(),H=s.memoizedState,A||Q!==H||ys?(typeof ae=="function"&&(fp(s,o,ae,u),H=s.memoizedState),(V=ys||N_(s,o,V,u,Q,H,E))?(J||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=H),g.props=u,g.state=H,g.context=E,u=V):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,Cp(r,s),E=s.memoizedProps,J=Ra(o,E),g.props=J,ae=s.pendingProps,Q=g.context,H=o.contextType,V=Eo,typeof H=="object"&&H!==null&&(V=un(H)),A=o.getDerivedStateFromProps,(H=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==ae||Q!==V)&&D_(s,g,u,V),ys=!1,Q=s.memoizedState,g.state=Q,lu(s,u,g,h),ou();var Z=s.memoizedState;E!==ae||Q!==Z||ys||r!==null&&r.dependencies!==null&&Tf(r.dependencies)?(typeof A=="function"&&(fp(s,o,A,u),Z=s.memoizedState),(J=ys||N_(s,o,J,u,Q,Z,V)||r!==null&&r.dependencies!==null&&Tf(r.dependencies))?(H||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,Z,V),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,Z,V)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===r.memoizedProps&&Q===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&Q===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Z),g.props=u,g.state=Z,g.context=V,u=J):(typeof g.componentDidUpdate!="function"||E===r.memoizedProps&&Q===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&Q===r.memoizedState||(s.flags|=1024),u=!1)}return g=u,iu(r,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,r!==null&&u?(s.child=Ta(s,r.child,null,h),s.child=Ta(s,null,o,h)):rn(r,s,o,h),s.memoizedState=g.state,r=s.child):r=_i(r,s,h),r}function K_(r,s,o,u){return Kl(),s.flags|=256,rn(r,s,o,u),s.child}var mp={dehydrated:null,treeContext:null,retryLane:0};function gp(r){return{baseLanes:r,cachePool:Yv()}}function yp(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=sr),r}function Q_(r,s,o){var u=s.pendingProps,h=!1,g=(s.flags&128)!==0,E;if((E=g)||(E=r!==null&&r.memoizedState===null?!1:(Bt.current&2)!==0),E&&(h=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,r===null){if(et){if(h?hs(s):ds(),et){var A=nn,V;if(V=A){e:{for(V=A,A=Br;V.nodeType!==8;){if(!A){A=null;break e}if(V=_r(V.nextSibling),V===null){A=null;break e}}A=V}A!==null?(s.memoizedState={dehydrated:A,treeContext:va!==null?{id:mi,overflow:gi}:null,retryLane:536870912},V=ir(18,null,null,0),V.stateNode=A,V.return=s,s.child=V,_n=s,nn=null,V=!0):V=!1}V||Ea(s)}if(A=s.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return A.data==="$!"?s.lanes=16:s.lanes=536870912,null;yi(s)}return A=u.children,u=u.fallback,h?(ds(),h=s.mode,A=_p({mode:"hidden",children:A},h),u=Oa(u,h,o,null),A.return=s,u.return=s,A.sibling=u,s.child=A,h=s.child,h.memoizedState=gp(o),h.childLanes=yp(r,E,o),s.memoizedState=mp,u):(hs(s),vp(s,A))}if(V=r.memoizedState,V!==null&&(A=V.dehydrated,A!==null)){if(g)s.flags&256?(hs(s),s.flags&=-257,s=Ep(r,s,o)):s.memoizedState!==null?(ds(),s.child=r.child,s.flags|=128,s=null):(ds(),h=u.fallback,A=s.mode,u=_p({mode:"visible",children:u.children},A),h=Oa(h,A,o,null),h.flags|=2,u.return=s,h.return=s,u.sibling=h,s.child=u,Ta(s,r.child,null,o),u=s.child,u.memoizedState=gp(o),u.childLanes=yp(r,E,o),s.memoizedState=mp,s=h);else if(hs(s),A.data==="$!"){if(E=A.nextSibling&&A.nextSibling.dataset,E)var H=E.dgst;E=H,u=Error(i(419)),u.stack="",u.digest=E,Ql({value:u,source:null,stack:null}),s=Ep(r,s,o)}else if(Qt||su(r,s,o,!1),E=(o&r.childLanes)!==0,Qt||E){if(E=ut,E!==null){if(u=o&-o,(u&42)!==0)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=(u&(E.suspendedLanes|o))!==0?0:u,u!==0&&u!==V.retryLane)throw V.retryLane=u,fs(r,u),En(E,r,u),U_}A.data==="$?"||Qp(),s=Ep(r,s,o)}else A.data==="$?"?(s.flags|=128,s.child=r.child,s=ox.bind(null,r),A._reactRetry=s,s=null):(r=V.treeContext,nn=_r(A.nextSibling),_n=s,et=!0,yr=null,Br=!1,r!==null&&(Jn[er++]=mi,Jn[er++]=gi,Jn[er++]=va,mi=r.id,gi=r.overflow,va=s),s=vp(s,u.children),s.flags|=4096);return s}return h?(ds(),h=u.fallback,A=s.mode,V=r.child,H=V.sibling,u=ws(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&31457280,H!==null?h=ws(H,h):(h=Oa(h,A,o,null),h.flags|=2),h.return=s,u.return=s,u.sibling=h,s.child=u,u=h,h=s.child,A=r.child.memoizedState,A===null?A=gp(o):(V=A.cachePool,V!==null?(H=zt._currentValue,V=V.parent!==H?{parent:H,pool:H}:V):V=Yv(),A={baseLanes:A.baseLanes|o,cachePool:V}),h.memoizedState=A,h.childLanes=yp(r,E,o),s.memoizedState=mp,u):(hs(s),o=r.child,r=o.sibling,o=ws(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(E=s.deletions,E===null?(s.deletions=[r],s.flags|=16):E.push(r)),s.child=o,s.memoizedState=null,o)}function vp(r,s){return s=_p({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function _p(r,s){return EE(r,s,0,null)}function Ep(r,s,o){return Ta(s,r.child,null,o),r=vp(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Y_(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),Sp(r.return,s,o)}function Tp(r,s,o,u,h){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=h)}function X_(r,s,o){var u=s.pendingProps,h=u.revealOrder,g=u.tail;if(rn(r,s,u.children,o),u=Bt.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Y_(r,o,s);else if(r.tag===19)Y_(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(je(Bt,u),h){case"forwards":for(o=s.child,h=null;o!==null;)r=o.alternate,r!==null&&uf(r)===null&&(h=o),o=o.sibling;o=h,o===null?(h=s.child,s.child=null):(h=o.sibling,o.sibling=null),Tp(s,!1,h,o,g);break;case"backwards":for(o=null,h=s.child,s.child=null;h!==null;){if(r=h.alternate,r!==null&&uf(r)===null){s.child=h;break}r=h.sibling,h.sibling=o,o=h,h=r}Tp(s,!0,o,null,g);break;case"together":Tp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function _i(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),Ss|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(su(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=ws(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=ws(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function bp(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Tf(r)))}function KC(r,s,o){switch(s.tag){case 3:Le(s,s.stateNode.containerInfo),gs(s,zt,r.memoizedState.cache),Kl();break;case 27:case 5:bn(s);break;case 4:Le(s,s.stateNode.containerInfo);break;case 10:gs(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(hs(s),s.flags|=128,null):(o&s.child.childLanes)!==0?Q_(r,s,o):(hs(s),r=_i(r,s,o),r!==null?r.sibling:null);hs(s);break;case 19:var h=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(su(r,s,o,!1),u=(o&s.childLanes)!==0),h){if(u)return X_(r,s,o);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),je(Bt,Bt.current),u)break;return null;case 22:case 23:return s.lanes=0,q_(r,s,o);case 24:gs(s,zt,r.memoizedState.cache)}return _i(r,s,o)}function W_(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)Qt=!0;else{if(!bp(r,o)&&(s.flags&128)===0)return Qt=!1,KC(r,s,o);Qt=(r.flags&131072)!==0}else Qt=!1,et&&(s.flags&1048576)!==0&&Vv(s,rf,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var u=s.elementType,h=u._init;if(u=h(u._payload),s.type=u,typeof u=="function")Lp(u)?(r=Ra(u,r),s.tag=1,s=G_(null,s,u,r,o)):(s.tag=0,s=pp(null,s,u,r,o));else{if(u!=null){if(h=u.$$typeof,h===I){s.tag=11,s=B_(null,s,u,r,o);break e}else if(h===B){s.tag=14,s=z_(null,s,u,r,o);break e}}throw s=O(u)||u,Error(i(306,s,""))}}return s;case 0:return pp(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,h=Ra(u,s.pendingProps),G_(r,s,u,h,o);case 3:e:{if(Le(s,s.stateNode.containerInfo),r===null)throw Error(i(387));var g=s.pendingProps;h=s.memoizedState,u=h.element,Cp(r,s),lu(s,g,null,o);var E=s.memoizedState;if(g=E.cache,gs(s,zt,g),g!==h.cache&&Ap(s,[zt],o,!0),ou(),g=E.element,h.isDehydrated)if(h={element:g,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=h,s.memoizedState=h,s.flags&256){s=K_(r,s,g,o);break e}else if(g!==u){u=Zn(Error(i(424)),s),Ql(u),s=K_(r,s,g,o);break e}else for(nn=_r(s.stateNode.containerInfo.firstChild),_n=s,et=!0,yr=null,Br=!0,o=Fv(s,null,g,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Kl(),g===u){s=_i(r,s,o);break e}rn(r,s,g,o)}s=s.child}return s;case 26:return iu(r,s),r===null?(o=eT(s.type,null,s.pendingProps,null))?s.memoizedState=o:et||(o=s.type,r=s.pendingProps,u=Pf(mt.current).createElement(o),u[$t]=s,u[Pt]=r,sn(u,o,r),vt(u),s.stateNode=u):s.memoizedState=eT(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return bn(s),r===null&&et&&(u=s.stateNode=WE(s.type,s.pendingProps,mt.current),_n=s,Br=!0,nn=_r(u.firstChild)),u=s.pendingProps.children,r!==null||et?rn(r,s,u,o):s.child=Ta(s,null,u,o),iu(r,s),s.child;case 5:return r===null&&et&&((h=u=nn)&&(u=wx(u,s.type,s.pendingProps,Br),u!==null?(s.stateNode=u,_n=s,nn=_r(u.firstChild),Br=!1,h=!0):h=!1),h||Ea(s)),bn(s),h=s.type,g=s.pendingProps,E=r!==null?r.memoizedProps:null,u=g.children,lm(h,g)?u=null:E!==null&&lm(h,E)&&(s.flags|=32),s.memoizedState!==null&&(h=Xd(r,s,BC,null,null,o),wu._currentValue=h),iu(r,s),rn(r,s,u,o),s.child;case 6:return r===null&&et&&((r=o=nn)&&(o=Sx(o,s.pendingProps,Br),o!==null?(s.stateNode=o,_n=s,nn=null,r=!0):r=!1),r||Ea(s)),null;case 13:return Q_(r,s,o);case 4:return Le(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=Ta(s,null,u,o):rn(r,s,u,o),s.child;case 11:return B_(r,s,s.type,s.pendingProps,o);case 7:return rn(r,s,s.pendingProps,o),s.child;case 8:return rn(r,s,s.pendingProps.children,o),s.child;case 12:return rn(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,gs(s,s.type,u.value),rn(r,s,u.children,o),s.child;case 9:return h=s.type._context,u=s.pendingProps.children,xa(s),h=un(h),u=u(h),s.flags|=1,rn(r,s,u,o),s.child;case 14:return z_(r,s,s.type,s.pendingProps,o);case 15:return H_(r,s,s.type,s.pendingProps,o);case 19:return X_(r,s,o);case 22:return q_(r,s,o);case 24:return xa(s),u=un(zt),r===null?(h=Qd(),h===null&&(h=ut,g=Gd(),h.pooledCache=g,g.refCount++,g!==null&&(h.pooledCacheLanes|=o),h=g),s.memoizedState={parent:u,cache:h},Rp(s),gs(s,zt,h)):((r.lanes&o)!==0&&(Cp(r,s),lu(s,null,null,o),ou()),h=r.memoizedState,g=s.memoizedState,h.parent!==u?(h={parent:u,cache:u},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),gs(s,zt,u)):(u=g.cache,gs(s,zt,u),u!==h.cache&&Ap(s,[zt],o,!0))),rn(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}var wp=Re(null),Ca=null,Ei=null;function gs(r,s,o){je(wp,s._currentValue),s._currentValue=o}function Ti(r){r._currentValue=wp.current,We(wp)}function Sp(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function Ap(r,s,o,u){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var g=h.dependencies;if(g!==null){var E=h.child;g=g.firstContext;e:for(;g!==null;){var A=g;g=h;for(var V=0;V<s.length;V++)if(A.context===s[V]){g.lanes|=o,A=g.alternate,A!==null&&(A.lanes|=o),Sp(g.return,o,r),u||(E=null);break e}g=A.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(i(341));E.lanes|=o,g=E.alternate,g!==null&&(g.lanes|=o),Sp(E,o,r),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===r){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function su(r,s,o,u){r=null;for(var h=s,g=!1;h!==null;){if(!g){if((h.flags&524288)!==0)g=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var A=h.type;Ln(h.pendingProps.value,E.value)||(r!==null?r.push(A):r=[A])}}else if(h===Ft.current){if(E=h.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(wu):r=[wu])}h=h.return}r!==null&&Ap(s,r,o,u),s.flags|=262144}function Tf(r){for(r=r.firstContext;r!==null;){if(!Ln(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function xa(r){Ca=r,Ei=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function un(r){return Z_(Ca,r)}function bf(r,s){return Ca===null&&xa(r),Z_(r,s)}function Z_(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Ei===null){if(r===null)throw Error(i(308));Ei=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Ei=Ei.next=s;return o}var ys=!1;function Rp(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cp(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function vs(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function _s(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(Et&2)!==0){var h=u.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),u.pending=s,s=tf(r),Mv(r,null,o),s}return ef(r,u,s,o),tf(r)}function au(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194176)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,ts(r,o)}}function xp(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?h=g=E:g=g.next=E,o=o.next}while(o!==null);g===null?h=g=s:g=g.next=s}else h=g=s;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var Ip=!1;function ou(){if(Ip){var r=Ro;if(r!==null)throw r}}function lu(r,s,o,u){Ip=!1;var h=r.updateQueue;ys=!1;var g=h.firstBaseUpdate,E=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var V=A,H=V.next;V.next=null,E===null?g=H:E.next=H,E=V;var J=r.alternate;J!==null&&(J=J.updateQueue,A=J.lastBaseUpdate,A!==E&&(A===null?J.firstBaseUpdate=H:A.next=H,J.lastBaseUpdate=V))}if(g!==null){var ae=h.baseState;E=0,J=H=V=null,A=g;do{var Q=A.lane&-536870913,Z=Q!==A.lane;if(Z?(Ye&Q)===Q:(u&Q)===Q){Q!==0&&Q===Ao&&(Ip=!0),J!==null&&(J=J.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Ee=r,Me=A;Q=s;var Rt=o;switch(Me.tag){case 1:if(Ee=Me.payload,typeof Ee=="function"){ae=Ee.call(Rt,ae,Q);break e}ae=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Me.payload,Q=typeof Ee=="function"?Ee.call(Rt,ae,Q):Ee,Q==null)break e;ae=M({},ae,Q);break e;case 2:ys=!0}}Q=A.callback,Q!==null&&(r.flags|=64,Z&&(r.flags|=8192),Z=h.callbacks,Z===null?h.callbacks=[Q]:Z.push(Q))}else Z={lane:Q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},J===null?(H=J=Z,V=ae):J=J.next=Z,E|=Q;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;Z=A,A=Z.next,Z.next=null,h.lastBaseUpdate=Z,h.shared.pending=null}}while(!0);J===null&&(V=ae),h.baseState=V,h.firstBaseUpdate=H,h.lastBaseUpdate=J,g===null&&(h.shared.lanes=0),Ss|=E,r.lanes=E,r.memoizedState=ae}}function J_(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function eE(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)J_(o[r],s)}function uu(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var h=u.next;o=h;do{if((o.tag&r)===r){u=void 0;var g=o.create,E=o.inst;u=g(),E.destroy=u}o=o.next}while(o!==h)}}catch(A){ot(s,s.return,A)}}function Es(r,s,o){try{var u=s.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var g=h.next;u=g;do{if((u.tag&r)===r){var E=u.inst,A=E.destroy;if(A!==void 0){E.destroy=void 0,h=s;var V=o;try{A()}catch(H){ot(h,V,H)}}}u=u.next}while(u!==g)}}catch(H){ot(s,s.return,H)}}function tE(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{eE(s,o)}catch(u){ot(r,r.return,u)}}}function nE(r,s,o){o.props=Ra(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){ot(r,s,u)}}function Ia(r,s){try{var o=r.ref;if(o!==null){var u=r.stateNode;switch(r.tag){case 26:case 27:case 5:var h=u;break;default:h=u}typeof o=="function"?r.refCleanup=o(h):o.current=h}}catch(g){ot(r,s,g)}}function Pn(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(h){ot(r,s,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){ot(r,s,h)}else o.current=null}function rE(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(h){ot(r,r.return,h)}}function iE(r,s,o){try{var u=r.stateNode;vx(u,r.type,o,s),u[Pt]=s}catch(h){ot(r,r.return,h)}}function sE(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27||r.tag===4}function Op(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||sE(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==27&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Np(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(r,s):o.insertBefore(r,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(r,o)):(s=o,s.appendChild(r)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Lf));else if(u!==4&&u!==27&&(r=r.child,r!==null))for(Np(r,s,o),r=r.sibling;r!==null;)Np(r,s,o),r=r.sibling}function wf(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&u!==27&&(r=r.child,r!==null))for(wf(r,s,o),r=r.sibling;r!==null;)wf(r,s,o),r=r.sibling}var bi=!1,St=!1,Dp=!1,aE=typeof WeakSet=="function"?WeakSet:Set,Yt=null,oE=!1;function QC(r,s){if(r=r.containerInfo,am=qf,r=Sv(r),kd(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var E=0,A=-1,V=-1,H=0,J=0,ae=r,Q=null;t:for(;;){for(var Z;ae!==o||h!==0&&ae.nodeType!==3||(A=E+h),ae!==g||u!==0&&ae.nodeType!==3||(V=E+u),ae.nodeType===3&&(E+=ae.nodeValue.length),(Z=ae.firstChild)!==null;)Q=ae,ae=Z;for(;;){if(ae===r)break t;if(Q===o&&++H===h&&(A=E),Q===g&&++J===u&&(V=E),(Z=ae.nextSibling)!==null)break;ae=Q,Q=ae.parentNode}ae=Z}o=A===-1||V===-1?null:{start:A,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(om={focusedElem:r,selectionRange:o},qf=!1,Yt=s;Yt!==null;)if(s=Yt,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,Yt=r;else for(;Yt!==null;){switch(s=Yt,g=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,o=s,h=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var Ee=Ra(o.type,h,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(Ee,g),u.__reactInternalSnapshotBeforeUpdate=r}catch(Me){ot(o,o.return,Me)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)fm(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":fm(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,Yt=r;break}Yt=s.return}return Ee=oE,oE=!1,Ee}function lE(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Si(r,o),u&4&&uu(5,o);break;case 1:if(Si(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(A){ot(o,o.return,A)}else{var h=Ra(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(h,s,r.__reactInternalSnapshotBeforeUpdate)}catch(A){ot(o,o.return,A)}}u&64&&tE(o),u&512&&Ia(o,o.return);break;case 3:if(Si(r,o),u&64&&(u=o.updateQueue,u!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{eE(u,r)}catch(A){ot(o,o.return,A)}}break;case 26:Si(r,o),u&512&&Ia(o,o.return);break;case 27:case 5:Si(r,o),s===null&&u&4&&rE(o),u&512&&Ia(o,o.return);break;case 12:Si(r,o);break;case 13:Si(r,o),u&4&&fE(r,o);break;case 22:if(h=o.memoizedState!==null||bi,!h){s=s!==null&&s.memoizedState!==null||St;var g=bi,E=St;bi=h,(St=s)&&!E?Ts(r,o,(o.subtreeFlags&8772)!==0):Si(r,o),bi=g,St=E}u&512&&(o.memoizedProps.mode==="manual"?Ia(o,o.return):Pn(o,o.return));break;default:Si(r,o)}}function uE(r){var s=r.alternate;s!==null&&(r.alternate=null,uE(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&sa(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Dt=null,jn=!1;function wi(r,s,o){for(o=o.child;o!==null;)cE(r,s,o),o=o.sibling}function cE(r,s,o){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(qe,o)}catch{}switch(o.tag){case 26:St||Pn(o,s),wi(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:St||Pn(o,s);var u=Dt,h=jn;for(Dt=o.stateNode,wi(r,s,o),o=o.stateNode,s=o.attributes;s.length;)o.removeAttributeNode(s[0]);sa(o),Dt=u,jn=h;break;case 5:St||Pn(o,s);case 6:h=Dt;var g=jn;if(Dt=null,wi(r,s,o),Dt=h,jn=g,Dt!==null)if(jn)try{r=Dt,u=o.stateNode,r.nodeType===8?r.parentNode.removeChild(u):r.removeChild(u)}catch(E){ot(o,s,E)}else try{Dt.removeChild(o.stateNode)}catch(E){ot(o,s,E)}break;case 18:Dt!==null&&(jn?(s=Dt,o=o.stateNode,s.nodeType===8?cm(s.parentNode,o):s.nodeType===1&&cm(s,o),Cu(s)):cm(Dt,o.stateNode));break;case 4:u=Dt,h=jn,Dt=o.stateNode.containerInfo,jn=!0,wi(r,s,o),Dt=u,jn=h;break;case 0:case 11:case 14:case 15:St||Es(2,o,s),St||Es(4,o,s),wi(r,s,o);break;case 1:St||(Pn(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&nE(o,s,u)),wi(r,s,o);break;case 21:wi(r,s,o);break;case 22:St||Pn(o,s),St=(u=St)||o.memoizedState!==null,wi(r,s,o),St=u;break;default:wi(r,s,o)}}function fE(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Cu(r)}catch(o){ot(s,s.return,o)}}function YC(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new aE),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new aE),s;default:throw Error(i(435,r.tag))}}function Mp(r,s){var o=YC(r);s.forEach(function(u){var h=lx.bind(null,r,u);o.has(u)||(o.add(u),u.then(h,h))})}function nr(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u],g=r,E=s,A=E;e:for(;A!==null;){switch(A.tag){case 27:case 5:Dt=A.stateNode,jn=!1;break e;case 3:Dt=A.stateNode.containerInfo,jn=!0;break e;case 4:Dt=A.stateNode.containerInfo,jn=!0;break e}A=A.return}if(Dt===null)throw Error(i(160));cE(g,E,h),Dt=null,jn=!1,g=h.alternate,g!==null&&(g.return=null),h.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)hE(s,r),s=s.sibling}var vr=null;function hE(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:nr(s,r),rr(r),u&4&&(Es(3,r,r.return),uu(3,r),Es(5,r,r.return));break;case 1:nr(s,r),rr(r),u&512&&(St||o===null||Pn(o,o.return)),u&64&&bi&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var h=vr;if(nr(s,r),rr(r),u&512&&(St||o===null||Pn(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":g=h.getElementsByTagName("title")[0],(!g||g[rs]||g[$t]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=h.createElement(u),h.head.insertBefore(g,h.querySelector("head > title"))),sn(g,u,o),g[$t]=r,vt(g),u=g;break e;case"link":var E=rT("link","href",h).get(u+(o.href||""));if(E){for(var A=0;A<E.length;A++)if(g=E[A],g.getAttribute("href")===(o.href==null?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(A,1);break t}}g=h.createElement(u),sn(g,u,o),h.head.appendChild(g);break;case"meta":if(E=rT("meta","content",h).get(u+(o.content||""))){for(A=0;A<E.length;A++)if(g=E[A],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(A,1);break t}}g=h.createElement(u),sn(g,u,o),h.head.appendChild(g);break;default:throw Error(i(468,u))}g[$t]=r,vt(g),u=g}r.stateNode=u}else iT(h,r.type,r.stateNode);else r.stateNode=nT(h,u,r.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?iT(h,r.type,r.stateNode):nT(h,u,r.memoizedProps)):u===null&&r.stateNode!==null&&iE(r,r.memoizedProps,o.memoizedProps)}break;case 27:if(u&4&&r.alternate===null){h=r.stateNode,g=r.memoizedProps;try{for(var V=h.firstChild;V;){var H=V.nextSibling,J=V.nodeName;V[rs]||J==="HEAD"||J==="BODY"||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&V.rel.toLowerCase()==="stylesheet"||h.removeChild(V),V=H}for(var ae=r.type,Q=h.attributes;Q.length;)h.removeAttributeNode(Q[0]);sn(h,ae,g),h[$t]=r,h[Pt]=g}catch(Ee){ot(r,r.return,Ee)}}case 5:if(nr(s,r),rr(r),u&512&&(St||o===null||Pn(o,o.return)),r.flags&32){h=r.stateNode;try{Kn(h,"")}catch(Ee){ot(r,r.return,Ee)}}u&4&&r.stateNode!=null&&(h=r.memoizedProps,iE(r,h,o!==null?o.memoizedProps:h)),u&1024&&(Dp=!0);break;case 6:if(nr(s,r),rr(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(Ee){ot(r,r.return,Ee)}}break;case 3:if(Bf=null,h=vr,vr=jf(s.containerInfo),nr(s,r),vr=h,rr(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Cu(s.containerInfo)}catch(Ee){ot(r,r.return,Ee)}Dp&&(Dp=!1,dE(r));break;case 4:u=vr,vr=jf(r.stateNode.containerInfo),nr(s,r),rr(r),vr=u;break;case 12:nr(s,r),rr(r);break;case 13:nr(s,r),rr(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Hp=gt()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Mp(r,u)));break;case 22:if(u&512&&(St||o===null||Pn(o,o.return)),V=r.memoizedState!==null,H=o!==null&&o.memoizedState!==null,J=bi,ae=St,bi=J||V,St=ae||H,nr(s,r),St=ae,bi=J,rr(r),s=r.stateNode,s._current=r,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,u&8192&&(s._visibility=V?s._visibility&-2:s._visibility|1,V&&(s=bi||St,o===null||H||s||Oo(r)),r.memoizedProps===null||r.memoizedProps.mode!=="manual"))e:for(o=null,s=r;;){if(s.tag===5||s.tag===26||s.tag===27){if(o===null){H=o=s;try{if(h=H.stateNode,V)g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=H.stateNode,A=H.memoizedProps.style;var Z=A!=null&&A.hasOwnProperty("display")?A.display:null;E.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(Ee){ot(H,H.return,Ee)}}}else if(s.tag===6){if(o===null){H=s;try{H.stateNode.nodeValue=V?"":H.memoizedProps}catch(Ee){ot(H,H.return,Ee)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Mp(r,o))));break;case 19:nr(s,r),rr(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Mp(r,u)));break;case 21:break;default:nr(s,r),rr(r)}}function rr(r){var s=r.flags;if(s&2){try{if(r.tag!==27){e:{for(var o=r.return;o!==null;){if(sE(o)){var u=o;break e}o=o.return}throw Error(i(160))}switch(u.tag){case 27:var h=u.stateNode,g=Op(r);wf(r,g,h);break;case 5:var E=u.stateNode;u.flags&32&&(Kn(E,""),u.flags&=-33);var A=Op(r);wf(r,A,E);break;case 3:case 4:var V=u.stateNode.containerInfo,H=Op(r);Np(r,H,V);break;default:throw Error(i(161))}}}catch(J){ot(r,r.return,J)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function dE(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;dE(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Si(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)lE(r,s.alternate,s),s=s.sibling}function Oo(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Es(4,s,s.return),Oo(s);break;case 1:Pn(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&nE(s,s.return,o),Oo(s);break;case 26:case 27:case 5:Pn(s,s.return),Oo(s);break;case 22:Pn(s,s.return),s.memoizedState===null&&Oo(s);break;default:Oo(s)}r=r.sibling}}function Ts(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,h=r,g=s,E=g.flags;switch(g.tag){case 0:case 11:case 15:Ts(h,g,o),uu(4,g);break;case 1:if(Ts(h,g,o),u=g,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){ot(u,u.return,H)}if(u=g,h=u.updateQueue,h!==null){var A=u.stateNode;try{var V=h.shared.hiddenCallbacks;if(V!==null)for(h.shared.hiddenCallbacks=null,h=0;h<V.length;h++)J_(V[h],A)}catch(H){ot(u,u.return,H)}}o&&E&64&&tE(g),Ia(g,g.return);break;case 26:case 27:case 5:Ts(h,g,o),o&&u===null&&E&4&&rE(g),Ia(g,g.return);break;case 12:Ts(h,g,o);break;case 13:Ts(h,g,o),o&&E&4&&fE(h,g);break;case 22:g.memoizedState===null&&Ts(h,g,o),Ia(g,g.return);break;default:Ts(h,g,o)}s=s.sibling}}function kp(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Jl(o))}function Vp(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Jl(r))}function bs(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)pE(r,s,o,u),s=s.sibling}function pE(r,s,o,u){var h=s.flags;switch(s.tag){case 0:case 11:case 15:bs(r,s,o,u),h&2048&&uu(9,s);break;case 3:bs(r,s,o,u),h&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Jl(r)));break;case 12:if(h&2048){bs(r,s,o,u),r=s.stateNode;try{var g=s.memoizedProps,E=g.id,A=g.onPostCommit;typeof A=="function"&&A(E,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(V){ot(s,s.return,V)}}else bs(r,s,o,u);break;case 23:break;case 22:g=s.stateNode,s.memoizedState!==null?g._visibility&4?bs(r,s,o,u):cu(r,s):g._visibility&4?bs(r,s,o,u):(g._visibility|=4,No(r,s,o,u,(s.subtreeFlags&10256)!==0)),h&2048&&kp(s.alternate,s);break;case 24:bs(r,s,o,u),h&2048&&Vp(s.alternate,s);break;default:bs(r,s,o,u)}}function No(r,s,o,u,h){for(h=h&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=r,E=s,A=o,V=u,H=E.flags;switch(E.tag){case 0:case 11:case 15:No(g,E,A,V,h),uu(8,E);break;case 23:break;case 22:var J=E.stateNode;E.memoizedState!==null?J._visibility&4?No(g,E,A,V,h):cu(g,E):(J._visibility|=4,No(g,E,A,V,h)),h&&H&2048&&kp(E.alternate,E);break;case 24:No(g,E,A,V,h),h&&H&2048&&Vp(E.alternate,E);break;default:No(g,E,A,V,h)}s=s.sibling}}function cu(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,h=u.flags;switch(u.tag){case 22:cu(o,u),h&2048&&kp(u.alternate,u);break;case 24:cu(o,u),h&2048&&Vp(u.alternate,u);break;default:cu(o,u)}s=s.sibling}}var fu=8192;function Do(r){if(r.subtreeFlags&fu)for(r=r.child;r!==null;)mE(r),r=r.sibling}function mE(r){switch(r.tag){case 26:Do(r),r.flags&fu&&r.memoizedState!==null&&Px(vr,r.memoizedState,r.memoizedProps);break;case 5:Do(r);break;case 3:case 4:var s=vr;vr=jf(r.stateNode.containerInfo),Do(r),vr=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=fu,fu=16777216,Do(r),fu=s):Do(r));break;default:Do(r)}}function gE(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function hu(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Yt=u,vE(u,r)}gE(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)yE(r),r=r.sibling}function yE(r){switch(r.tag){case 0:case 11:case 15:hu(r),r.flags&2048&&Es(9,r,r.return);break;case 3:hu(r);break;case 12:hu(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&4&&(r.return===null||r.return.tag!==13)?(s._visibility&=-5,Sf(r)):hu(r);break;default:hu(r)}}function Sf(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Yt=u,vE(u,r)}gE(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Es(8,s,s.return),Sf(s);break;case 22:o=s.stateNode,o._visibility&4&&(o._visibility&=-5,Sf(s));break;default:Sf(s)}r=r.sibling}}function vE(r,s){for(;Yt!==null;){var o=Yt;switch(o.tag){case 0:case 11:case 15:Es(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Jl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Yt=u;else e:for(o=r;Yt!==null;){u=Yt;var h=u.sibling,g=u.return;if(uE(u),u===o){Yt=null;break e}if(h!==null){h.return=g,Yt=h;break e}Yt=g}}}function XC(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ir(r,s,o,u){return new XC(r,s,o,u)}function Lp(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ws(r,s){var o=r.alternate;return o===null?(o=ir(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&31457280,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function _E(r,s){r.flags&=31457282;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Af(r,s,o,u,h,g){var E=0;if(u=r,typeof r=="function")Lp(r)&&(E=1);else if(typeof r=="string")E=Vx(r,o,Ze.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case p:return Oa(o.children,h,g,s);case m:E=8,h|=24;break;case v:return r=ir(12,o,s,h|2),r.elementType=v,r.lanes=g,r;case j:return r=ir(13,o,s,h),r.elementType=j,r.lanes=g,r;case N:return r=ir(19,o,s,h),r.elementType=N,r.lanes=g,r;case q:return EE(o,h,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case b:case R:E=10;break e;case S:E=9;break e;case I:E=11;break e;case B:E=14;break e;case G:E=16,u=null;break e}E=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=ir(E,o,s,h),s.elementType=r,s.type=u,s.lanes=g,s}function Oa(r,s,o,u){return r=ir(7,r,u,s),r.lanes=o,r}function EE(r,s,o,u){r=ir(22,r,u,s),r.elementType=q,r.lanes=o;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var g=h._current;if(g===null)throw Error(i(456));if((h._pendingVisibility&2)===0){var E=fs(g,2);E!==null&&(h._pendingVisibility|=2,En(E,g,2))}},attach:function(){var g=h._current;if(g===null)throw Error(i(456));if((h._pendingVisibility&2)!==0){var E=fs(g,2);E!==null&&(h._pendingVisibility&=-3,En(E,g,2))}}};return r.stateNode=h,r}function Pp(r,s,o){return r=ir(6,r,null,s),r.lanes=o,r}function jp(r,s,o){return s=ir(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function Ai(r){r.flags|=4}function TE(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!sT(s)){if(s=tr.current,s!==null&&((Ye&4194176)===Ye?zr!==null:(Ye&62914560)!==Ye&&(Ye&536870912)===0||s!==zr))throw Xl=qd,jv;r.flags|=8192}}function Rf(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Ji():536870912,r.lanes|=s,ko|=s)}function du(r,s){if(!et)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function _t(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&31457280,u|=h.flags&31457280,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function WC(r,s,o){var u=s.pendingProps;switch(zd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(s),null;case 1:return _t(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Ti(zt),Jt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Gl(s)?Ai(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,yr!==null&&(Gp(yr),yr=null))),_t(s),null;case 26:return o=s.memoizedState,r===null?(Ai(s),o!==null?(_t(s),TE(s,o)):(_t(s),s.flags&=-16777217)):o?o!==r.memoizedState?(Ai(s),_t(s),TE(s,o)):(_t(s),s.flags&=-16777217):(r.memoizedProps!==u&&Ai(s),_t(s),s.flags&=-16777217),null;case 27:Cr(s),o=mt.current;var h=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Ai(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return _t(s),null}r=Ze.current,Gl(s)?Lv(s):(r=WE(h,u,o),s.stateNode=r,Ai(s))}return _t(s),null;case 5:if(Cr(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Ai(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return _t(s),null}if(r=Ze.current,Gl(s))Lv(s);else{switch(h=Pf(mt.current),r){case 1:r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=h.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?h.createElement(o,{is:u.is}):h.createElement(o)}}r[$t]=s,r[Pt]=u;e:for(h=s.child;h!==null;){if(h.tag===5||h.tag===6)r.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break e;for(;h.sibling===null;){if(h.return===null||h.return===s)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}s.stateNode=r;e:switch(sn(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Ai(s)}}return _t(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&Ai(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=mt.current,Gl(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,h=_n,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}r[$t]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||$E(r.nodeValue,o)),r||Ea(s)}else r=Pf(r).createTextNode(u),r[$t]=s,s.stateNode=r}return _t(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=Gl(s),u!==null&&u.dehydrated!==null){if(r===null){if(!h)throw Error(i(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[$t]=s}else Kl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;_t(s),h=!1}else yr!==null&&(Gp(yr),yr=null),h=!0;if(!h)return s.flags&256?(yi(s),s):(yi(s),null)}if(yi(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=s.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==h&&(u.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),Rf(s,s.updateQueue),_t(s),null;case 4:return Jt(),r===null&&rm(s.stateNode.containerInfo),_t(s),null;case 10:return Ti(s.type),_t(s),null;case 19:if(We(Bt),h=s.memoizedState,h===null)return _t(s),null;if(u=(s.flags&128)!==0,g=h.rendering,g===null)if(u)du(h,!1);else{if(At!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(g=uf(r),g!==null){for(s.flags|=128,du(h,!1),r=g.updateQueue,s.updateQueue=r,Rf(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)_E(o,r),o=o.sibling;return je(Bt,Bt.current&1|2),s.child}r=r.sibling}h.tail!==null&&gt()>Cf&&(s.flags|=128,u=!0,du(h,!1),s.lanes=4194304)}else{if(!u)if(r=uf(g),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,Rf(s,r),du(h,!0),h.tail===null&&h.tailMode==="hidden"&&!g.alternate&&!et)return _t(s),null}else 2*gt()-h.renderingStartTime>Cf&&o!==536870912&&(s.flags|=128,u=!0,du(h,!1),s.lanes=4194304);h.isBackwards?(g.sibling=s.child,s.child=g):(r=h.last,r!==null?r.sibling=g:s.child=g,h.last=g)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=gt(),s.sibling=null,r=Bt.current,je(Bt,u?r&1|2:r&1),s):(_t(s),null);case 22:case 23:return yi(s),$d(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(_t(s),s.subtreeFlags&6&&(s.flags|=8192)):_t(s),o=s.updateQueue,o!==null&&Rf(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&We(ba),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Ti(zt),_t(s),null;case 25:return null}throw Error(i(156,s.tag))}function ZC(r,s){switch(zd(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ti(zt),Jt(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Cr(s),null;case 13:if(yi(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Kl()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return We(Bt),null;case 4:return Jt(),null;case 10:return Ti(s.type),null;case 22:case 23:return yi(s),$d(),r!==null&&We(ba),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Ti(zt),null;case 25:return null;default:return null}}function bE(r,s){switch(zd(s),s.tag){case 3:Ti(zt),Jt();break;case 26:case 27:case 5:Cr(s);break;case 4:Jt();break;case 13:yi(s);break;case 19:We(Bt);break;case 10:Ti(s.type);break;case 22:case 23:yi(s),$d(),r!==null&&We(ba);break;case 24:Ti(zt)}}var JC={getCacheForType:function(r){var s=un(zt),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},ex=typeof WeakMap=="function"?WeakMap:Map,Et=0,ut=null,Be=null,Ye=0,ct=0,Un=null,Ri=!1,Mo=!1,Up=!1,Ci=0,At=0,Ss=0,Na=0,Bp=0,sr=0,ko=0,pu=null,qr=null,zp=!1,Hp=0,Cf=1/0,xf=null,As=null,If=!1,Da=null,mu=0,qp=0,Fp=null,gu=0,$p=null;function Bn(){if((Et&2)!==0&&Ye!==0)return Ye&-Ye;if(x.T!==null){var r=Ao;return r!==0?r:Jp()}return kc()}function wE(){sr===0&&(sr=(Ye&536870912)===0||et?xl():536870912);var r=tr.current;return r!==null&&(r.flags|=32),sr}function En(r,s,o){(r===ut&&ct===2||r.cancelPendingCommit!==null)&&(Vo(r,0),xi(r,Ye,sr,!1)),Ct(r,o),((Et&2)===0||r!==ut)&&(r===ut&&((Et&2)===0&&(Na|=o),At===4&&xi(r,Ye,sr,!1)),Fr(r))}function SE(r,s,o){if((Et&6)!==0)throw Error(i(327));var u=!o&&(s&60)===0&&(s&r.expiredLanes)===0||Zi(r,s),h=u?rx(r,s):Yp(r,s,!0),g=u;do{if(h===0){Mo&&!u&&xi(r,s,0,!1);break}else if(h===6)xi(r,s,0,!Ri);else{if(o=r.current.alternate,g&&!tx(o)){h=Yp(r,s,!1),g=!1;continue}if(h===2){if(g=s,r.errorRecoveryDisabledLanes&g)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var A=r;h=pu;var V=A.current.memoizedState.isDehydrated;if(V&&(Vo(A,E).flags|=256),E=Yp(A,E,!1),E!==2){if(Up&&!V){A.errorRecoveryDisabledLanes|=g,Na|=g,h=4;break e}g=qr,qr=h,g!==null&&Gp(g)}h=E}if(g=!1,h!==2)continue}}if(h===1){Vo(r,0),xi(r,s,0,!0);break}e:{switch(u=r,h){case 0:case 1:throw Error(i(345));case 4:if((s&4194176)===s){xi(u,s,sr,!Ri);break e}break;case 2:qr=null;break;case 3:case 5:break;default:throw Error(i(329))}if(u.finishedWork=o,u.finishedLanes=s,(s&62914560)===s&&(g=Hp+300-gt(),10<g)){if(xi(u,s,sr,!Ri),$n(u,0)!==0)break e;u.timeoutHandle=QE(AE.bind(null,u,o,qr,xf,zp,s,sr,Na,ko,Ri,2,-0,0),g);break e}AE(u,o,qr,xf,zp,s,sr,Na,ko,Ri,0,-0,0)}}break}while(!0);Fr(r)}function Gp(r){qr===null?qr=r:qr.push.apply(qr,r)}function AE(r,s,o,u,h,g,E,A,V,H,J,ae,Q){var Z=s.subtreeFlags;if((Z&8192||(Z&16785408)===16785408)&&(bu={stylesheets:null,count:0,unsuspend:Lx},mE(s),s=jx(),s!==null)){r.cancelPendingCommit=s(DE.bind(null,r,o,u,h,E,A,V,1,ae,Q)),xi(r,g,E,!H);return}DE(r,o,u,h,E,A,V,J,ae,Q)}function tx(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var h=o[u],g=h.getSnapshot;h=h.value;try{if(!Ln(g(),h))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function xi(r,s,o,u){s&=~Bp,s&=~Na,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var h=s;0<h;){var g=31-gn(h),E=1<<g;u[g]=-1,h&=~E}o!==0&&es(r,o,s)}function Of(){return(Et&6)===0?(yu(0),!1):!0}function Kp(){if(Be!==null){if(ct===0)var r=Be.return;else r=Be,Ei=Ca=null,Jd(r),wo=null,Wl=0,r=Be;for(;r!==null;)bE(r.alternate,r),r=r.return;Be=null}}function Vo(r,s){r.finishedWork=null,r.finishedLanes=0;var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,Ex(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Kp(),ut=r,Be=o=ws(r.current,null),Ye=s,ct=0,Un=null,Ri=!1,Mo=Zi(r,s),Up=!1,ko=sr=Bp=Na=Ss=At=0,qr=pu=null,zp=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var h=31-gn(u),g=1<<h;s|=r[h],u&=~g}return Ci=s,Jc(),o}function RE(r,s){Pe=null,x.H=Hr,s===Yl?(s=zv(),ct=3):s===jv?(s=zv(),ct=4):ct=s===U_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Un=s,Be===null&&(At=1,Ef(r,Zn(s,r.current)))}function CE(){var r=x.H;return x.H=Hr,r===null?Hr:r}function xE(){var r=x.A;return x.A=JC,r}function Qp(){At=4,Ri||(Ye&4194176)!==Ye&&tr.current!==null||(Mo=!0),(Ss&134217727)===0&&(Na&134217727)===0||ut===null||xi(ut,Ye,sr,!1)}function Yp(r,s,o){var u=Et;Et|=2;var h=CE(),g=xE();(ut!==r||Ye!==s)&&(xf=null,Vo(r,s)),s=!1;var E=At;e:do try{if(ct!==0&&Be!==null){var A=Be,V=Un;switch(ct){case 8:Kp(),E=6;break e;case 3:case 2:case 6:tr.current===null&&(s=!0);var H=ct;if(ct=0,Un=null,Lo(r,A,V,H),o&&Mo){E=0;break e}break;default:H=ct,ct=0,Un=null,Lo(r,A,V,H)}}nx(),E=At;break}catch(J){RE(r,J)}while(!0);return s&&r.shellSuspendCounter++,Ei=Ca=null,Et=u,x.H=h,x.A=g,Be===null&&(ut=null,Ye=0,Jc()),E}function nx(){for(;Be!==null;)IE(Be)}function rx(r,s){var o=Et;Et|=2;var u=CE(),h=xE();ut!==r||Ye!==s?(xf=null,Cf=gt()+500,Vo(r,s)):Mo=Zi(r,s);e:do try{if(ct!==0&&Be!==null){s=Be;var g=Un;t:switch(ct){case 1:ct=0,Un=null,Lo(r,s,g,1);break;case 2:if(Uv(g)){ct=0,Un=null,OE(s);break}s=function(){ct===2&&ut===r&&(ct=7),Fr(r)},g.then(s,s);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:Uv(g)?(ct=0,Un=null,OE(s)):(ct=0,Un=null,Lo(r,s,g,7));break;case 5:var E=null;switch(Be.tag){case 26:E=Be.memoizedState;case 5:case 27:var A=Be;if(!E||sT(E)){ct=0,Un=null;var V=A.sibling;if(V!==null)Be=V;else{var H=A.return;H!==null?(Be=H,Nf(H)):Be=null}break t}}ct=0,Un=null,Lo(r,s,g,5);break;case 6:ct=0,Un=null,Lo(r,s,g,6);break;case 8:Kp(),At=6;break e;default:throw Error(i(462))}}ix();break}catch(J){RE(r,J)}while(!0);return Ei=Ca=null,x.H=u,x.A=h,Et=o,Be!==null?0:(ut=null,Ye=0,Jc(),At)}function ix(){for(;Be!==null&&!Xi();)IE(Be)}function IE(r){var s=W_(r.alternate,r,Ci);r.memoizedProps=r.pendingProps,s===null?Nf(r):Be=s}function OE(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=$_(o,s,s.pendingProps,s.type,void 0,Ye);break;case 11:s=$_(o,s,s.pendingProps,s.type.render,s.ref,Ye);break;case 5:Jd(s);default:bE(o,s),s=Be=_E(s,Ci),s=W_(o,s,Ci)}r.memoizedProps=r.pendingProps,s===null?Nf(r):Be=s}function Lo(r,s,o,u){Ei=Ca=null,Jd(s),wo=null,Wl=0;var h=s.return;try{if(GC(r,h,s,o,Ye)){At=1,Ef(r,Zn(o,r.current)),Be=null;return}}catch(g){if(h!==null)throw Be=h,g;At=1,Ef(r,Zn(o,r.current)),Be=null;return}s.flags&32768?(et||u===1?r=!0:Mo||(Ye&536870912)!==0?r=!1:(Ri=r=!0,(u===2||u===3||u===6)&&(u=tr.current,u!==null&&u.tag===13&&(u.flags|=16384))),NE(s,r)):Nf(s)}function Nf(r){var s=r;do{if((s.flags&32768)!==0){NE(s,Ri);return}r=s.return;var o=WC(s.alternate,s,Ci);if(o!==null){Be=o;return}if(s=s.sibling,s!==null){Be=s;return}Be=s=r}while(s!==null);At===0&&(At=5)}function NE(r,s){do{var o=ZC(r.alternate,r);if(o!==null){o.flags&=32767,Be=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Be=r;return}Be=r=o}while(r!==null);At=6,Be=null}function DE(r,s,o,u,h,g,E,A,V,H){var J=x.T,ae=oe.p;try{oe.p=2,x.T=null,sx(r,s,o,u,ae,h,g,E,A,V,H)}finally{x.T=J,oe.p=ae}}function sx(r,s,o,u,h,g,E,A){do Po();while(Da!==null);if((Et&6)!==0)throw Error(i(327));var V=r.finishedWork;if(u=r.finishedLanes,V===null)return null;if(r.finishedWork=null,r.finishedLanes=0,V===r.current)throw Error(i(177));r.callbackNode=null,r.callbackPriority=0,r.cancelPendingCommit=null;var H=V.lanes|V.childLanes;if(H|=jd,Dc(r,u,H,g,E,A),r===ut&&(Be=ut=null,Ye=0),(V.subtreeFlags&10256)===0&&(V.flags&10256)===0||If||(If=!0,qp=H,Fp=o,ux(wn,function(){return Po(),null})),o=(V.flags&15990)!==0,(V.subtreeFlags&15990)!==0||o?(o=x.T,x.T=null,g=oe.p,oe.p=2,E=Et,Et|=4,QC(r,V),hE(V,r),IC(om,r.containerInfo),qf=!!am,om=am=null,r.current=V,lE(r,V.alternate,V),hr(),Et=E,oe.p=g,x.T=o):r.current=V,If?(If=!1,Da=r,mu=u):ME(r,H),H=r.pendingLanes,H===0&&(As=null),dr(V.stateNode),Fr(r),s!==null)for(h=r.onRecoverableError,V=0;V<s.length;V++)H=s[V],h(H.value,{componentStack:H.stack});return(mu&3)!==0&&Po(),H=r.pendingLanes,(u&4194218)!==0&&(H&42)!==0?r===$p?gu++:(gu=0,$p=r):gu=0,yu(0),null}function ME(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Jl(s)))}function Po(){if(Da!==null){var r=Da,s=qp;qp=0;var o=Mc(mu),u=x.T,h=oe.p;try{if(oe.p=32>o?32:o,x.T=null,Da===null)var g=!1;else{o=Fp,Fp=null;var E=Da,A=mu;if(Da=null,mu=0,(Et&6)!==0)throw Error(i(331));var V=Et;if(Et|=4,yE(E.current),pE(E,E.current,A,o),Et=V,yu(0,!1),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(qe,E)}catch{}g=!0}return g}finally{oe.p=h,x.T=u,ME(r,s)}}return!1}function kE(r,s,o){s=Zn(o,s),s=dp(r.stateNode,s,2),r=_s(r,s,2),r!==null&&(Ct(r,2),Fr(r))}function ot(r,s,o){if(r.tag===3)kE(r,r,o);else for(;s!==null;){if(s.tag===3){kE(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(As===null||!As.has(u))){r=Zn(o,r),o=P_(2),u=_s(s,o,2),u!==null&&(j_(o,u,s,r),Ct(u,2),Fr(u));break}}s=s.return}}function Xp(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new ex;var h=new Set;u.set(s,h)}else h=u.get(s),h===void 0&&(h=new Set,u.set(s,h));h.has(o)||(Up=!0,h.add(o),r=ax.bind(null,r,s,o),s.then(r,r))}function ax(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,ut===r&&(Ye&o)===o&&(At===4||At===3&&(Ye&62914560)===Ye&&300>gt()-Hp?(Et&2)===0&&Vo(r,0):Bp|=o,ko===Ye&&(ko=0)),Fr(r)}function VE(r,s){s===0&&(s=Ji()),r=fs(r,s),r!==null&&(Ct(r,s),Fr(r))}function ox(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),VE(r,o)}function lx(r,s){var o=0;switch(r.tag){case 13:var u=r.stateNode,h=r.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),VE(r,o)}function ux(r,s){return en(r,s)}var Df=null,jo=null,Wp=!1,Mf=!1,Zp=!1,Ma=0;function Fr(r){r!==jo&&r.next===null&&(jo===null?Df=jo=r:jo=jo.next=r),Mf=!0,Wp||(Wp=!0,fx(cx))}function yu(r,s){if(!Zp&&Mf){Zp=!0;do for(var o=!1,u=Df;u!==null;){if(r!==0){var h=u.pendingLanes;if(h===0)var g=0;else{var E=u.suspendedLanes,A=u.pingedLanes;g=(1<<31-gn(42|r)+1)-1,g&=h&~(E&~A),g=g&201326677?g&201326677|1:g?g|2:0}g!==0&&(o=!0,jE(u,g))}else g=Ye,g=$n(u,u===ut?g:0),(g&3)===0||Zi(u,g)||(o=!0,jE(u,g));u=u.next}while(o);Zp=!1}}function cx(){Mf=Wp=!1;var r=0;Ma!==0&&(_x()&&(r=Ma),Ma=0);for(var s=gt(),o=null,u=Df;u!==null;){var h=u.next,g=LE(u,s);g===0?(u.next=null,o===null?Df=h:o.next=h,h===null&&(jo=o)):(o=u,(r!==0||(g&3)!==0)&&(Mf=!0)),u=h}yu(r)}function LE(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,h=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var E=31-gn(g),A=1<<E,V=h[E];V===-1?((A&o)===0||(A&u)!==0)&&(h[E]=to(A,s)):V<=s&&(r.expiredLanes|=A),g&=~A}if(s=ut,o=Ye,o=$n(r,r===s?o:0),u=r.callbackNode,o===0||r===s&&ct===2||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Mn(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Zi(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&Mn(u),Mc(o)){case 2:case 8:o=yt;break;case 32:o=wn;break;case 268435456:o=si;break;default:o=wn}return u=PE.bind(null,r),o=en(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&Mn(u),r.callbackPriority=2,r.callbackNode=null,2}function PE(r,s){var o=r.callbackNode;if(Po()&&r.callbackNode!==o)return null;var u=Ye;return u=$n(r,r===ut?u:0),u===0?null:(SE(r,u,s),LE(r,gt()),r.callbackNode!=null&&r.callbackNode===o?PE.bind(null,r):null)}function jE(r,s){if(Po())return null;SE(r,s,!0)}function fx(r){Tx(function(){(Et&6)!==0?en(dt,r):r()})}function Jp(){return Ma===0&&(Ma=xl()),Ma}function UE(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Mr(""+r)}function BE(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function hx(r,s,o,u,h){if(s==="submit"&&o&&o.stateNode===h){var g=UE((h[Pt]||null).action),E=u.submitter;E&&(s=(s=E[Pt]||null)?UE(s.formAction):E.getAttribute("formAction"),s!==null&&(g=s,E=null));var A=new lo("action","action",null,u,h);r.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ma!==0){var V=E?BE(h,E):new FormData(h);lp(o,{pending:!0,data:V,method:h.method,action:g},null,V)}}else typeof g=="function"&&(A.preventDefault(),V=E?BE(h,E):new FormData(h),lp(o,{pending:!0,data:V,method:h.method,action:g},g,V))},currentTarget:h}]})}}for(var em=0;em<Dv.length;em++){var tm=Dv[em],dx=tm.toLowerCase(),px=tm[0].toUpperCase()+tm.slice(1);gr(dx,"on"+px)}gr(Cv,"onAnimationEnd"),gr(xv,"onAnimationIteration"),gr(Iv,"onAnimationStart"),gr("dblclick","onDoubleClick"),gr("focusin","onFocus"),gr("focusout","onBlur"),gr(NC,"onTransitionRun"),gr(DC,"onTransitionStart"),gr(MC,"onTransitionCancel"),gr(Ov,"onTransitionEnd"),Sn("onMouseEnter",["mouseout","mouseover"]),Sn("onMouseLeave",["mouseout","mouseover"]),Sn("onPointerEnter",["pointerout","pointerover"]),Sn("onPointerLeave",["pointerout","pointerover"]),kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vu));function zE(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],h=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var E=u.length-1;0<=E;E--){var A=u[E],V=A.instance,H=A.currentTarget;if(A=A.listener,V!==g&&h.isPropagationStopped())break e;g=A,h.currentTarget=H;try{g(h)}catch(J){_f(J)}h.currentTarget=null,g=V}else for(E=0;E<u.length;E++){if(A=u[E],V=A.instance,H=A.currentTarget,A=A.listener,V!==g&&h.isPropagationStopped())break e;g=A,h.currentTarget=H;try{g(h)}catch(J){_f(J)}h.currentTarget=null,g=V}}}}function Fe(r,s){var o=s[ia];o===void 0&&(o=s[ia]=new Set);var u=r+"__bubble";o.has(u)||(HE(s,r,2,!1),o.add(u))}function nm(r,s,o){var u=0;s&&(u|=4),HE(o,r,u,s)}var kf="_reactListening"+Math.random().toString(36).slice(2);function rm(r){if(!r[kf]){r[kf]=!0,Ol.forEach(function(o){o!=="selectionchange"&&(mx.has(o)||nm(o,!1,r),nm(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[kf]||(s[kf]=!0,nm("selectionchange",!1,s))}}function HE(r,s,o,u){switch(fT(s)){case 2:var h=zx;break;case 8:h=Hx;break;default:h=gm}o=h.bind(null,s,o,r),h=void 0,!Yn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),u?h!==void 0?r.addEventListener(s,o,{capture:!0,passive:h}):r.addEventListener(s,o,!0):h!==void 0?r.addEventListener(s,o,{passive:h}):r.addEventListener(s,o,!1)}function im(r,s,o,u,h){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var A=u.stateNode.containerInfo;if(A===h||A.nodeType===8&&A.parentNode===h)break;if(E===4)for(E=u.return;E!==null;){var V=E.tag;if((V===3||V===4)&&(V=E.stateNode.containerInfo,V===h||V.nodeType===8&&V.parentNode===h))return;E=E.return}for(;A!==null;){if(E=mr(A),E===null)return;if(V=E.tag,V===5||V===6||V===26||V===27){u=g=E;continue e}A=A.parentNode}}u=u.return}jc(function(){var H=g,J=oo(o),ae=[];e:{var Q=Nv.get(r);if(Q!==void 0){var Z=lo,Ee=r;switch(r){case"keypress":if(Vr(o)===0)break e;case"keydown":case"keyup":Z=mo;break;case"focusin":Ee="focus",Z=fo;break;case"focusout":Ee="blur",Z=fo;break;case"beforeblur":case"afterblur":Z=fo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Xn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Od;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=Gc;break;case Cv:case xv:case Iv:Z=ho;break;case Ov:Z=Qc;break;case"scroll":case"scrollend":Z=Uc;break;case"wheel":Z=go;break;case"copy":case"cut":case"paste":Z=po;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Hl;break;case"toggle":case"beforetoggle":Z=Xc}var Me=(s&4)!==0,Rt=!Me&&(r==="scroll"||r==="scrollend"),F=Me?Q!==null?Q+"Capture":null:Q;Me=[];for(var z=H,K;z!==null;){var te=z;if(K=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||K===null||F===null||(te=ua(z,F),te!=null&&Me.push(_u(z,te,K))),Rt)break;z=z.return}0<Me.length&&(Q=new Z(Q,Ee,null,o,J),ae.push({event:Q,listeners:Me}))}}if((s&7)===0){e:{if(Q=r==="mouseover"||r==="pointerover",Z=r==="mouseout"||r==="pointerout",Q&&o!==Qn&&(Ee=o.relatedTarget||o.fromElement)&&(mr(Ee)||Ee[ai]))break e;if((Z||Q)&&(Q=J.window===J?J:(Q=J.ownerDocument)?Q.defaultView||Q.parentWindow:window,Z?(Ee=o.relatedTarget||o.toElement,Z=H,Ee=Ee?mr(Ee):null,Ee!==null&&(Rt=ce(Ee),Me=Ee.tag,Ee!==Rt||Me!==5&&Me!==27&&Me!==6)&&(Ee=null)):(Z=null,Ee=H),Z!==Ee)){if(Me=Xn,te="onMouseLeave",F="onMouseEnter",z="mouse",(r==="pointerout"||r==="pointerover")&&(Me=Hl,te="onPointerLeave",F="onPointerEnter",z="pointer"),Rt=Z==null?Q:is(Z),K=Ee==null?Q:is(Ee),Q=new Me(te,z+"leave",Z,o,J),Q.target=Rt,Q.relatedTarget=K,te=null,mr(J)===H&&(Me=new Me(F,z+"enter",Ee,o,J),Me.target=K,Me.relatedTarget=Rt,te=Me),Rt=te,Z&&Ee)t:{for(Me=Z,F=Ee,z=0,K=Me;K;K=Uo(K))z++;for(K=0,te=F;te;te=Uo(te))K++;for(;0<z-K;)Me=Uo(Me),z--;for(;0<K-z;)F=Uo(F),K--;for(;z--;){if(Me===F||F!==null&&Me===F.alternate)break t;Me=Uo(Me),F=Uo(F)}Me=null}else Me=null;Z!==null&&qE(ae,Q,Z,Me,!1),Ee!==null&&Rt!==null&&qE(ae,Rt,Ee,Me,!0)}}e:{if(Q=H?is(H):window,Z=Q.nodeName&&Q.nodeName.toLowerCase(),Z==="select"||Z==="input"&&Q.type==="file")var ye=gv;else if(Ut(Q))if(yv)ye=CC;else{ye=AC;var Ue=SC}else Z=Q.nodeName,!Z||Z.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?H&&Vl(H.elementType)&&(ye=gv):ye=RC;if(ye&&(ye=ye(r,H))){pi(ae,ye,o,J);break e}Ue&&Ue(r,Q,H),r==="focusout"&&H&&Q.type==="number"&&H.memoizedProps.value!=null&&ao(Q,"number",Q.value)}switch(Ue=H?is(H):window,r){case"focusin":(Ut(Ue)||Ue.contentEditable==="true")&&(yo=Ue,Vd=H,$l=null);break;case"focusout":$l=Vd=yo=null;break;case"mousedown":Ld=!0;break;case"contextmenu":case"mouseup":case"dragend":Ld=!1,Av(ae,o,J);break;case"selectionchange":if(OC)break;case"keydown":case"keyup":Av(ae,o,J)}var Te;if(jr)e:{switch(r){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Ke?X(r,o)&&(Ce="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Ce="onCompositionStart");Ce&&(_&&o.locale!=="ko"&&(Ke||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Ke&&(Te=Pl()):(kr=J,cs="value"in kr?kr.value:kr.textContent,Ke=!0)),Ue=Vf(H,Ce),0<Ue.length&&(Ce=new Bl(Ce,r,null,o,J),ae.push({event:Ce,listeners:Ue}),Te?Ce.data=Te:(Te=fe(o),Te!==null&&(Ce.data=Te)))),(Te=y?jt(r,o):Qe(r,o))&&(Ce=Vf(H,"onBeforeInput"),0<Ce.length&&(Ue=new Bl("onBeforeInput","beforeinput",null,o,J),ae.push({event:Ue,listeners:Ce}),Ue.data=Te)),hx(ae,r,H,o,J)}zE(ae,s)})}function _u(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Vf(r,s){for(var o=s+"Capture",u=[];r!==null;){var h=r,g=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||g===null||(h=ua(r,o),h!=null&&u.unshift(_u(r,h,g)),h=ua(r,s),h!=null&&u.push(_u(r,h,g))),r=r.return}return u}function Uo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function qE(r,s,o,u,h){for(var g=s._reactName,E=[];o!==null&&o!==u;){var A=o,V=A.alternate,H=A.stateNode;if(A=A.tag,V!==null&&V===u)break;A!==5&&A!==26&&A!==27||H===null||(V=H,h?(H=ua(o,g),H!=null&&E.unshift(_u(o,H,V))):h||(H=ua(o,g),H!=null&&E.push(_u(o,H,V)))),o=o.return}E.length!==0&&r.push({event:s,listeners:E})}var gx=/\r\n?/g,yx=/\u0000|\uFFFD/g;function FE(r){return(typeof r=="string"?r:""+r).replace(gx,`
`).replace(yx,"")}function $E(r,s){return s=FE(s),FE(r)===s}function Lf(){}function at(r,s,o,u,h,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Kn(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Kn(r,""+u);break;case"className":os(r,"class",u);break;case"tabIndex":os(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":os(r,o,u);break;case"style":Pc(r,u,g);break;case"data":if(s!=="object"){os(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Mr(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&at(r,s,"name",h.name,h,null),at(r,s,"formEncType",h.formEncType,h,null),at(r,s,"formMethod",h.formMethod,h,null),at(r,s,"formTarget",h.formTarget,h,null)):(at(r,s,"encType",h.encType,h,null),at(r,s,"method",h.method,h,null),at(r,s,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Mr(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=Lf);break;case"onScroll":u!=null&&Fe("scroll",r);break;case"onScrollEnd":u!=null&&Fe("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=Mr(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":Fe("beforetoggle",r),Fe("toggle",r),as(r,"popover",u);break;case"xlinkActuate":Gn(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Gn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Gn(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Gn(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Gn(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Gn(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Gn(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Gn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Gn(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":as(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=xd.get(o)||o,as(r,o,u))}}function sm(r,s,o,u,h,g){switch(o){case"style":Pc(r,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?Kn(r,u):(typeof u=="number"||typeof u=="bigint")&&Kn(r,""+u);break;case"onScroll":u!=null&&Fe("scroll",r);break;case"onScrollEnd":u!=null&&Fe("scrollend",r);break;case"onClick":u!=null&&(r.onclick=Lf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!io.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),s=o.slice(2,h?o.length-7:void 0),g=r[Pt]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(s,g,h),typeof u=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,h);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):as(r,o,u)}}}function sn(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",r),Fe("load",r);var u=!1,h=!1,g;for(g in o)if(o.hasOwnProperty(g)){var E=o[g];if(E!=null)switch(g){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:at(r,s,g,E,o,null)}}h&&at(r,s,"srcSet",o.srcSet,o,null),u&&at(r,s,"src",o.src,o,null);return;case"input":Fe("invalid",r);var A=g=E=h=null,V=null,H=null;for(u in o)if(o.hasOwnProperty(u)){var J=o[u];if(J!=null)switch(u){case"name":h=J;break;case"type":E=J;break;case"checked":V=J;break;case"defaultChecked":H=J;break;case"value":g=J;break;case"defaultValue":A=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,s));break;default:at(r,s,u,J,o,null)}}oa(r,g,A,V,H,E,h,!1),aa(r);return;case"select":Fe("invalid",r),u=E=g=null;for(h in o)if(o.hasOwnProperty(h)&&(A=o[h],A!=null))switch(h){case"value":g=A;break;case"defaultValue":E=A;break;case"multiple":u=A;default:at(r,s,h,A,o,null)}s=g,o=E,r.multiple=!!u,s!=null?Je(r,!!u,s,!1):o!=null&&Je(r,!!u,o,!0);return;case"textarea":Fe("invalid",r),g=h=u=null;for(E in o)if(o.hasOwnProperty(E)&&(A=o[E],A!=null))switch(E){case"value":u=A;break;case"defaultValue":h=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:at(r,s,E,A,o,null)}us(r,u,h,g),aa(r);return;case"option":for(V in o)if(o.hasOwnProperty(V)&&(u=o[V],u!=null))switch(V){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:at(r,s,V,u,o,null)}return;case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":Fe("load",r);break;case"video":case"audio":for(u=0;u<vu.length;u++)Fe(vu[u],r);break;case"image":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"embed":case"source":case"link":Fe("error",r),Fe("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in o)if(o.hasOwnProperty(H)&&(u=o[H],u!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:at(r,s,H,u,o,null)}return;default:if(Vl(s)){for(J in o)o.hasOwnProperty(J)&&(u=o[J],u!==void 0&&sm(r,s,J,u,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(u=o[A],u!=null&&at(r,s,A,u,o,null))}function vx(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,g=null,E=null,A=null,V=null,H=null,J=null;for(Z in o){var ae=o[Z];if(o.hasOwnProperty(Z)&&ae!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":V=ae;default:u.hasOwnProperty(Z)||at(r,s,Z,null,u,ae)}}for(var Q in u){var Z=u[Q];if(ae=o[Q],u.hasOwnProperty(Q)&&(Z!=null||ae!=null))switch(Q){case"type":g=Z;break;case"name":h=Z;break;case"checked":H=Z;break;case"defaultChecked":J=Z;break;case"value":E=Z;break;case"defaultValue":A=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,s));break;default:Z!==ae&&at(r,s,Q,Z,u,ae)}}ls(r,E,A,V,H,J,g,h);return;case"select":Z=E=A=Q=null;for(g in o)if(V=o[g],o.hasOwnProperty(g)&&V!=null)switch(g){case"value":break;case"multiple":Z=V;default:u.hasOwnProperty(g)||at(r,s,g,null,u,V)}for(h in u)if(g=u[h],V=o[h],u.hasOwnProperty(h)&&(g!=null||V!=null))switch(h){case"value":Q=g;break;case"defaultValue":A=g;break;case"multiple":E=g;default:g!==V&&at(r,s,h,g,u,V)}s=A,o=E,u=Z,Q!=null?Je(r,!!o,Q,!1):!!u!=!!o&&(s!=null?Je(r,!!o,s,!0):Je(r,!!o,o?[]:"",!1));return;case"textarea":Z=Q=null;for(A in o)if(h=o[A],o.hasOwnProperty(A)&&h!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:at(r,s,A,null,u,h)}for(E in u)if(h=u[E],g=o[E],u.hasOwnProperty(E)&&(h!=null||g!=null))switch(E){case"value":Q=h;break;case"defaultValue":Z=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==g&&at(r,s,E,h,u,g)}la(r,Q,Z);return;case"option":for(var Ee in o)if(Q=o[Ee],o.hasOwnProperty(Ee)&&Q!=null&&!u.hasOwnProperty(Ee))switch(Ee){case"selected":r.selected=!1;break;default:at(r,s,Ee,null,u,Q)}for(V in u)if(Q=u[V],Z=o[V],u.hasOwnProperty(V)&&Q!==Z&&(Q!=null||Z!=null))switch(V){case"selected":r.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:at(r,s,V,Q,u,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in o)Q=o[Me],o.hasOwnProperty(Me)&&Q!=null&&!u.hasOwnProperty(Me)&&at(r,s,Me,null,u,Q);for(H in u)if(Q=u[H],Z=o[H],u.hasOwnProperty(H)&&Q!==Z&&(Q!=null||Z!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,s));break;default:at(r,s,H,Q,u,Z)}return;default:if(Vl(s)){for(var Rt in o)Q=o[Rt],o.hasOwnProperty(Rt)&&Q!==void 0&&!u.hasOwnProperty(Rt)&&sm(r,s,Rt,void 0,u,Q);for(J in u)Q=u[J],Z=o[J],!u.hasOwnProperty(J)||Q===Z||Q===void 0&&Z===void 0||sm(r,s,J,Q,u,Z);return}}for(var F in o)Q=o[F],o.hasOwnProperty(F)&&Q!=null&&!u.hasOwnProperty(F)&&at(r,s,F,null,u,Q);for(ae in u)Q=u[ae],Z=o[ae],!u.hasOwnProperty(ae)||Q===Z||Q==null&&Z==null||at(r,s,ae,Q,u,Z)}var am=null,om=null;function Pf(r){return r.nodeType===9?r:r.ownerDocument}function GE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function KE(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function lm(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var um=null;function _x(){var r=window.event;return r&&r.type==="popstate"?r===um?!1:(um=r,!0):(um=null,!1)}var QE=typeof setTimeout=="function"?setTimeout:void 0,Ex=typeof clearTimeout=="function"?clearTimeout:void 0,YE=typeof Promise=="function"?Promise:void 0,Tx=typeof queueMicrotask=="function"?queueMicrotask:typeof YE<"u"?function(r){return YE.resolve(null).then(r).catch(bx)}:QE;function bx(r){setTimeout(function(){throw r})}function cm(r,s){var o=s,u=0;do{var h=o.nextSibling;if(r.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(u===0){r.removeChild(h),Cu(s);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=h}while(o);Cu(s)}function fm(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":fm(o),sa(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function wx(r,s,o,u){for(;r.nodeType===1;){var h=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[rs])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==h.rel||r.getAttribute("href")!==(h.href==null?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var g=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=_r(r.nextSibling),r===null)break}return null}function Sx(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=_r(r.nextSibling),r===null))return null;return r}function _r(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}function XE(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function WE(r,s,o){switch(s=Pf(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}var ar=new Map,ZE=new Set;function jf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.ownerDocument}var Ii=oe.d;oe.d={f:Ax,r:Rx,D:Cx,C:xx,L:Ix,m:Ox,X:Dx,S:Nx,M:Mx};function Ax(){var r=Ii.f(),s=Of();return r||s}function Rx(r){var s=oi(r);s!==null&&s.tag===5&&s.type==="form"?A_(s):Ii.r(r)}var Bo=typeof document>"u"?null:document;function JE(r,s,o){var u=Bo;if(u&&typeof s=="string"&&s){var h=wt(s);h='link[rel="'+r+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),ZE.has(h)||(ZE.add(h),r={rel:r,crossOrigin:o,href:s},u.querySelector(h)===null&&(s=u.createElement("link"),sn(s,"link",r),vt(s),u.head.appendChild(s)))}}function Cx(r){Ii.D(r),JE("dns-prefetch",r,null)}function xx(r,s){Ii.C(r,s),JE("preconnect",r,s)}function Ix(r,s,o){Ii.L(r,s,o);var u=Bo;if(u&&r&&s){var h='link[rel="preload"][as="'+wt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+wt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+wt(o.imageSizes)+'"]')):h+='[href="'+wt(r)+'"]';var g=h;switch(s){case"style":g=zo(r);break;case"script":g=Ho(r)}ar.has(g)||(r=M({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),ar.set(g,r),u.querySelector(h)!==null||s==="style"&&u.querySelector(Eu(g))||s==="script"&&u.querySelector(Tu(g))||(s=u.createElement("link"),sn(s,"link",r),vt(s),u.head.appendChild(s)))}}function Ox(r,s){Ii.m(r,s);var o=Bo;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+wt(u)+'"][href="'+wt(r)+'"]',g=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Ho(r)}if(!ar.has(g)&&(r=M({rel:"modulepreload",href:r},s),ar.set(g,r),o.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Tu(g)))return}u=o.createElement("link"),sn(u,"link",r),vt(u),o.head.appendChild(u)}}}function Nx(r,s,o){Ii.S(r,s,o);var u=Bo;if(u&&r){var h=ss(u).hoistableStyles,g=zo(r);s=s||"default";var E=h.get(g);if(!E){var A={loading:0,preload:null};if(E=u.querySelector(Eu(g)))A.loading=5;else{r=M({rel:"stylesheet",href:r,"data-precedence":s},o),(o=ar.get(g))&&hm(r,o);var V=E=u.createElement("link");vt(V),sn(V,"link",r),V._p=new Promise(function(H,J){V.onload=H,V.onerror=J}),V.addEventListener("load",function(){A.loading|=1}),V.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Uf(E,s,u)}E={type:"stylesheet",instance:E,count:1,state:A},h.set(g,E)}}}function Dx(r,s){Ii.X(r,s);var o=Bo;if(o&&r){var u=ss(o).hoistableScripts,h=Ho(r),g=u.get(h);g||(g=o.querySelector(Tu(h)),g||(r=M({src:r,async:!0},s),(s=ar.get(h))&&dm(r,s),g=o.createElement("script"),vt(g),sn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(h,g))}}function Mx(r,s){Ii.M(r,s);var o=Bo;if(o&&r){var u=ss(o).hoistableScripts,h=Ho(r),g=u.get(h);g||(g=o.querySelector(Tu(h)),g||(r=M({src:r,async:!0,type:"module"},s),(s=ar.get(h))&&dm(r,s),g=o.createElement("script"),vt(g),sn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(h,g))}}function eT(r,s,o,u){var h=(h=mt.current)?jf(h):null;if(!h)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=zo(o.href),o=ss(h).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=zo(o.href);var g=ss(h).hoistableStyles,E=g.get(r);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,E),(g=h.querySelector(Eu(r)))&&!g._p&&(E.instance=g,E.state.loading=5),ar.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ar.set(r,o),g||kx(h,r,o,E.state))),s&&u===null)throw Error(i(528,""));return E}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ho(o),o=ss(h).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function zo(r){return'href="'+wt(r)+'"'}function Eu(r){return'link[rel="stylesheet"]['+r+"]"}function tT(r){return M({},r,{"data-precedence":r.precedence,precedence:null})}function kx(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),sn(s,"link",o),vt(s),r.head.appendChild(s))}function Ho(r){return'[src="'+wt(r)+'"]'}function Tu(r){return"script[async]"+r}function nT(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+wt(o.href)+'"]');if(u)return s.instance=u,vt(u),u;var h=M({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),vt(u),sn(u,"style",h),Uf(u,o.precedence,r),s.instance=u;case"stylesheet":h=zo(o.href);var g=r.querySelector(Eu(h));if(g)return s.state.loading|=4,s.instance=g,vt(g),g;u=tT(o),(h=ar.get(h))&&hm(u,h),g=(r.ownerDocument||r).createElement("link"),vt(g);var E=g;return E._p=new Promise(function(A,V){E.onload=A,E.onerror=V}),sn(g,"link",u),s.state.loading|=4,Uf(g,o.precedence,r),s.instance=g;case"script":return g=Ho(o.src),(h=r.querySelector(Tu(g)))?(s.instance=h,vt(h),h):(u=o,(h=ar.get(g))&&(u=M({},o),dm(u,h)),r=r.ownerDocument||r,h=r.createElement("script"),vt(h),sn(h,"link",u),r.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Uf(u,o.precedence,r));return s.instance}function Uf(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,g=h,E=0;E<u.length;E++){var A=u[E];if(A.dataset.precedence===s)g=A;else if(g!==h)break}g?g.parentNode.insertBefore(r,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function hm(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function dm(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Bf=null;function rT(r,s,o){if(Bf===null){var u=new Map,h=Bf=new Map;h.set(o,u)}else h=Bf,u=h.get(o),u||(u=new Map,h.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),h=0;h<o.length;h++){var g=o[h];if(!(g[rs]||g[$t]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(s)||"";E=r+E;var A=u.get(E);A?A.push(g):u.set(E,[g])}}return u}function iT(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function Vx(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function sT(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var bu=null;function Lx(){}function Px(r,s,o){if(bu===null)throw Error(i(475));var u=bu;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=zo(o.href),g=r.querySelector(Eu(h));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=zf.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=g,vt(g);return}g=r.ownerDocument||r,o=tT(o),(h=ar.get(h))&&hm(o,h),g=g.createElement("link"),vt(g);var E=g;E._p=new Promise(function(A,V){E.onload=A,E.onerror=V}),sn(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=zf.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function jx(){if(bu===null)throw Error(i(475));var r=bu;return r.stylesheets&&r.count===0&&pm(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&pm(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function zf(){if(this.count--,this.count===0){if(this.stylesheets)pm(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Hf=null;function pm(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Hf=new Map,s.forEach(Ux,r),Hf=null,zf.call(r))}function Ux(r,s){if(!(s.state.loading&4)){var o=Hf.get(r);if(o)var u=o.get(null);else{o=new Map,Hf.set(r,o);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<h.length;g++){var E=h[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}h=s.instance,E=h.getAttribute("data-precedence"),g=o.get(E)||u,g===u&&o.set(null,h),o.set(E,h),this.count++,u=zf.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),g?g.parentNode.insertBefore(h,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),s.state.loading|=4}}var wu={$$typeof:R,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function Bx(r,s,o,u,h,g,E,A){this.tag=1,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=no(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=no(0),this.hiddenUpdates=no(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function aT(r,s,o,u,h,g,E,A,V,H,J,ae){return r=new Bx(r,s,o,E,A,V,H,ae),s=1,g===!0&&(s|=24),g=ir(3,null,null,s),r.current=g,g.stateNode=r,s=Gd(),s.refCount++,r.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},Rp(g),r}function oT(r){return r?(r=Eo,r):Eo}function lT(r,s,o,u,h,g){h=oT(h),u.context===null?u.context=h:u.pendingContext=h,u=vs(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=_s(r,u,s),o!==null&&(En(o,r,s),au(o,r,s))}function uT(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function mm(r,s){uT(r,s),(r=r.alternate)&&uT(r,s)}function cT(r){if(r.tag===13){var s=fs(r,67108864);s!==null&&En(s,r,67108864),mm(r,67108864)}}var qf=!0;function zx(r,s,o,u){var h=x.T;x.T=null;var g=oe.p;try{oe.p=2,gm(r,s,o,u)}finally{oe.p=g,x.T=h}}function Hx(r,s,o,u){var h=x.T;x.T=null;var g=oe.p;try{oe.p=8,gm(r,s,o,u)}finally{oe.p=g,x.T=h}}function gm(r,s,o,u){if(qf){var h=ym(u);if(h===null)im(r,s,u,Ff,o),hT(r,u);else if(Fx(h,r,s,o,u))u.stopPropagation();else if(hT(r,u),s&4&&-1<qx.indexOf(r)){for(;h!==null;){var g=oi(h);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=pr(g.pendingLanes);if(E!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;E;){var V=1<<31-gn(E);A.entanglements[1]|=V,E&=~V}Fr(g),(Et&6)===0&&(Cf=gt()+500,yu(0))}}break;case 13:A=fs(g,2),A!==null&&En(A,g,2),Of(),mm(g,2)}if(g=ym(u),g===null&&im(r,s,u,Ff,o),g===h)break;h=g}h!==null&&u.stopPropagation()}else im(r,s,u,null,o)}}function ym(r){return r=oo(r),vm(r)}var Ff=null;function vm(r){if(Ff=null,r=mr(r),r!==null){var s=ce(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=we(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Ff=r,null}function fT(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ir()){case dt:return 2;case yt:return 8;case wn:case ra:return 32;case si:return 268435456;default:return 32}default:return 32}}var _m=!1,Rs=null,Cs=null,xs=null,Su=new Map,Au=new Map,Is=[],qx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hT(r,s){switch(r){case"focusin":case"focusout":Rs=null;break;case"dragenter":case"dragleave":Cs=null;break;case"mouseover":case"mouseout":xs=null;break;case"pointerover":case"pointerout":Su.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Au.delete(s.pointerId)}}function Ru(r,s,o,u,h,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[h]},s!==null&&(s=oi(s),s!==null&&cT(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),r)}function Fx(r,s,o,u,h){switch(s){case"focusin":return Rs=Ru(Rs,r,s,o,u,h),!0;case"dragenter":return Cs=Ru(Cs,r,s,o,u,h),!0;case"mouseover":return xs=Ru(xs,r,s,o,u,h),!0;case"pointerover":var g=h.pointerId;return Su.set(g,Ru(Su.get(g)||null,r,s,o,u,h)),!0;case"gotpointercapture":return g=h.pointerId,Au.set(g,Ru(Au.get(g)||null,r,s,o,u,h)),!0}return!1}function dT(r){var s=mr(r.target);if(s!==null){var o=ce(s);if(o!==null){if(s=o.tag,s===13){if(s=we(o),s!==null){r.blockedOn=s,ns(r.priority,function(){if(o.tag===13){var u=Bn(),h=fs(o,u);h!==null&&En(h,o,u),mm(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function $f(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=ym(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);Qn=u,o.target.dispatchEvent(u),Qn=null}else return s=oi(o),s!==null&&cT(s),r.blockedOn=o,!1;s.shift()}return!0}function pT(r,s,o){$f(r)&&o.delete(s)}function $x(){_m=!1,Rs!==null&&$f(Rs)&&(Rs=null),Cs!==null&&$f(Cs)&&(Cs=null),xs!==null&&$f(xs)&&(xs=null),Su.forEach(pT),Au.forEach(pT)}function Gf(r,s){r.blockedOn===s&&(r.blockedOn=null,_m||(_m=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,$x)))}var Kf=null;function mT(r){Kf!==r&&(Kf=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Kf===r&&(Kf=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],h=r[s+2];if(typeof u!="function"){if(vm(u||o)===null)continue;break}var g=oi(o);g!==null&&(r.splice(s,3),s-=3,lp(g,{pending:!0,data:h,method:o.method,action:u},u,h))}}))}function Cu(r){function s(V){return Gf(V,r)}Rs!==null&&Gf(Rs,r),Cs!==null&&Gf(Cs,r),xs!==null&&Gf(xs,r),Su.forEach(s),Au.forEach(s);for(var o=0;o<Is.length;o++){var u=Is[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Is.length&&(o=Is[0],o.blockedOn===null);)dT(o),o.blockedOn===null&&Is.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var h=o[u],g=o[u+1],E=h[Pt]||null;if(typeof g=="function")E||mT(o);else if(E){var A=null;if(g&&g.hasAttribute("formAction")){if(h=g,E=g[Pt]||null)A=E.formAction;else if(vm(h)!==null)continue}else A=E.action;typeof A=="function"?o[u+1]=A:(o.splice(u,3),u-=3),mT(o)}}}function Em(r){this._internalRoot=r}Qf.prototype.render=Em.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=Bn();lT(o,u,r,s,null,null)},Qf.prototype.unmount=Em.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;r.tag===0&&Po(),lT(r.current,2,null,r,null,null),Of(),s[ai]=null}};function Qf(r){this._internalRoot=r}Qf.prototype.unstable_scheduleHydration=function(r){if(r){var s=kc();r={blockedOn:null,target:r,priority:s};for(var o=0;o<Is.length&&s!==0&&s<Is[o].priority;o++);Is.splice(o,0,r),o===0&&dT(r)}};var gT=e.version;if(gT!=="19.0.0")throw Error(i(527,gT,"19.0.0"));oe.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=ne(s),r=r!==null?de(r):null,r=r===null?null:r.stateNode,r};var Gx={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:x,findFiberByHostInstance:mr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yf.isDisabled&&Yf.supportsFiber)try{qe=Yf.inject(Gx),lt=Yf}catch{}}return Iu.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",h=M_,g=k_,E=V_,A=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(A=s.unstable_transitionCallbacks)),s=aT(r,1,!1,null,null,o,u,h,g,E,A,null),r[ai]=s.current,rm(r.nodeType===8?r.parentNode:r),new Em(s)},Iu.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,h="",g=M_,E=k_,A=V_,V=null,H=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(V=o.unstable_transitionCallbacks),o.formState!==void 0&&(H=o.formState)),s=aT(r,1,!0,s,o??null,u,h,g,E,A,V,H),s.context=oT(null),o=s.current,u=Bn(),h=vs(u),h.callback=null,_s(o,h,u),s.current.lanes=u,Ct(s,u),Fr(s),r[ai]=s.current,rm(r),new Qf(s)},Iu.version="19.0.0",Iu}var RT;function t1(){if(RT)return wm.exports;RT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),wm.exports=e1(),wm.exports}var n1=t1(),Ou={},CT;function r1(){if(CT)return Ou;CT=1,Object.defineProperty(Ou,"__esModule",{value:!0}),Ou.parse=c,Ou.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function c(S,R){const I=new l,j=S.length;if(j<2)return I;const N=(R==null?void 0:R.decode)||v;let B=0;do{const G=S.indexOf("=",B);if(G===-1)break;const q=S.indexOf(";",B),Y=q===-1?j:q;if(G>Y){B=S.lastIndexOf(";",G-1)+1;continue}const W=d(S,B,G),ee=p(S,G,W),k=S.slice(W,ee);if(I[k]===void 0){let O=d(S,G+1,Y),x=p(S,Y,O);const M=N(S.slice(O,x));I[k]=M}B=Y+1}while(B<j);return I}function d(S,R,I){do{const j=S.charCodeAt(R);if(j!==32&&j!==9)return R}while(++R<I);return I}function p(S,R,I){for(;R>I;){const j=S.charCodeAt(--R);if(j!==32&&j!==9)return R+1}return I}function m(S,R,I){const j=(I==null?void 0:I.encode)||encodeURIComponent;if(!n.test(S))throw new TypeError(`argument name is invalid: ${S}`);const N=j(R);if(!e.test(N))throw new TypeError(`argument val is invalid: ${R}`);let B=S+"="+N;if(!I)return B;if(I.maxAge!==void 0){if(!Number.isInteger(I.maxAge))throw new TypeError(`option maxAge is invalid: ${I.maxAge}`);B+="; Max-Age="+I.maxAge}if(I.domain){if(!t.test(I.domain))throw new TypeError(`option domain is invalid: ${I.domain}`);B+="; Domain="+I.domain}if(I.path){if(!i.test(I.path))throw new TypeError(`option path is invalid: ${I.path}`);B+="; Path="+I.path}if(I.expires){if(!b(I.expires)||!Number.isFinite(I.expires.valueOf()))throw new TypeError(`option expires is invalid: ${I.expires}`);B+="; Expires="+I.expires.toUTCString()}if(I.httpOnly&&(B+="; HttpOnly"),I.secure&&(B+="; Secure"),I.partitioned&&(B+="; Partitioned"),I.priority)switch(typeof I.priority=="string"?I.priority.toLowerCase():void 0){case"low":B+="; Priority=Low";break;case"medium":B+="; Priority=Medium";break;case"high":B+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${I.priority}`)}if(I.sameSite)switch(typeof I.sameSite=="string"?I.sameSite.toLowerCase():I.sameSite){case!0:case"strict":B+="; SameSite=Strict";break;case"lax":B+="; SameSite=Lax";break;case"none":B+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${I.sameSite}`)}return B}function v(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function b(S){return a.call(S)==="[object Date]"}return Ou}r1();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var xT="popstate";function i1(n={}){function e(i,a){let{pathname:l,search:c,hash:d}=i.location;return tg("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:Xu(a)}return a1(e,t,null,n)}function pt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ei(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function s1(){return Math.random().toString(36).substring(2,10)}function IT(n,e){return{usr:n.state,key:n.key,idx:e}}function tg(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ml(e):e,state:t,key:e&&e.key||i||s1()}}function Xu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ml(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function a1(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,d="POP",p=null,m=v();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function v(){return(c.state||{idx:null}).idx}function b(){d="POP";let N=v(),B=N==null?null:N-m;m=N,p&&p({action:d,location:j.location,delta:B})}function S(N,B){d="PUSH";let G=tg(j.location,N,B);m=v()+1;let q=IT(G,m),Y=j.createHref(G);try{c.pushState(q,"",Y)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;a.location.assign(Y)}l&&p&&p({action:d,location:j.location,delta:1})}function R(N,B){d="REPLACE";let G=tg(j.location,N,B);m=v();let q=IT(G,m),Y=j.createHref(G);c.replaceState(q,"",Y),l&&p&&p({action:d,location:j.location,delta:0})}function I(N){let B=a.location.origin!=="null"?a.location.origin:a.location.href,G=typeof N=="string"?N:Xu(N);return G=G.replace(/ $/,"%20"),pt(B,`No window.location.(origin|href) available to create URL for href: ${G}`),new URL(G,B)}let j={get action(){return d},get location(){return n(a,c)},listen(N){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(xT,b),p=N,()=>{a.removeEventListener(xT,b),p=null}},createHref(N){return e(a,N)},createURL:I,encodeLocation(N){let B=I(N);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:S,replace:R,go(N){return c.go(N)}};return j}function Qb(n,e,t="/"){return o1(n,e,t,!1)}function o1(n,e,t,i){let a=typeof e=="string"?ml(e):e,l=ji(a.pathname||"/",t);if(l==null)return null;let c=Yb(n);l1(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let m=Wb(l);d=y1(c[p],m,i)}return d}function Yb(n,e=[],t=[],i=""){let a=(l,c,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(pt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let m=Vi([i,p.relativePath]),v=t.concat(p);l.children&&l.children.length>0&&(pt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Yb(l.children,e,v,m)),!(l.path==null&&!l.index)&&e.push({path:m,score:m1(m,l.index),routesMeta:v})};return n.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,c);else for(let p of Xb(l.path))a(l,c,p)}),e}function Xb(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=Xb(i.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),a&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function l1(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:g1(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var u1=/^:[\w-]+$/,c1=3,f1=2,h1=1,d1=10,p1=-2,OT=n=>n==="*";function m1(n,e){let t=n.split("/"),i=t.length;return t.some(OT)&&(i+=p1),e&&(i+=f1),t.filter(a=>!OT(a)).reduce((a,l)=>a+(u1.test(l)?c1:l===""?h1:d1),i)}function g1(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function y1(n,e,t=!1){let{routesMeta:i}=n,a={},l="/",c=[];for(let d=0;d<i.length;++d){let p=i[d],m=d===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=Wu({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},v),S=p.route;if(!b&&m&&t&&!i[i.length-1].route.index&&(b=Wu({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:Vi([l,b.pathname]),pathnameBase:b1(Vi([l,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(l=Vi([l,b.pathnameBase]))}return c}function Wu(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=v1(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((m,{paramName:v,isOptional:b},S)=>{if(v==="*"){let I=d[S]||"";c=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}const R=d[S];return b&&!R?m[v]=void 0:m[v]=(R||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:n}}function v1(n,e=!1,t=!0){ei(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function Wb(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ei(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ji(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function _1(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?ml(n):n;return{pathname:t?t.startsWith("/")?t:E1(t,e):e,search:w1(i),hash:S1(a)}}function E1(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Cm(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function T1(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Zb(n){let e=T1(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Jb(n,e,t,i=!1){let a;typeof n=="string"?a=ml(n):(a={...n},pt(!a.pathname||!a.pathname.includes("?"),Cm("?","pathname","search",a)),pt(!a.pathname||!a.pathname.includes("#"),Cm("#","pathname","hash",a)),pt(!a.search||!a.search.includes("#"),Cm("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let b=e.length-1;if(!i&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),b-=1;a.pathname=S.join("/")}d=b>=0?e[b]:"/"}let p=_1(a,d),m=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(m||v)&&(p.pathname+="/"),p}var Vi=n=>n.join("/").replace(/\/\/+/g,"/"),b1=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),w1=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,S1=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function A1(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var ew=["POST","PUT","PATCH","DELETE"];new Set(ew);var R1=["GET",...ew];new Set(R1);var gl=w.createContext(null);gl.displayName="DataRouter";var Gh=w.createContext(null);Gh.displayName="DataRouterState";var tw=w.createContext({isTransitioning:!1});tw.displayName="ViewTransition";var C1=w.createContext(new Map);C1.displayName="Fetchers";var x1=w.createContext(null);x1.displayName="Await";var ni=w.createContext(null);ni.displayName="Navigation";var dc=w.createContext(null);dc.displayName="Location";var ri=w.createContext({outlet:null,matches:[],isDataRoute:!1});ri.displayName="Route";var jg=w.createContext(null);jg.displayName="RouteError";function I1(n,{relative:e}={}){pt(yl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=w.useContext(ni),{hash:a,pathname:l,search:c}=pc(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Vi([t,l])),i.createHref({pathname:d,search:c,hash:a})}function yl(){return w.useContext(dc)!=null}function Ki(){return pt(yl(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(dc).location}function O1(n){pt(yl(),"useMatch() may be used only in the context of a <Router> component.");let{pathname:e}=Ki();return w.useMemo(()=>Wu(n,Wb(e)),[e,n])}var nw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rw(n){w.useContext(ni).static||w.useLayoutEffect(n)}function Js(){let{isDataRoute:n}=w.useContext(ri);return n?F1():N1()}function N1(){pt(yl(),"useNavigate() may be used only in the context of a <Router> component.");let n=w.useContext(gl),{basename:e,navigator:t}=w.useContext(ni),{matches:i}=w.useContext(ri),{pathname:a}=Ki(),l=JSON.stringify(Zb(i)),c=w.useRef(!1);return rw(()=>{c.current=!0}),w.useCallback((p,m={})=>{if(ei(c.current,nw),!c.current)return;if(typeof p=="number"){t.go(p);return}let v=Jb(p,JSON.parse(l),a,m.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Vi([e,v.pathname])),(m.replace?t.replace:t.push)(v,m.state,m)},[e,t,l,a,n])}w.createContext(null);function D1(){let{matches:n}=w.useContext(ri),e=n[n.length-1];return e?e.params:{}}function pc(n,{relative:e}={}){let{matches:t}=w.useContext(ri),{pathname:i}=Ki(),a=JSON.stringify(Zb(t));return w.useMemo(()=>Jb(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function M1(n,e){return iw(n,e)}function iw(n,e,t,i){var G;pt(yl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=w.useContext(ni),{matches:c}=w.useContext(ri),d=c[c.length-1],p=d?d.params:{},m=d?d.pathname:"/",v=d?d.pathnameBase:"/",b=d&&d.route;{let q=b&&b.path||"";sw(m,!b||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let S=Ki(),R;if(e){let q=typeof e=="string"?ml(e):e;pt(v==="/"||((G=q.pathname)==null?void 0:G.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${q.pathname}" was given in the \`location\` prop.`),R=q}else R=S;let I=R.pathname||"/",j=I;if(v!=="/"){let q=v.replace(/^\//,"").split("/");j="/"+I.replace(/^\//,"").split("/").slice(q.length).join("/")}let N=!l&&t&&t.matches&&t.matches.length>0?t.matches:Qb(n,{pathname:j});ei(b||N!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),ei(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=j1(N&&N.map(q=>Object.assign({},q,{params:Object.assign({},p,q.params),pathname:Vi([v,a.encodeLocation?a.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?v:Vi([v,a.encodeLocation?a.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),c,t,i);return e&&B?w.createElement(dc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},B):B}function k1(){let n=q1(),e=A1(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=w.createElement(w.Fragment,null,w.createElement("p",null,"💿 Hey developer 👋"),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:l},"ErrorBoundary")," or"," ",w.createElement("code",{style:l},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),t?w.createElement("pre",{style:a},t):null,c)}var V1=w.createElement(k1,null),L1=class extends w.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?w.createElement(ri.Provider,{value:this.props.routeContext},w.createElement(jg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function P1({routeContext:n,match:e,children:t}){let i=w.useContext(gl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(ri.Provider,{value:n},t)}function j1(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t==null?void 0:t.errors;if(l!=null){let p=a.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);pt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,d=-1;if(t)for(let p=0;p<a.length;p++){let m=a[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=p),m.route.id){let{loaderData:v,errors:b}=t,S=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!b||b[m.route.id]===void 0);if(m.route.lazy||S){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((p,m,v)=>{let b,S=!1,R=null,I=null;t&&(b=l&&m.route.id?l[m.route.id]:void 0,R=m.route.errorElement||V1,c&&(d<0&&v===0?(sw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,I=null):d===v&&(S=!0,I=m.route.hydrateFallbackElement||null)));let j=e.concat(a.slice(0,v+1)),N=()=>{let B;return b?B=R:S?B=I:m.route.Component?B=w.createElement(m.route.Component,null):m.route.element?B=m.route.element:B=p,w.createElement(P1,{match:m,routeContext:{outlet:p,matches:j,isDataRoute:t!=null},children:B})};return t&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?w.createElement(L1,{location:t.location,revalidation:t.revalidation,component:R,error:b,children:N(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):N()},null)}function Ug(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function U1(n){let e=w.useContext(gl);return pt(e,Ug(n)),e}function B1(n){let e=w.useContext(Gh);return pt(e,Ug(n)),e}function z1(n){let e=w.useContext(ri);return pt(e,Ug(n)),e}function Bg(n){let e=z1(n),t=e.matches[e.matches.length-1];return pt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function H1(){return Bg("useRouteId")}function q1(){var i;let n=w.useContext(jg),e=B1("useRouteError"),t=Bg("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function F1(){let{router:n}=U1("useNavigate"),e=Bg("useNavigate"),t=w.useRef(!1);return rw(()=>{t.current=!0}),w.useCallback(async(a,l={})=>{ei(t.current,nw),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var NT={};function sw(n,e,t){!e&&!NT[n]&&(NT[n]=!0,ei(!1,t))}w.memo($1);function $1({routes:n,future:e,state:t}){return iw(n,void 0,t,e)}function or(n){pt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function G1({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1}){pt(!yl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=w.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=ml(t));let{pathname:p="/",search:m="",hash:v="",state:b=null,key:S="default"}=t,R=w.useMemo(()=>{let I=ji(p,c);return I==null?null:{location:{pathname:I,search:m,hash:v,state:b,key:S},navigationType:i}},[c,p,m,v,b,S,i]);return ei(R!=null,`<Router basename="${c}"> is not able to match the URL "${p}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:w.createElement(ni.Provider,{value:d},w.createElement(dc.Provider,{children:e,value:R}))}function K1({children:n,location:e}){return M1(ng(n),e)}function ng(n,e=[]){let t=[];return w.Children.forEach(n,(i,a)=>{if(!w.isValidElement(i))return;let l=[...e,a];if(i.type===w.Fragment){t.push.apply(t,ng(i.props.children,l));return}pt(i.type===or,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=ng(i.props.children,l)),t.push(c)}),t}var lh="get",uh="application/x-www-form-urlencoded";function Kh(n){return n!=null&&typeof n.tagName=="string"}function Q1(n){return Kh(n)&&n.tagName.toLowerCase()==="button"}function Y1(n){return Kh(n)&&n.tagName.toLowerCase()==="form"}function X1(n){return Kh(n)&&n.tagName.toLowerCase()==="input"}function W1(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Z1(n,e){return n.button===0&&(!e||e==="_self")&&!W1(n)}var Xf=null;function J1(){if(Xf===null)try{new FormData(document.createElement("form"),0),Xf=!1}catch{Xf=!0}return Xf}var eI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xm(n){return n!=null&&!eI.has(n)?(ei(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uh}"`),null):n}function tI(n,e){let t,i,a,l,c;if(Y1(n)){let d=n.getAttribute("action");i=d?ji(d,e):null,t=n.getAttribute("method")||lh,a=xm(n.getAttribute("enctype"))||uh,l=new FormData(n)}else if(Q1(n)||X1(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(i=p?ji(p,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||lh,a=xm(n.getAttribute("formenctype"))||xm(d.getAttribute("enctype"))||uh,l=new FormData(d,n),!J1()){let{name:m,type:v,value:b}=n;if(v==="image"){let S=m?`${m}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else m&&l.append(m,b)}}else{if(Kh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=lh,i=null,a=uh,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:c}}function zg(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function nI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function iI(n,e,t){let i=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await nI(l,t);return c.links?c.links():[]}return[]}));return lI(i.flat(1).filter(rI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function DT(n,e,t,i,a,l){let c=(p,m)=>t[m]?p.route.id!==t[m].route.id:!0,d=(p,m)=>{var v;return t[m].pathname!==p.pathname||((v=t[m].route.path)==null?void 0:v.endsWith("*"))&&t[m].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,m)=>c(p,m)||d(p,m)):l==="data"?e.filter((p,m)=>{var b;let v=i.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,m)||d(p,m))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function sI(n,e,{includeHydrateFallback:t}={}){return aI(n.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function aI(n){return[...new Set(n)]}function oI(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function lI(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let l=JSON.stringify(oI(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}function uI(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&ji(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function aw(){let n=w.useContext(gl);return zg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function cI(){let n=w.useContext(Gh);return zg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Hg=w.createContext(void 0);Hg.displayName="FrameworkContext";function ow(){let n=w.useContext(Hg);return zg(n,"You must render this element inside a <HydratedRouter> element"),n}function fI(n,e){let t=w.useContext(Hg),[i,a]=w.useState(!1),[l,c]=w.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:m,onMouseLeave:v,onTouchStart:b}=e,S=w.useRef(null);w.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let j=B=>{B.forEach(G=>{c(G.isIntersecting)})},N=new IntersectionObserver(j,{threshold:.5});return S.current&&N.observe(S.current),()=>{N.disconnect()}}},[n]),w.useEffect(()=>{if(i){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[i]);let R=()=>{a(!0)},I=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,S,{}]:[l,S,{onFocus:Nu(d,R),onBlur:Nu(p,I),onMouseEnter:Nu(m,R),onMouseLeave:Nu(v,I),onTouchStart:Nu(b,R)}]:[!1,S,{}]}function Nu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function hI({page:n,...e}){let{router:t}=aw(),i=w.useMemo(()=>Qb(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?w.createElement(pI,{page:n,matches:i,...e}):null}function dI(n){let{manifest:e,routeModules:t}=ow(),[i,a]=w.useState([]);return w.useEffect(()=>{let l=!1;return iI(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),i}function pI({page:n,matches:e,...t}){let i=Ki(),{manifest:a,routeModules:l}=ow(),{basename:c}=aw(),{loaderData:d,matches:p}=cI(),m=w.useMemo(()=>DT(n,e,p,a,i,"data"),[n,e,p,a,i]),v=w.useMemo(()=>DT(n,e,p,a,i,"assets"),[n,e,p,a,i]),b=w.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let I=new Set,j=!1;if(e.forEach(B=>{var q;let G=a.routes[B.route.id];!G||!G.hasLoader||(!m.some(Y=>Y.route.id===B.route.id)&&B.route.id in d&&((q=l[B.route.id])!=null&&q.shouldRevalidate)||G.hasClientLoader?j=!0:I.add(B.route.id))}),I.size===0)return[];let N=uI(n,c);return j&&I.size>0&&N.searchParams.set("_routes",e.filter(B=>I.has(B.route.id)).map(B=>B.route.id).join(",")),[N.pathname+N.search]},[c,d,i,a,m,e,n,l]),S=w.useMemo(()=>sI(v,a),[v,a]),R=dI(v);return w.createElement(w.Fragment,null,b.map(I=>w.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...t})),S.map(I=>w.createElement("link",{key:I,rel:"modulepreload",href:I,...t})),R.map(({key:I,link:j})=>w.createElement("link",{key:I,...j})))}function mI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var lw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{lw&&(window.__reactRouterVersion="7.3.0")}catch{}function gI({basename:n,children:e,window:t}){let i=w.useRef();i.current==null&&(i.current=i1({window:t,v5Compat:!0}));let a=i.current,[l,c]=w.useState({action:a.action,location:a.location}),d=w.useCallback(p=>{w.startTransition(()=>c(p))},[c]);return w.useLayoutEffect(()=>a.listen(d),[a,d]),w.createElement(G1,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var uw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cw=w.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:d,target:p,to:m,preventScrollReset:v,viewTransition:b,...S},R){let{basename:I}=w.useContext(ni),j=typeof m=="string"&&uw.test(m),N,B=!1;if(typeof m=="string"&&j&&(N=m,lw))try{let x=new URL(window.location.href),M=m.startsWith("//")?new URL(x.protocol+m):new URL(m),L=ji(M.pathname,I);M.origin===x.origin&&L!=null?m=L+M.search+M.hash:B=!0}catch{ei(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=I1(m,{relative:a}),[q,Y,W]=fI(i,S),ee=_I(m,{replace:c,state:d,target:p,preventScrollReset:v,relative:a,viewTransition:b});function k(x){e&&e(x),x.defaultPrevented||ee(x)}let O=w.createElement("a",{...S,...W,href:N||G,onClick:B||l?e:k,ref:mI(R,Y),target:p,"data-discover":!j&&t==="render"?"true":void 0});return q&&!j?w.createElement(w.Fragment,null,O,w.createElement(hI,{page:G})):O});cw.displayName="Link";var Er=w.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:d,children:p,...m},v){let b=pc(c,{relative:m.relative}),S=Ki(),R=w.useContext(Gh),{navigator:I,basename:j}=w.useContext(ni),N=R!=null&&SI(b)&&d===!0,B=I.encodeLocation?I.encodeLocation(b).pathname:b.pathname,G=S.pathname,q=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(G=G.toLowerCase(),q=q?q.toLowerCase():null,B=B.toLowerCase()),q&&j&&(q=ji(q,j)||q);const Y=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let W=G===B||!a&&G.startsWith(B)&&G.charAt(Y)==="/",ee=q!=null&&(q===B||!a&&q.startsWith(B)&&q.charAt(B.length)==="/"),k={isActive:W,isPending:ee,isTransitioning:N},O=W?e:void 0,x;typeof i=="function"?x=i(k):x=[i,W?"active":null,ee?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(k):l;return w.createElement(cw,{...m,"aria-current":O,className:x,ref:v,style:M,to:c,viewTransition:d},typeof p=="function"?p(k):p)});Er.displayName="NavLink";var yI=w.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:c=lh,action:d,onSubmit:p,relative:m,preventScrollReset:v,viewTransition:b,...S},R)=>{let I=bI(),j=wI(d,{relative:m}),N=c.toLowerCase()==="get"?"get":"post",B=typeof d=="string"&&uw.test(d),G=q=>{if(p&&p(q),q.defaultPrevented)return;q.preventDefault();let Y=q.nativeEvent.submitter,W=(Y==null?void 0:Y.getAttribute("formmethod"))||c;I(Y||q.currentTarget,{fetcherKey:e,method:W,navigate:t,replace:a,state:l,relative:m,preventScrollReset:v,viewTransition:b})};return w.createElement("form",{ref:R,method:N,action:j,onSubmit:i?p:G,...S,"data-discover":!B&&n==="render"?"true":void 0})});yI.displayName="Form";function vI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fw(n){let e=w.useContext(gl);return pt(e,vI(n)),e}function _I(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=Js(),p=Ki(),m=pc(n,{relative:l});return w.useCallback(v=>{if(Z1(v,e)){v.preventDefault();let b=t!==void 0?t:Xu(p)===Xu(m);d(n,{replace:b,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[p,d,m,t,i,e,n,a,l,c])}var EI=0,TI=()=>`__${String(++EI)}__`;function bI(){let{router:n}=fw("useSubmit"),{basename:e}=w.useContext(ni),t=H1();return w.useCallback(async(i,a={})=>{let{action:l,method:c,encType:d,formData:p,body:m}=tI(i,e);if(a.navigate===!1){let v=a.fetcherKey||TI();await n.fetch(v,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:m,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:m,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function wI(n,{relative:e}={}){let{basename:t}=w.useContext(ni),i=w.useContext(ri);pt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...pc(n||".",{relative:e})},c=Ki();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(b=>b).forEach(b=>d.append("index",b));let v=d.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Vi([t,l.pathname])),Xu(l)}function SI(n,e={}){let t=w.useContext(tw);pt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=fw("useViewTransitionState"),a=pc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=ji(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=ji(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Wu(a.pathname,c)!=null||Wu(a.pathname,l)!=null}new TextEncoder;var AI=Kb();const Xo=hc(AI);var Im={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var MT;function RI(){return MT||(MT=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var l="",c=0;c<arguments.length;c++){var d=arguments[c];d&&(l=a(l,i(d)))}return l}function i(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return t.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var c="";for(var d in l)e.call(l,d)&&l[d]&&(c=a(c,d));return c}function a(l,c){return c?l?l+" "+c:l+c:l}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(Im)),Im.exports}var CI=RI();const _e=hc(CI);function rg(){return rg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},rg.apply(null,arguments)}function hw(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function kT(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function xI(n){var e=II(n,"string");return typeof e=="symbol"?e:String(e)}function II(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function OI(n,e,t){var i=w.useRef(n!==void 0),a=w.useState(e),l=a[0],c=a[1],d=n!==void 0,p=i.current;return i.current=d,!d&&p&&l!==e&&c(e),[d?n:l,w.useCallback(function(m){for(var v=arguments.length,b=new Array(v>1?v-1:0),S=1;S<v;S++)b[S-1]=arguments[S];t&&t.apply(void 0,[m].concat(b)),c(m)},[t])]}function Qh(n,e){return Object.keys(e).reduce(function(t,i){var a,l=t,c=l[kT(i)],d=l[i],p=hw(l,[kT(i),i].map(xI)),m=e[i],v=OI(d,c,n[m]),b=v[0],S=v[1];return rg({},p,(a={},a[i]=b,a[m]=S,a))},n)}function ig(n,e){return ig=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},ig(n,e)}function NI(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,ig(n,e)}const DI=["xxl","xl","lg","md","sm","xs"],MI="xs",mc=w.createContext({prefixes:{},breakpoints:DI,minBreakpoint:MI}),{Consumer:L4,Provider:P4}=mc;function Se(n,e){const{prefixes:t}=w.useContext(mc);return n||t[e]||e}function dw(){const{breakpoints:n}=w.useContext(mc);return n}function pw(){const{minBreakpoint:n}=w.useContext(mc);return n}function mw(){const{dir:n}=w.useContext(mc);return n==="rtl"}function Yh(n){return n&&n.ownerDocument||document}function kI(n){var e=Yh(n);return e&&e.defaultView||window}function VI(n,e){return kI(n).getComputedStyle(n,e)}var LI=/([A-Z])/g;function PI(n){return n.replace(LI,"-$1").toLowerCase()}var jI=/^ms-/;function Wf(n){return PI(n).replace(jI,"-ms-")}var UI=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function BI(n){return!!(n&&UI.test(n))}function Li(n,e){var t="",i="";if(typeof e=="string")return n.style.getPropertyValue(Wf(e))||VI(n).getPropertyValue(Wf(e));Object.keys(e).forEach(function(a){var l=e[a];!l&&l!==0?n.style.removeProperty(Wf(a)):BI(a)?i+=a+"("+l+") ":t+=Wf(a)+": "+l+";"}),i&&(t+="transform: "+i+";"),n.style.cssText+=";"+t}var Om={exports:{}},Nm,VT;function zI(){if(VT)return Nm;VT=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Nm=n,Nm}var Dm,LT;function HI(){if(LT)return Dm;LT=1;var n=zI();function e(){}function t(){}return t.resetWarningCache=e,Dm=function(){function i(c,d,p,m,v,b){if(b!==n){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}i.isRequired=i;function a(){return i}var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:a,element:i,elementType:i,instanceOf:a,node:i,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:t,resetWarningCache:e};return l.PropTypes=l,l},Dm}var PT;function qI(){return PT||(PT=1,Om.exports=HI()()),Om.exports}var FI=qI();const $e=hc(FI),jT={disabled:!1},gw=Tt.createContext(null);var $I=function(e){return e.scrollTop},Vu="unmounted",Ds="exited",Tr="entering",Ni="entered",Zu="exiting",Qi=function(n){NI(e,n);function e(i,a){var l;l=n.call(this,i,a)||this;var c=a,d=c&&!c.isMounting?i.enter:i.appear,p;return l.appearStatus=null,i.in?d?(p=Ds,l.appearStatus=Tr):p=Ni:i.unmountOnExit||i.mountOnEnter?p=Vu:p=Ds,l.state={status:p},l.nextCallback=null,l}e.getDerivedStateFromProps=function(a,l){var c=a.in;return c&&l.status===Vu?{status:Ds}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(a){var l=null;if(a!==this.props){var c=this.state.status;this.props.in?c!==Tr&&c!==Ni&&(l=Tr):(c===Tr||c===Ni)&&(l=Zu)}this.updateStatus(!1,l)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var a=this.props.timeout,l,c,d;return l=c=d=a,a!=null&&typeof a!="number"&&(l=a.exit,c=a.enter,d=a.appear!==void 0?a.appear:c),{exit:l,enter:c,appear:d}},t.updateStatus=function(a,l){if(a===void 0&&(a=!1),l!==null)if(this.cancelNextCallback(),l===Tr){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:Xo.findDOMNode(this);c&&$I(c)}this.performEnter(a)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ds&&this.setState({status:Vu})},t.performEnter=function(a){var l=this,c=this.props.enter,d=this.context?this.context.isMounting:a,p=this.props.nodeRef?[d]:[Xo.findDOMNode(this),d],m=p[0],v=p[1],b=this.getTimeouts(),S=d?b.appear:b.enter;if(!a&&!c||jT.disabled){this.safeSetState({status:Ni},function(){l.props.onEntered(m)});return}this.props.onEnter(m,v),this.safeSetState({status:Tr},function(){l.props.onEntering(m,v),l.onTransitionEnd(S,function(){l.safeSetState({status:Ni},function(){l.props.onEntered(m,v)})})})},t.performExit=function(){var a=this,l=this.props.exit,c=this.getTimeouts(),d=this.props.nodeRef?void 0:Xo.findDOMNode(this);if(!l||jT.disabled){this.safeSetState({status:Ds},function(){a.props.onExited(d)});return}this.props.onExit(d),this.safeSetState({status:Zu},function(){a.props.onExiting(d),a.onTransitionEnd(c.exit,function(){a.safeSetState({status:Ds},function(){a.props.onExited(d)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(a,l){l=this.setNextCallback(l),this.setState(a,l)},t.setNextCallback=function(a){var l=this,c=!0;return this.nextCallback=function(d){c&&(c=!1,l.nextCallback=null,a(d))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},t.onTransitionEnd=function(a,l){this.setNextCallback(l);var c=this.props.nodeRef?this.props.nodeRef.current:Xo.findDOMNode(this),d=a==null&&!this.props.addEndListener;if(!c||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],m=p[0],v=p[1];this.props.addEndListener(m,v)}a!=null&&setTimeout(this.nextCallback,a)},t.render=function(){var a=this.state.status;if(a===Vu)return null;var l=this.props,c=l.children;l.in,l.mountOnEnter,l.unmountOnExit,l.appear,l.enter,l.exit,l.timeout,l.addEndListener,l.onEnter,l.onEntering,l.onEntered,l.onExit,l.onExiting,l.onExited,l.nodeRef;var d=hw(l,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Tt.createElement(gw.Provider,{value:null},typeof c=="function"?c(a,d):Tt.cloneElement(Tt.Children.only(c),d))},e}(Tt.Component);Qi.contextType=gw;Qi.propTypes={};function qo(){}Qi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:qo,onEntering:qo,onEntered:qo,onExit:qo,onExiting:qo,onExited:qo};Qi.UNMOUNTED=Vu;Qi.EXITED=Ds;Qi.ENTERING=Tr;Qi.ENTERED=Ni;Qi.EXITING=Zu;function GI(n){return n.code==="Escape"||n.keyCode===27}function KI(){const n=w.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function vl(n){if(!n||typeof n=="function")return null;const{major:e}=KI();return e>=19?n.props.ref:n.ref}const Xh=!!(typeof window<"u"&&window.document&&window.document.createElement);var sg=!1,ag=!1;try{var Mm={get passive(){return sg=!0},get once(){return ag=sg=!0}};Xh&&(window.addEventListener("test",Mm,Mm),window.removeEventListener("test",Mm,!0))}catch{}function yw(n,e,t,i){if(i&&typeof i!="boolean"&&!ag){var a=i.once,l=i.capture,c=t;!ag&&a&&(c=t.__once||function d(p){this.removeEventListener(e,d,l),t.call(this,p)},t.__once=c),n.addEventListener(e,c,sg?i:l)}n.addEventListener(e,t,i)}function QI(n,e,t,i){var a=i&&typeof i!="boolean"?i.capture:i;n.removeEventListener(e,t,a),t.__once&&n.removeEventListener(e,t.__once,a)}function js(n,e,t,i){return yw(n,e,t,i),function(){QI(n,e,t,i)}}function YI(n,e,t,i){if(i===void 0&&(i=!0),n){var a=document.createEvent("HTMLEvents");a.initEvent(e,t,i),n.dispatchEvent(a)}}function XI(n){var e=Li(n,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function WI(n,e,t){t===void 0&&(t=5);var i=!1,a=setTimeout(function(){i||YI(n,"transitionend",!0)},e+t),l=js(n,"transitionend",function(){i=!0},{once:!0});return function(){clearTimeout(a),l()}}function ZI(n,e,t,i){t==null&&(t=XI(n)||0);var a=WI(n,t,i),l=js(n,"transitionend",e);return function(){a(),l()}}function UT(n,e){const t=Li(n,e)||"",i=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*i}function Wh(n,e){const t=UT(n,"transitionDuration"),i=UT(n,"transitionDelay"),a=ZI(n,l=>{l.target===n&&(a(),e(l))},t+i)}function Du(...n){return n.filter(e=>e!=null).reduce((e,t)=>{if(typeof t!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?t:function(...a){e.apply(this,a),t.apply(this,a)}},null)}function qg(n){n.offsetHeight}const BT=n=>!n||typeof n=="function"?n:e=>{n.current=e};function JI(n,e){const t=BT(n),i=BT(e);return a=>{t&&t(a),i&&i(a)}}function Fg(n,e){return w.useMemo(()=>JI(n,e),[n,e])}function eO(n){return n&&"setState"in n?Xo.findDOMNode(n):n??null}const Zh=Tt.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:i,onExiting:a,onExited:l,addEndListener:c,children:d,childRef:p,...m},v)=>{const b=w.useRef(null),S=Fg(b,p),R=ee=>{S(eO(ee))},I=ee=>k=>{ee&&b.current&&ee(b.current,k)},j=w.useCallback(I(n),[n]),N=w.useCallback(I(e),[e]),B=w.useCallback(I(t),[t]),G=w.useCallback(I(i),[i]),q=w.useCallback(I(a),[a]),Y=w.useCallback(I(l),[l]),W=w.useCallback(I(c),[c]);return T.jsx(Qi,{ref:v,...m,onEnter:j,onEntered:B,onEntering:N,onExit:G,onExited:Y,onExiting:q,addEndListener:W,nodeRef:b,children:typeof d=="function"?(ee,k)=>d(ee,{...k,ref:R}):Tt.cloneElement(d,{ref:R})})}),tO={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function nO(n,e){const t=`offset${n[0].toUpperCase()}${n.slice(1)}`,i=e[t],a=tO[n];return i+parseInt(Li(e,a[0]),10)+parseInt(Li(e,a[1]),10)}const rO={[Ds]:"collapse",[Zu]:"collapsing",[Tr]:"collapsing",[Ni]:"collapse show"},iO=Tt.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:i,onExiting:a,className:l,children:c,dimension:d="height",in:p=!1,timeout:m=300,mountOnEnter:v=!1,unmountOnExit:b=!1,appear:S=!1,getDimensionValue:R=nO,...I},j)=>{const N=typeof d=="function"?d():d,B=w.useMemo(()=>Du(ee=>{ee.style[N]="0"},n),[N,n]),G=w.useMemo(()=>Du(ee=>{const k=`scroll${N[0].toUpperCase()}${N.slice(1)}`;ee.style[N]=`${ee[k]}px`},e),[N,e]),q=w.useMemo(()=>Du(ee=>{ee.style[N]=null},t),[N,t]),Y=w.useMemo(()=>Du(ee=>{ee.style[N]=`${R(N,ee)}px`,qg(ee)},i),[i,R,N]),W=w.useMemo(()=>Du(ee=>{ee.style[N]=null},a),[N,a]);return T.jsx(Zh,{ref:j,addEndListener:Wh,...I,"aria-expanded":I.role?p:null,onEnter:B,onEntering:G,onEntered:q,onExit:Y,onExiting:W,childRef:vl(c),in:p,timeout:m,mountOnEnter:v,unmountOnExit:b,appear:S,children:(ee,k)=>Tt.cloneElement(c,{...k,className:_e(l,c.props.className,rO[ee],N==="width"&&"collapse-horizontal")})})});function vw(n){const e=w.useRef(n);return w.useEffect(()=>{e.current=n},[n]),e}function Ba(n){const e=vw(n);return w.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const $g=n=>w.forwardRef((e,t)=>T.jsx("div",{...e,ref:t,className:_e(e.className,n)}));function sO(){return w.useState(null)}function aO(n){const e=w.useRef(n);return w.useEffect(()=>{e.current=n},[n]),e}function pn(n){const e=aO(n);return w.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function oO(n,e,t,i=!1){const a=pn(t);w.useEffect(()=>{const l=typeof n=="function"?n():n;return l.addEventListener(e,a,i),()=>l.removeEventListener(e,a,i)},[n])}function _w(){const n=w.useRef(!0),e=w.useRef(()=>n.current);return w.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function Ew(n){const e=w.useRef(null);return w.useEffect(()=>{e.current=n}),e.current}const lO=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",uO=typeof document<"u",zT=uO||lO?w.useLayoutEffect:w.useEffect,cO=["as","disabled"];function fO(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function hO(n){return!n||n.trim()==="#"}function Gg({tagName:n,disabled:e,href:t,target:i,rel:a,role:l,onClick:c,tabIndex:d=0,type:p}){n||(t!=null||i!=null||a!=null?n="a":n="button");const m={tagName:n};if(n==="button")return[{type:p||"button",disabled:e},m];const v=S=>{if((e||n==="a"&&hO(t))&&S.preventDefault(),e){S.stopPropagation();return}c==null||c(S)},b=S=>{S.key===" "&&(S.preventDefault(),v(S))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:l??"button",disabled:void 0,tabIndex:e?void 0:d,href:t,target:n==="a"?i:void 0,"aria-disabled":e||void 0,rel:n==="a"?a:void 0,onClick:v,onKeyDown:b},m]}const Kg=w.forwardRef((n,e)=>{let{as:t,disabled:i}=n,a=fO(n,cO);const[l,{tagName:c}]=Gg(Object.assign({tagName:t,disabled:i},a));return T.jsx(c,Object.assign({},a,l,{ref:e}))});Kg.displayName="Button";const dO=["onKeyDown"];function pO(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function mO(n){return!n||n.trim()==="#"}const Ju=w.forwardRef((n,e)=>{let{onKeyDown:t}=n,i=pO(n,dO);const[a]=Gg(Object.assign({tagName:"a"},i)),l=pn(c=>{a.onKeyDown(c),t==null||t(c)});return mO(i.href)||i.role==="button"?T.jsx("a",Object.assign({ref:e},i,a,{onKeyDown:l})):T.jsx("a",Object.assign({ref:e},i,{onKeyDown:t}))});Ju.displayName="Anchor";const gO={[Tr]:"show",[Ni]:"show"},Tw=w.forwardRef(({className:n,children:e,transitionClasses:t={},onEnter:i,...a},l)=>{const c={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...a},d=w.useCallback((p,m)=>{qg(p),i==null||i(p,m)},[i]);return T.jsx(Zh,{ref:l,addEndListener:Wh,...c,onEnter:d,childRef:vl(e),children:(p,m)=>w.cloneElement(e,{...m,className:_e("fade",n,e.props.className,gO[p],t[p])})})});Tw.displayName="Fade";const yO={"aria-label":$e.string,onClick:$e.func,variant:$e.oneOf(["white"])},Qg=w.forwardRef(({className:n,variant:e,"aria-label":t="Close",...i},a)=>T.jsx("button",{ref:a,type:"button",className:_e("btn-close",e&&`btn-close-${e}`,n),"aria-label":t,...i}));Qg.displayName="CloseButton";Qg.propTypes=yO;const bw=w.forwardRef(({bsPrefix:n,bg:e="primary",pill:t=!1,text:i,className:a,as:l="span",...c},d)=>{const p=Se(n,"badge");return T.jsx(l,{ref:d,...c,className:_e(a,p,t&&"rounded-pill",i&&`text-${i}`,e&&`bg-${e}`)})});bw.displayName="Badge";const In=w.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:i,active:a=!1,disabled:l=!1,className:c,...d},p)=>{const m=Se(e,"btn"),[v,{tagName:b}]=Gg({tagName:n,disabled:l,...d}),S=b;return T.jsx(S,{...v,...d,ref:p,disabled:l,className:_e(c,m,a&&"active",t&&`${m}-${t}`,i&&`${m}-${i}`,d.href&&l&&"disabled")})});In.displayName="Button";const Yg=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},a)=>(e=Se(e,"card-body"),T.jsx(t,{ref:a,className:_e(n,e),...i})));Yg.displayName="CardBody";const ww=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},a)=>(e=Se(e,"card-footer"),T.jsx(t,{ref:a,className:_e(n,e),...i})));ww.displayName="CardFooter";const Xg=w.createContext(null);Xg.displayName="CardHeaderContext";const Sw=w.forwardRef(({bsPrefix:n,className:e,as:t="div",...i},a)=>{const l=Se(n,"card-header"),c=w.useMemo(()=>({cardHeaderBsPrefix:l}),[l]);return T.jsx(Xg.Provider,{value:c,children:T.jsx(t,{ref:a,...i,className:_e(e,l)})})});Sw.displayName="CardHeader";const Aw=w.forwardRef(({bsPrefix:n,className:e,variant:t,as:i="img",...a},l)=>{const c=Se(n,"card-img");return T.jsx(i,{ref:l,className:_e(t?`${c}-${t}`:c,e),...a})});Aw.displayName="CardImg";const Rw=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},a)=>(e=Se(e,"card-img-overlay"),T.jsx(t,{ref:a,className:_e(n,e),...i})));Rw.displayName="CardImgOverlay";const Cw=w.forwardRef(({className:n,bsPrefix:e,as:t="a",...i},a)=>(e=Se(e,"card-link"),T.jsx(t,{ref:a,className:_e(n,e),...i})));Cw.displayName="CardLink";const vO=$g("h6"),xw=w.forwardRef(({className:n,bsPrefix:e,as:t=vO,...i},a)=>(e=Se(e,"card-subtitle"),T.jsx(t,{ref:a,className:_e(n,e),...i})));xw.displayName="CardSubtitle";const Iw=w.forwardRef(({className:n,bsPrefix:e,as:t="p",...i},a)=>(e=Se(e,"card-text"),T.jsx(t,{ref:a,className:_e(n,e),...i})));Iw.displayName="CardText";const _O=$g("h5"),Ow=w.forwardRef(({className:n,bsPrefix:e,as:t=_O,...i},a)=>(e=Se(e,"card-title"),T.jsx(t,{ref:a,className:_e(n,e),...i})));Ow.displayName="CardTitle";const Nw=w.forwardRef(({bsPrefix:n,className:e,bg:t,text:i,border:a,body:l=!1,children:c,as:d="div",...p},m)=>{const v=Se(n,"card");return T.jsx(d,{ref:m,...p,className:_e(e,v,t&&`bg-${t}`,i&&`text-${i}`,a&&`border-${a}`),children:l?T.jsx(Yg,{children:c}):c})});Nw.displayName="Card";const Cn=Object.assign(Nw,{Img:Aw,Title:Ow,Subtitle:xw,Body:Yg,Link:Cw,Text:Iw,Header:Sw,Footer:ww,ImgOverlay:Rw});function EO(n,e){const t=w.useRef(!0);w.useEffect(()=>{if(t.current){t.current=!1;return}return n()},e)}function TO(){const n=w.useRef(!0),e=w.useRef(()=>n.current);return w.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function bO(n){const e=w.useRef(n);return e.current=n,e}function wO(n){const e=bO(n);w.useEffect(()=>()=>e.current(),[])}const og=2**31-1;function Dw(n,e,t){const i=t-Date.now();n.current=i<=og?setTimeout(e,i):setTimeout(()=>Dw(n,e,t),og)}function SO(){const n=TO(),e=w.useRef();return wO(()=>clearTimeout(e.current)),w.useMemo(()=>{const t=()=>clearTimeout(e.current);function i(a,l=0){n()&&(t(),l<=og?e.current=setTimeout(a,l):Dw(e,a,Date.now()+l))}return{set:i,clear:t,handleRef:e}},[])}const Mw=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},a)=>(e=Se(e,"carousel-caption"),T.jsx(t,{ref:a,className:_e(n,e),...i})));Mw.displayName="CarouselCaption";const kw=w.forwardRef(({as:n="div",bsPrefix:e,className:t,...i},a)=>{const l=_e(t,Se(e,"carousel-item"));return T.jsx(n,{ref:a,...i,className:l})});kw.displayName="CarouselItem";function HT(n,e){let t=0;return w.Children.map(n,i=>w.isValidElement(i)?e(i,t++):i)}function AO(n,e){let t=0;w.Children.forEach(n,i=>{w.isValidElement(i)&&e(i,t++)})}function RO(n,e){return w.Children.toArray(n).some(t=>w.isValidElement(t)&&t.type===e)}const CO=40;function xO(n){if(!n||!n.style||!n.parentNode||!n.parentNode.style)return!1;const e=getComputedStyle(n);return e.display!=="none"&&e.visibility!=="hidden"&&getComputedStyle(n.parentNode).display!=="none"}const Vw=w.forwardRef(({defaultActiveIndex:n=0,...e},t)=>{const{as:i="div",bsPrefix:a,slide:l=!0,fade:c=!1,controls:d=!0,indicators:p=!0,indicatorLabels:m=[],activeIndex:v,onSelect:b,onSlide:S,onSlid:R,interval:I=5e3,keyboard:j=!0,onKeyDown:N,pause:B="hover",onMouseOver:G,onMouseOut:q,wrap:Y=!0,touch:W=!0,onTouchStart:ee,onTouchMove:k,onTouchEnd:O,prevIcon:x=T.jsx("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:M="Previous",nextIcon:L=T.jsx("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:U="Next",variant:D,className:Oe,children:De,...se}=Qh({defaultActiveIndex:n,...e},{activeIndex:"onSelect"}),he=Se(a,"carousel"),ce=mw(),we=w.useRef(null),[P,ne]=w.useState("next"),[de,ue]=w.useState(!1),[oe,ve]=w.useState(!1),[me,it]=w.useState(v||0);w.useEffect(()=>{!oe&&v!==me&&(we.current?ne(we.current):ne((v||0)>me?"next":"prev"),l&&ve(!0),it(v||0))},[v,oe,me,l]),w.useEffect(()=>{we.current&&(we.current=null)});let Re=0,We;AO(De,(Ae,qe)=>{++Re,qe===v&&(We=Ae.props.interval)});const je=vw(We),Ze=w.useCallback(Ae=>{if(oe)return;let qe=me-1;if(qe<0){if(!Y)return;qe=Re-1}we.current="prev",b==null||b(qe,Ae)},[oe,me,b,Y,Re]),ft=Ba(Ae=>{if(oe)return;let qe=me+1;if(qe>=Re){if(!Y)return;qe=0}we.current="next",b==null||b(qe,Ae)}),mt=w.useRef();w.useImperativeHandle(t,()=>({element:mt.current,prev:Ze,next:ft}));const Ft=Ba(()=>{!document.hidden&&xO(mt.current)&&(ce?Ze():ft())}),Le=P==="next"?"start":"end";EO(()=>{l||(S==null||S(me,Le),R==null||R(me,Le))},[me]);const Jt=`${he}-item-${P}`,bn=`${he}-item-${Le}`,Cr=w.useCallback(Ae=>{qg(Ae),S==null||S(me,Le)},[S,me,Le]),xr=w.useCallback(()=>{ve(!1),R==null||R(me,Le)},[R,me,Le]),en=w.useCallback(Ae=>{if(j&&!/input|textarea/i.test(Ae.target.tagName))switch(Ae.key){case"ArrowLeft":Ae.preventDefault(),ce?ft(Ae):Ze(Ae);return;case"ArrowRight":Ae.preventDefault(),ce?Ze(Ae):ft(Ae);return}N==null||N(Ae)},[j,N,Ze,ft,ce]),Mn=w.useCallback(Ae=>{B==="hover"&&ue(!0),G==null||G(Ae)},[B,G]),Xi=w.useCallback(Ae=>{ue(!1),q==null||q(Ae)},[q]),hr=w.useRef(0),gt=w.useRef(0),Ir=SO(),dt=w.useCallback(Ae=>{hr.current=Ae.touches[0].clientX,gt.current=0,B==="hover"&&ue(!0),ee==null||ee(Ae)},[B,ee]),yt=w.useCallback(Ae=>{Ae.touches&&Ae.touches.length>1?gt.current=0:gt.current=Ae.touches[0].clientX-hr.current,k==null||k(Ae)},[k]),wn=w.useCallback(Ae=>{if(W){const qe=gt.current;Math.abs(qe)>CO&&(qe>0?Ze(Ae):ft(Ae))}B==="hover"&&Ir.set(()=>{ue(!1)},I||void 0),O==null||O(Ae)},[W,B,Ze,ft,Ir,I,O]),ra=I!=null&&!de&&!oe,si=w.useRef();w.useEffect(()=>{var Ae,qe;if(!ra)return;const lt=ce?Ze:ft;return si.current=window.setInterval(document.visibilityState?Ft:lt,(Ae=(qe=je.current)!=null?qe:I)!=null?Ae:void 0),()=>{si.current!==null&&clearInterval(si.current)}},[ra,Ze,ft,je,I,Ft,ce]);const eo=w.useMemo(()=>p&&Array.from({length:Re},(Ae,qe)=>lt=>{b==null||b(qe,lt)}),[p,Re,b]);return T.jsxs(i,{ref:mt,...se,onKeyDown:en,onMouseOver:Mn,onMouseOut:Xi,onTouchStart:dt,onTouchMove:yt,onTouchEnd:wn,className:_e(Oe,he,l&&"slide",c&&`${he}-fade`,D&&`${he}-${D}`),children:[p&&T.jsx("div",{className:`${he}-indicators`,children:HT(De,(Ae,qe)=>T.jsx("button",{type:"button","data-bs-target":"","aria-label":m!=null&&m.length?m[qe]:`Slide ${qe+1}`,className:qe===me?"active":void 0,onClick:eo?eo[qe]:void 0,"aria-current":qe===me},qe))}),T.jsx("div",{className:`${he}-inner`,children:HT(De,(Ae,qe)=>{const lt=qe===me;return l?T.jsx(Zh,{in:lt,onEnter:lt?Cr:void 0,onEntered:lt?xr:void 0,addEndListener:Wh,children:(dr,Fn)=>w.cloneElement(Ae,{...Fn,className:_e(Ae.props.className,lt&&dr!=="entered"&&Jt,(dr==="entered"||dr==="exiting")&&"active",(dr==="entering"||dr==="exiting")&&bn)})}):w.cloneElement(Ae,{className:_e(Ae.props.className,lt&&"active")})})}),d&&T.jsxs(T.Fragment,{children:[(Y||v!==0)&&T.jsxs(Ju,{className:`${he}-control-prev`,onClick:Ze,children:[x,M&&T.jsx("span",{className:"visually-hidden",children:M})]}),(Y||v!==Re-1)&&T.jsxs(Ju,{className:`${he}-control-next`,onClick:ft,children:[L,U&&T.jsx("span",{className:"visually-hidden",children:U})]})]})]})});Vw.displayName="Carousel";const ka=Object.assign(Vw,{Caption:Mw,Item:kw});function IO({as:n,bsPrefix:e,className:t,...i}){e=Se(e,"col");const a=dw(),l=pw(),c=[],d=[];return a.forEach(p=>{const m=i[p];delete i[p];let v,b,S;typeof m=="object"&&m!=null?{span:v,offset:b,order:S}=m:v=m;const R=p!==l?`-${p}`:"";v&&c.push(v===!0?`${e}${R}`:`${e}${R}-${v}`),S!=null&&d.push(`order${R}-${S}`),b!=null&&d.push(`offset${R}-${b}`)}),[{...i,className:_e(t,...c,...d)},{as:n,bsPrefix:e,spans:c}]}const wr=w.forwardRef((n,e)=>{const[{className:t,...i},{as:a="div",bsPrefix:l,spans:c}]=IO(n);return T.jsx(a,{...i,ref:e,className:_e(t,!c.length&&l)})});wr.displayName="Col";const Yi=w.forwardRef(({bsPrefix:n,fluid:e=!1,as:t="div",className:i,...a},l)=>{const c=Se(n,"container"),d=typeof e=="string"?`-${e}`:"-fluid";return T.jsx(t,{ref:l,...a,className:_e(i,e?`${c}${d}`:c)})});Yi.displayName="Container";var OO=Function.prototype.bind.call(Function.prototype.call,[].slice);function Oi(n,e){return OO(n.querySelectorAll(e))}function NO(n,e,t){const i=w.useRef(n!==void 0),[a,l]=w.useState(e),c=n!==void 0,d=i.current;return i.current=c,!c&&d&&a!==e&&l(e),[c?n:a,w.useCallback((...p)=>{const[m,...v]=p;let b=t==null?void 0:t(m,...v);return l(m),b},[t])]}function Lw(){const[,n]=w.useReducer(e=>e+1,0);return n}const Jh=w.createContext(null);var qT=Object.prototype.hasOwnProperty;function FT(n,e,t){for(t of n.keys())if(zu(t,e))return t}function zu(n,e){var t,i,a;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((i=n.length)===e.length)for(;i--&&zu(n[i],e[i]););return i===-1}if(t===Set){if(n.size!==e.size)return!1;for(i of n)if(a=i,a&&typeof a=="object"&&(a=FT(e,a),!a)||!e.has(a))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(i of n)if(a=i[0],a&&typeof a=="object"&&(a=FT(e,a),!a)||!zu(i[1],e.get(a)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((i=n.byteLength)===e.byteLength)for(;i--&&n.getInt8(i)===e.getInt8(i););return i===-1}if(ArrayBuffer.isView(n)){if((i=n.byteLength)===e.byteLength)for(;i--&&n[i]===e[i];);return i===-1}if(!t||typeof n=="object"){i=0;for(t in n)if(qT.call(n,t)&&++i&&!qT.call(e,t)||!(t in e)||!zu(n[t],e[t]))return!1;return Object.keys(e).length===i}}return n!==n&&e!==e}function DO(n){const e=_w();return[n[0],w.useCallback(t=>{if(e())return n[1](t)},[e,n[1]])]}var On="top",cr="bottom",fr="right",Nn="left",Wg="auto",gc=[On,cr,fr,Nn],nl="start",ec="end",MO="clippingParents",Pw="viewport",Mu="popper",kO="reference",$T=gc.reduce(function(n,e){return n.concat([e+"-"+nl,e+"-"+ec])},[]),jw=[].concat(gc,[Wg]).reduce(function(n,e){return n.concat([e,e+"-"+nl,e+"-"+ec])},[]),VO="beforeRead",LO="read",PO="afterRead",jO="beforeMain",UO="main",BO="afterMain",zO="beforeWrite",HO="write",qO="afterWrite",FO=[VO,LO,PO,jO,UO,BO,zO,HO,qO];function Kr(n){return n.split("-")[0]}function qn(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function za(n){var e=qn(n).Element;return n instanceof e||n instanceof Element}function Qr(n){var e=qn(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function Zg(n){if(typeof ShadowRoot>"u")return!1;var e=qn(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}var Pa=Math.max,Th=Math.min,rl=Math.round;function lg(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Uw(){return!/^((?!chrome|android).)*safari/i.test(lg())}function il(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var i=n.getBoundingClientRect(),a=1,l=1;e&&Qr(n)&&(a=n.offsetWidth>0&&rl(i.width)/n.offsetWidth||1,l=n.offsetHeight>0&&rl(i.height)/n.offsetHeight||1);var c=za(n)?qn(n):window,d=c.visualViewport,p=!Uw()&&t,m=(i.left+(p&&d?d.offsetLeft:0))/a,v=(i.top+(p&&d?d.offsetTop:0))/l,b=i.width/a,S=i.height/l;return{width:b,height:S,top:v,right:m+b,bottom:v+S,left:m,x:m,y:v}}function Jg(n){var e=il(n),t=n.offsetWidth,i=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:i}}function Bw(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&Zg(t)){var i=e;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Fs(n){return n?(n.nodeName||"").toLowerCase():null}function Ui(n){return qn(n).getComputedStyle(n)}function $O(n){return["table","td","th"].indexOf(Fs(n))>=0}function ea(n){return((za(n)?n.ownerDocument:n.document)||window.document).documentElement}function ed(n){return Fs(n)==="html"?n:n.assignedSlot||n.parentNode||(Zg(n)?n.host:null)||ea(n)}function GT(n){return!Qr(n)||Ui(n).position==="fixed"?null:n.offsetParent}function GO(n){var e=/firefox/i.test(lg()),t=/Trident/i.test(lg());if(t&&Qr(n)){var i=Ui(n);if(i.position==="fixed")return null}var a=ed(n);for(Zg(a)&&(a=a.host);Qr(a)&&["html","body"].indexOf(Fs(a))<0;){var l=Ui(a);if(l.transform!=="none"||l.perspective!=="none"||l.contain==="paint"||["transform","perspective"].indexOf(l.willChange)!==-1||e&&l.willChange==="filter"||e&&l.filter&&l.filter!=="none")return a;a=a.parentNode}return null}function yc(n){for(var e=qn(n),t=GT(n);t&&$O(t)&&Ui(t).position==="static";)t=GT(t);return t&&(Fs(t)==="html"||Fs(t)==="body"&&Ui(t).position==="static")?e:t||GO(n)||e}function ey(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Hu(n,e,t){return Pa(n,Th(e,t))}function KO(n,e,t){var i=Hu(n,e,t);return i>t?t:i}function zw(){return{top:0,right:0,bottom:0,left:0}}function Hw(n){return Object.assign({},zw(),n)}function qw(n,e){return e.reduce(function(t,i){return t[i]=n,t},{})}var QO=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,Hw(typeof e!="number"?e:qw(e,gc))};function YO(n){var e,t=n.state,i=n.name,a=n.options,l=t.elements.arrow,c=t.modifiersData.popperOffsets,d=Kr(t.placement),p=ey(d),m=[Nn,fr].indexOf(d)>=0,v=m?"height":"width";if(!(!l||!c)){var b=QO(a.padding,t),S=Jg(l),R=p==="y"?On:Nn,I=p==="y"?cr:fr,j=t.rects.reference[v]+t.rects.reference[p]-c[p]-t.rects.popper[v],N=c[p]-t.rects.reference[p],B=yc(l),G=B?p==="y"?B.clientHeight||0:B.clientWidth||0:0,q=j/2-N/2,Y=b[R],W=G-S[v]-b[I],ee=G/2-S[v]/2+q,k=Hu(Y,ee,W),O=p;t.modifiersData[i]=(e={},e[O]=k,e.centerOffset=k-ee,e)}}function XO(n){var e=n.state,t=n.options,i=t.element,a=i===void 0?"[data-popper-arrow]":i;a!=null&&(typeof a=="string"&&(a=e.elements.popper.querySelector(a),!a)||Bw(e.elements.popper,a)&&(e.elements.arrow=a))}const WO={name:"arrow",enabled:!0,phase:"main",fn:YO,effect:XO,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function sl(n){return n.split("-")[1]}var ZO={top:"auto",right:"auto",bottom:"auto",left:"auto"};function JO(n,e){var t=n.x,i=n.y,a=e.devicePixelRatio||1;return{x:rl(t*a)/a||0,y:rl(i*a)/a||0}}function KT(n){var e,t=n.popper,i=n.popperRect,a=n.placement,l=n.variation,c=n.offsets,d=n.position,p=n.gpuAcceleration,m=n.adaptive,v=n.roundOffsets,b=n.isFixed,S=c.x,R=S===void 0?0:S,I=c.y,j=I===void 0?0:I,N=typeof v=="function"?v({x:R,y:j}):{x:R,y:j};R=N.x,j=N.y;var B=c.hasOwnProperty("x"),G=c.hasOwnProperty("y"),q=Nn,Y=On,W=window;if(m){var ee=yc(t),k="clientHeight",O="clientWidth";if(ee===qn(t)&&(ee=ea(t),Ui(ee).position!=="static"&&d==="absolute"&&(k="scrollHeight",O="scrollWidth")),ee=ee,a===On||(a===Nn||a===fr)&&l===ec){Y=cr;var x=b&&ee===W&&W.visualViewport?W.visualViewport.height:ee[k];j-=x-i.height,j*=p?1:-1}if(a===Nn||(a===On||a===cr)&&l===ec){q=fr;var M=b&&ee===W&&W.visualViewport?W.visualViewport.width:ee[O];R-=M-i.width,R*=p?1:-1}}var L=Object.assign({position:d},m&&ZO),U=v===!0?JO({x:R,y:j},qn(t)):{x:R,y:j};if(R=U.x,j=U.y,p){var D;return Object.assign({},L,(D={},D[Y]=G?"0":"",D[q]=B?"0":"",D.transform=(W.devicePixelRatio||1)<=1?"translate("+R+"px, "+j+"px)":"translate3d("+R+"px, "+j+"px, 0)",D))}return Object.assign({},L,(e={},e[Y]=G?j+"px":"",e[q]=B?R+"px":"",e.transform="",e))}function eN(n){var e=n.state,t=n.options,i=t.gpuAcceleration,a=i===void 0?!0:i,l=t.adaptive,c=l===void 0?!0:l,d=t.roundOffsets,p=d===void 0?!0:d,m={placement:Kr(e.placement),variation:sl(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:a,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,KT(Object.assign({},m,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:c,roundOffsets:p})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,KT(Object.assign({},m,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:p})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const tN={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:eN,data:{}};var Zf={passive:!0};function nN(n){var e=n.state,t=n.instance,i=n.options,a=i.scroll,l=a===void 0?!0:a,c=i.resize,d=c===void 0?!0:c,p=qn(e.elements.popper),m=[].concat(e.scrollParents.reference,e.scrollParents.popper);return l&&m.forEach(function(v){v.addEventListener("scroll",t.update,Zf)}),d&&p.addEventListener("resize",t.update,Zf),function(){l&&m.forEach(function(v){v.removeEventListener("scroll",t.update,Zf)}),d&&p.removeEventListener("resize",t.update,Zf)}}const rN={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:nN,data:{}};var iN={left:"right",right:"left",bottom:"top",top:"bottom"};function ch(n){return n.replace(/left|right|bottom|top/g,function(e){return iN[e]})}var sN={start:"end",end:"start"};function QT(n){return n.replace(/start|end/g,function(e){return sN[e]})}function ty(n){var e=qn(n),t=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:t,scrollTop:i}}function ny(n){return il(ea(n)).left+ty(n).scrollLeft}function aN(n,e){var t=qn(n),i=ea(n),a=t.visualViewport,l=i.clientWidth,c=i.clientHeight,d=0,p=0;if(a){l=a.width,c=a.height;var m=Uw();(m||!m&&e==="fixed")&&(d=a.offsetLeft,p=a.offsetTop)}return{width:l,height:c,x:d+ny(n),y:p}}function oN(n){var e,t=ea(n),i=ty(n),a=(e=n.ownerDocument)==null?void 0:e.body,l=Pa(t.scrollWidth,t.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),c=Pa(t.scrollHeight,t.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),d=-i.scrollLeft+ny(n),p=-i.scrollTop;return Ui(a||t).direction==="rtl"&&(d+=Pa(t.clientWidth,a?a.clientWidth:0)-l),{width:l,height:c,x:d,y:p}}function ry(n){var e=Ui(n),t=e.overflow,i=e.overflowX,a=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+a+i)}function Fw(n){return["html","body","#document"].indexOf(Fs(n))>=0?n.ownerDocument.body:Qr(n)&&ry(n)?n:Fw(ed(n))}function qu(n,e){var t;e===void 0&&(e=[]);var i=Fw(n),a=i===((t=n.ownerDocument)==null?void 0:t.body),l=qn(i),c=a?[l].concat(l.visualViewport||[],ry(i)?i:[]):i,d=e.concat(c);return a?d:d.concat(qu(ed(c)))}function ug(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function lN(n,e){var t=il(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function YT(n,e,t){return e===Pw?ug(aN(n,t)):za(e)?lN(e,t):ug(oN(ea(n)))}function uN(n){var e=qu(ed(n)),t=["absolute","fixed"].indexOf(Ui(n).position)>=0,i=t&&Qr(n)?yc(n):n;return za(i)?e.filter(function(a){return za(a)&&Bw(a,i)&&Fs(a)!=="body"}):[]}function cN(n,e,t,i){var a=e==="clippingParents"?uN(n):[].concat(e),l=[].concat(a,[t]),c=l[0],d=l.reduce(function(p,m){var v=YT(n,m,i);return p.top=Pa(v.top,p.top),p.right=Th(v.right,p.right),p.bottom=Th(v.bottom,p.bottom),p.left=Pa(v.left,p.left),p},YT(n,c,i));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}function $w(n){var e=n.reference,t=n.element,i=n.placement,a=i?Kr(i):null,l=i?sl(i):null,c=e.x+e.width/2-t.width/2,d=e.y+e.height/2-t.height/2,p;switch(a){case On:p={x:c,y:e.y-t.height};break;case cr:p={x:c,y:e.y+e.height};break;case fr:p={x:e.x+e.width,y:d};break;case Nn:p={x:e.x-t.width,y:d};break;default:p={x:e.x,y:e.y}}var m=a?ey(a):null;if(m!=null){var v=m==="y"?"height":"width";switch(l){case nl:p[m]=p[m]-(e[v]/2-t[v]/2);break;case ec:p[m]=p[m]+(e[v]/2-t[v]/2);break}}return p}function tc(n,e){e===void 0&&(e={});var t=e,i=t.placement,a=i===void 0?n.placement:i,l=t.strategy,c=l===void 0?n.strategy:l,d=t.boundary,p=d===void 0?MO:d,m=t.rootBoundary,v=m===void 0?Pw:m,b=t.elementContext,S=b===void 0?Mu:b,R=t.altBoundary,I=R===void 0?!1:R,j=t.padding,N=j===void 0?0:j,B=Hw(typeof N!="number"?N:qw(N,gc)),G=S===Mu?kO:Mu,q=n.rects.popper,Y=n.elements[I?G:S],W=cN(za(Y)?Y:Y.contextElement||ea(n.elements.popper),p,v,c),ee=il(n.elements.reference),k=$w({reference:ee,element:q,placement:a}),O=ug(Object.assign({},q,k)),x=S===Mu?O:ee,M={top:W.top-x.top+B.top,bottom:x.bottom-W.bottom+B.bottom,left:W.left-x.left+B.left,right:x.right-W.right+B.right},L=n.modifiersData.offset;if(S===Mu&&L){var U=L[a];Object.keys(M).forEach(function(D){var Oe=[fr,cr].indexOf(D)>=0?1:-1,De=[On,cr].indexOf(D)>=0?"y":"x";M[D]+=U[De]*Oe})}return M}function fN(n,e){e===void 0&&(e={});var t=e,i=t.placement,a=t.boundary,l=t.rootBoundary,c=t.padding,d=t.flipVariations,p=t.allowedAutoPlacements,m=p===void 0?jw:p,v=sl(i),b=v?d?$T:$T.filter(function(I){return sl(I)===v}):gc,S=b.filter(function(I){return m.indexOf(I)>=0});S.length===0&&(S=b);var R=S.reduce(function(I,j){return I[j]=tc(n,{placement:j,boundary:a,rootBoundary:l,padding:c})[Kr(j)],I},{});return Object.keys(R).sort(function(I,j){return R[I]-R[j]})}function hN(n){if(Kr(n)===Wg)return[];var e=ch(n);return[QT(n),e,QT(e)]}function dN(n){var e=n.state,t=n.options,i=n.name;if(!e.modifiersData[i]._skip){for(var a=t.mainAxis,l=a===void 0?!0:a,c=t.altAxis,d=c===void 0?!0:c,p=t.fallbackPlacements,m=t.padding,v=t.boundary,b=t.rootBoundary,S=t.altBoundary,R=t.flipVariations,I=R===void 0?!0:R,j=t.allowedAutoPlacements,N=e.options.placement,B=Kr(N),G=B===N,q=p||(G||!I?[ch(N)]:hN(N)),Y=[N].concat(q).reduce(function(oe,ve){return oe.concat(Kr(ve)===Wg?fN(e,{placement:ve,boundary:v,rootBoundary:b,padding:m,flipVariations:I,allowedAutoPlacements:j}):ve)},[]),W=e.rects.reference,ee=e.rects.popper,k=new Map,O=!0,x=Y[0],M=0;M<Y.length;M++){var L=Y[M],U=Kr(L),D=sl(L)===nl,Oe=[On,cr].indexOf(U)>=0,De=Oe?"width":"height",se=tc(e,{placement:L,boundary:v,rootBoundary:b,altBoundary:S,padding:m}),he=Oe?D?fr:Nn:D?cr:On;W[De]>ee[De]&&(he=ch(he));var ce=ch(he),we=[];if(l&&we.push(se[U]<=0),d&&we.push(se[he]<=0,se[ce]<=0),we.every(function(oe){return oe})){x=L,O=!1;break}k.set(L,we)}if(O)for(var P=I?3:1,ne=function(ve){var me=Y.find(function(it){var Re=k.get(it);if(Re)return Re.slice(0,ve).every(function(We){return We})});if(me)return x=me,"break"},de=P;de>0;de--){var ue=ne(de);if(ue==="break")break}e.placement!==x&&(e.modifiersData[i]._skip=!0,e.placement=x,e.reset=!0)}}const pN={name:"flip",enabled:!0,phase:"main",fn:dN,requiresIfExists:["offset"],data:{_skip:!1}};function XT(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function WT(n){return[On,fr,cr,Nn].some(function(e){return n[e]>=0})}function mN(n){var e=n.state,t=n.name,i=e.rects.reference,a=e.rects.popper,l=e.modifiersData.preventOverflow,c=tc(e,{elementContext:"reference"}),d=tc(e,{altBoundary:!0}),p=XT(c,i),m=XT(d,a,l),v=WT(p),b=WT(m);e.modifiersData[t]={referenceClippingOffsets:p,popperEscapeOffsets:m,isReferenceHidden:v,hasPopperEscaped:b},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":v,"data-popper-escaped":b})}const gN={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:mN};function yN(n,e,t){var i=Kr(n),a=[Nn,On].indexOf(i)>=0?-1:1,l=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,c=l[0],d=l[1];return c=c||0,d=(d||0)*a,[Nn,fr].indexOf(i)>=0?{x:d,y:c}:{x:c,y:d}}function vN(n){var e=n.state,t=n.options,i=n.name,a=t.offset,l=a===void 0?[0,0]:a,c=jw.reduce(function(v,b){return v[b]=yN(b,e.rects,l),v},{}),d=c[e.placement],p=d.x,m=d.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=p,e.modifiersData.popperOffsets.y+=m),e.modifiersData[i]=c}const _N={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:vN};function EN(n){var e=n.state,t=n.name;e.modifiersData[t]=$w({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const TN={name:"popperOffsets",enabled:!0,phase:"read",fn:EN,data:{}};function bN(n){return n==="x"?"y":"x"}function wN(n){var e=n.state,t=n.options,i=n.name,a=t.mainAxis,l=a===void 0?!0:a,c=t.altAxis,d=c===void 0?!1:c,p=t.boundary,m=t.rootBoundary,v=t.altBoundary,b=t.padding,S=t.tether,R=S===void 0?!0:S,I=t.tetherOffset,j=I===void 0?0:I,N=tc(e,{boundary:p,rootBoundary:m,padding:b,altBoundary:v}),B=Kr(e.placement),G=sl(e.placement),q=!G,Y=ey(B),W=bN(Y),ee=e.modifiersData.popperOffsets,k=e.rects.reference,O=e.rects.popper,x=typeof j=="function"?j(Object.assign({},e.rects,{placement:e.placement})):j,M=typeof x=="number"?{mainAxis:x,altAxis:x}:Object.assign({mainAxis:0,altAxis:0},x),L=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,U={x:0,y:0};if(ee){if(l){var D,Oe=Y==="y"?On:Nn,De=Y==="y"?cr:fr,se=Y==="y"?"height":"width",he=ee[Y],ce=he+N[Oe],we=he-N[De],P=R?-O[se]/2:0,ne=G===nl?k[se]:O[se],de=G===nl?-O[se]:-k[se],ue=e.elements.arrow,oe=R&&ue?Jg(ue):{width:0,height:0},ve=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:zw(),me=ve[Oe],it=ve[De],Re=Hu(0,k[se],oe[se]),We=q?k[se]/2-P-Re-me-M.mainAxis:ne-Re-me-M.mainAxis,je=q?-k[se]/2+P+Re+it+M.mainAxis:de+Re+it+M.mainAxis,Ze=e.elements.arrow&&yc(e.elements.arrow),ft=Ze?Y==="y"?Ze.clientTop||0:Ze.clientLeft||0:0,mt=(D=L==null?void 0:L[Y])!=null?D:0,Ft=he+We-mt-ft,Le=he+je-mt,Jt=Hu(R?Th(ce,Ft):ce,he,R?Pa(we,Le):we);ee[Y]=Jt,U[Y]=Jt-he}if(d){var bn,Cr=Y==="x"?On:Nn,xr=Y==="x"?cr:fr,en=ee[W],Mn=W==="y"?"height":"width",Xi=en+N[Cr],hr=en-N[xr],gt=[On,Nn].indexOf(B)!==-1,Ir=(bn=L==null?void 0:L[W])!=null?bn:0,dt=gt?Xi:en-k[Mn]-O[Mn]-Ir+M.altAxis,yt=gt?en+k[Mn]+O[Mn]-Ir-M.altAxis:hr,wn=R&&gt?KO(dt,en,yt):Hu(R?dt:Xi,en,R?yt:hr);ee[W]=wn,U[W]=wn-en}e.modifiersData[i]=U}}const SN={name:"preventOverflow",enabled:!0,phase:"main",fn:wN,requiresIfExists:["offset"]};function AN(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function RN(n){return n===qn(n)||!Qr(n)?ty(n):AN(n)}function CN(n){var e=n.getBoundingClientRect(),t=rl(e.width)/n.offsetWidth||1,i=rl(e.height)/n.offsetHeight||1;return t!==1||i!==1}function xN(n,e,t){t===void 0&&(t=!1);var i=Qr(e),a=Qr(e)&&CN(e),l=ea(e),c=il(n,a,t),d={scrollLeft:0,scrollTop:0},p={x:0,y:0};return(i||!i&&!t)&&((Fs(e)!=="body"||ry(l))&&(d=RN(e)),Qr(e)?(p=il(e,!0),p.x+=e.clientLeft,p.y+=e.clientTop):l&&(p.x=ny(l))),{x:c.left+d.scrollLeft-p.x,y:c.top+d.scrollTop-p.y,width:c.width,height:c.height}}function IN(n){var e=new Map,t=new Set,i=[];n.forEach(function(l){e.set(l.name,l)});function a(l){t.add(l.name);var c=[].concat(l.requires||[],l.requiresIfExists||[]);c.forEach(function(d){if(!t.has(d)){var p=e.get(d);p&&a(p)}}),i.push(l)}return n.forEach(function(l){t.has(l.name)||a(l)}),i}function ON(n){var e=IN(n);return FO.reduce(function(t,i){return t.concat(e.filter(function(a){return a.phase===i}))},[])}function NN(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function DN(n){var e=n.reduce(function(t,i){var a=t[i.name];return t[i.name]=a?Object.assign({},a,i,{options:Object.assign({},a.options,i.options),data:Object.assign({},a.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}var ZT={placement:"bottom",modifiers:[],strategy:"absolute"};function JT(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function MN(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,i=t===void 0?[]:t,a=e.defaultOptions,l=a===void 0?ZT:a;return function(d,p,m){m===void 0&&(m=l);var v={placement:"bottom",orderedModifiers:[],options:Object.assign({},ZT,l),modifiersData:{},elements:{reference:d,popper:p},attributes:{},styles:{}},b=[],S=!1,R={state:v,setOptions:function(B){var G=typeof B=="function"?B(v.options):B;j(),v.options=Object.assign({},l,v.options,G),v.scrollParents={reference:za(d)?qu(d):d.contextElement?qu(d.contextElement):[],popper:qu(p)};var q=ON(DN([].concat(i,v.options.modifiers)));return v.orderedModifiers=q.filter(function(Y){return Y.enabled}),I(),R.update()},forceUpdate:function(){if(!S){var B=v.elements,G=B.reference,q=B.popper;if(JT(G,q)){v.rects={reference:xN(G,yc(q),v.options.strategy==="fixed"),popper:Jg(q)},v.reset=!1,v.placement=v.options.placement,v.orderedModifiers.forEach(function(M){return v.modifiersData[M.name]=Object.assign({},M.data)});for(var Y=0;Y<v.orderedModifiers.length;Y++){if(v.reset===!0){v.reset=!1,Y=-1;continue}var W=v.orderedModifiers[Y],ee=W.fn,k=W.options,O=k===void 0?{}:k,x=W.name;typeof ee=="function"&&(v=ee({state:v,options:O,name:x,instance:R})||v)}}}},update:NN(function(){return new Promise(function(N){R.forceUpdate(),N(v)})}),destroy:function(){j(),S=!0}};if(!JT(d,p))return R;R.setOptions(m).then(function(N){!S&&m.onFirstUpdate&&m.onFirstUpdate(N)});function I(){v.orderedModifiers.forEach(function(N){var B=N.name,G=N.options,q=G===void 0?{}:G,Y=N.effect;if(typeof Y=="function"){var W=Y({state:v,name:B,instance:R,options:q}),ee=function(){};b.push(W||ee)}})}function j(){b.forEach(function(N){return N()}),b=[]}return R}}const kN=MN({defaultModifiers:[gN,TN,tN,rN,_N,pN,SN,WO]}),VN=["enabled","placement","strategy","modifiers"];function LN(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}const PN={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},jN={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:n})=>()=>{const{reference:e,popper:t}=n.elements;if("removeAttribute"in e){const i=(e.getAttribute("aria-describedby")||"").split(",").filter(a=>a.trim()!==t.id);i.length?e.setAttribute("aria-describedby",i.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:n})=>{var e;const{popper:t,reference:i}=n.elements,a=(e=t.getAttribute("role"))==null?void 0:e.toLowerCase();if(t.id&&a==="tooltip"&&"setAttribute"in i){const l=i.getAttribute("aria-describedby");if(l&&l.split(",").indexOf(t.id)!==-1)return;i.setAttribute("aria-describedby",l?`${l},${t.id}`:t.id)}}},UN=[];function BN(n,e,t={}){let{enabled:i=!0,placement:a="bottom",strategy:l="absolute",modifiers:c=UN}=t,d=LN(t,VN);const p=w.useRef(c),m=w.useRef(),v=w.useCallback(()=>{var N;(N=m.current)==null||N.update()},[]),b=w.useCallback(()=>{var N;(N=m.current)==null||N.forceUpdate()},[]),[S,R]=DO(w.useState({placement:a,update:v,forceUpdate:b,attributes:{},styles:{popper:{},arrow:{}}})),I=w.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:N})=>{const B={},G={};Object.keys(N.elements).forEach(q=>{B[q]=N.styles[q],G[q]=N.attributes[q]}),R({state:N,styles:B,attributes:G,update:v,forceUpdate:b,placement:N.placement})}}),[v,b,R]),j=w.useMemo(()=>(zu(p.current,c)||(p.current=c),p.current),[c]);return w.useEffect(()=>{!m.current||!i||m.current.setOptions({placement:a,strategy:l,modifiers:[...j,I,PN]})},[l,a,I,i,j]),w.useEffect(()=>{if(!(!i||n==null||e==null))return m.current=kN(n,e,Object.assign({},d,{placement:a,strategy:l,modifiers:[...j,jN,I]})),()=>{m.current!=null&&(m.current.destroy(),m.current=void 0,R(N=>Object.assign({},N,{attributes:{},styles:{popper:{}}})))}},[i,n,e]),S}function bh(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}var km,e0;function zN(){if(e0)return km;e0=1;var n=function(){};return km=n,km}var HN=zN();const qN=hc(HN),t0=()=>{};function FN(n){return n.button===0}function $N(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}const Vm=n=>n&&("current"in n?n.current:n),n0={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function GN(n,e=t0,{disabled:t,clickTrigger:i="click"}={}){const a=w.useRef(!1),l=w.useRef(!1),c=w.useCallback(m=>{const v=Vm(n);qN(!!v,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),a.current=!v||$N(m)||!FN(m)||!!bh(v,m.target)||l.current,l.current=!1},[n]),d=pn(m=>{const v=Vm(n);v&&bh(v,m.target)?l.current=!0:l.current=!1}),p=pn(m=>{a.current||e(m)});w.useEffect(()=>{var m,v;if(t||n==null)return;const b=Yh(Vm(n)),S=b.defaultView||window;let R=(m=S.event)!=null?m:(v=S.parent)==null?void 0:v.event,I=null;n0[i]&&(I=js(b,n0[i],d,!0));const j=js(b,i,c,!0),N=js(b,i,G=>{if(G===R){R=void 0;return}p(G)});let B=[];return"ontouchstart"in b.documentElement&&(B=[].slice.call(b.body.children).map(G=>js(G,"mousemove",t0))),()=>{I==null||I(),j(),N(),B.forEach(G=>G())}},[n,t,i,c,d,p])}function KN(n){const e={};return Array.isArray(n)?(n==null||n.forEach(t=>{e[t.name]=t}),e):n||e}function QN(n={}){return Array.isArray(n)?n:Object.keys(n).map(e=>(n[e].name=e,n[e]))}function YN({enabled:n,enableEvents:e,placement:t,flip:i,offset:a,fixed:l,containerPadding:c,arrowElement:d,popperConfig:p={}}){var m,v,b,S,R;const I=KN(p.modifiers);return Object.assign({},p,{placement:t,enabled:n,strategy:l?"fixed":p.strategy,modifiers:QN(Object.assign({},I,{eventListeners:{enabled:e,options:(m=I.eventListeners)==null?void 0:m.options},preventOverflow:Object.assign({},I.preventOverflow,{options:c?Object.assign({padding:c},(v=I.preventOverflow)==null?void 0:v.options):(b=I.preventOverflow)==null?void 0:b.options}),offset:{options:Object.assign({offset:a},(S=I.offset)==null?void 0:S.options)},arrow:Object.assign({},I.arrow,{enabled:!!d,options:Object.assign({},(R=I.arrow)==null?void 0:R.options,{element:d})}),flip:Object.assign({enabled:!!i},I.flip)}))})}const XN=["children","usePopper"];function WN(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}const ZN=()=>{};function Gw(n={}){const e=w.useContext(Jh),[t,i]=sO(),a=w.useRef(!1),{flip:l,offset:c,rootCloseEvent:d,fixed:p=!1,placement:m,popperConfig:v={},enableEventListeners:b=!0,usePopper:S=!!e}=n,R=(e==null?void 0:e.show)==null?!!n.show:e.show;R&&!a.current&&(a.current=!0);const I=ee=>{e==null||e.toggle(!1,ee)},{placement:j,setMenu:N,menuElement:B,toggleElement:G}=e||{},q=BN(G,B,YN({placement:m||j||"bottom-start",enabled:S,enableEvents:b??R,offset:c,flip:l,fixed:p,arrowElement:t,popperConfig:v})),Y=Object.assign({ref:N||ZN,"aria-labelledby":G==null?void 0:G.id},q.attributes.popper,{style:q.styles.popper}),W={show:R,placement:j,hasShown:a.current,toggle:e==null?void 0:e.toggle,popper:S?q:null,arrowProps:S?Object.assign({ref:i},q.attributes.arrow,{style:q.styles.arrow}):{}};return GN(B,I,{clickTrigger:d,disabled:!R}),[Y,W]}function Kw(n){let{children:e,usePopper:t=!0}=n,i=WN(n,XN);const[a,l]=Gw(Object.assign({},i,{usePopper:t}));return T.jsx(T.Fragment,{children:e(a,l)})}Kw.displayName="DropdownMenu";const iy={prefix:String(Math.round(Math.random()*1e10)),current:0},Qw=Tt.createContext(iy),JN=Tt.createContext(!1);let eD=!!(typeof window<"u"&&window.document&&window.document.createElement),Lm=new WeakMap;function tD(n=!1){let e=w.useContext(Qw),t=w.useRef(null);if(t.current===null&&!n){var i,a;let l=(a=Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||a===void 0||(i=a.ReactCurrentOwner)===null||i===void 0?void 0:i.current;if(l){let c=Lm.get(l);c==null?Lm.set(l,{id:e.current,state:l.memoizedState}):l.memoizedState!==c.state&&(e.current=c.id,Lm.delete(l))}t.current=++e.current}return t.current}function nD(n){let e=w.useContext(Qw);e===iy&&!eD&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let t=tD(!!n),i=`react-aria${e.prefix}`;return n||`${i}-${t}`}function rD(n){let e=Tt.useId(),[t]=w.useState(lD()),i=t?"react-aria":`react-aria${iy.prefix}`;return n||`${i}-${e}`}const iD=typeof Tt.useId=="function"?rD:nD;function sD(){return!1}function aD(){return!0}function oD(n){return()=>{}}function lD(){return typeof Tt.useSyncExternalStore=="function"?Tt.useSyncExternalStore(oD,sD,aD):w.useContext(JN)}const Yw=n=>{var e;return((e=n.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},r0=()=>{};function Xw(){const n=iD(),{show:e=!1,toggle:t=r0,setToggle:i,menuElement:a}=w.useContext(Jh)||{},l=w.useCallback(d=>{t(!e,d)},[e,t]),c={id:n,ref:i||r0,onClick:l,"aria-expanded":!!e};return a&&Yw(a)&&(c["aria-haspopup"]=!0),[c,{show:e,toggle:t}]}function Ww({children:n}){const[e,t]=Xw();return T.jsx(T.Fragment,{children:n(e,t)})}Ww.displayName="DropdownToggle";const Ha=w.createContext(null),nc=(n,e=null)=>n!=null?String(n):e||null,td=w.createContext(null);td.displayName="NavContext";const uD="data-rr-ui-",cD="rrUi";function _l(n){return`${uD}${n}`}function fD(n){return`${cD}${n}`}const hD=["eventKey","disabled","onClick","active","as"];function dD(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function Zw({key:n,href:e,active:t,disabled:i,onClick:a}){const l=w.useContext(Ha),c=w.useContext(td),{activeKey:d}=c||{},p=nc(n,e),m=t==null&&n!=null?nc(d)===p:t;return[{onClick:pn(b=>{i||(a==null||a(b),l&&!b.isPropagationStopped()&&l(p,b))}),"aria-disabled":i||void 0,"aria-selected":m,[_l("dropdown-item")]:""},{isActive:m}]}const Jw=w.forwardRef((n,e)=>{let{eventKey:t,disabled:i,onClick:a,active:l,as:c=Kg}=n,d=dD(n,hD);const[p]=Zw({key:t,href:d.href,disabled:i,onClick:a,active:l});return T.jsx(c,Object.assign({},d,{ref:e},p))});Jw.displayName="DropdownItem";const eS=w.createContext(Xh?window:void 0);eS.Provider;function nd(){return w.useContext(eS)}function i0(){const n=Lw(),e=w.useRef(null),t=w.useCallback(i=>{e.current=i,n()},[n]);return[e,t]}function vc({defaultShow:n,show:e,onSelect:t,onToggle:i,itemSelector:a=`* [${_l("dropdown-item")}]`,focusFirstItemOnShow:l,placement:c="bottom-start",children:d}){const p=nd(),[m,v]=NO(e,n,i),[b,S]=i0(),R=b.current,[I,j]=i0(),N=I.current,B=Ew(m),G=w.useRef(null),q=w.useRef(!1),Y=w.useContext(Ha),W=w.useCallback((L,U,D=U==null?void 0:U.type)=>{v(L,{originalEvent:U,source:D})},[v]),ee=pn((L,U)=>{t==null||t(L,U),W(!1,U,"select"),U.isPropagationStopped()||Y==null||Y(L,U)}),k=w.useMemo(()=>({toggle:W,placement:c,show:m,menuElement:R,toggleElement:N,setMenu:S,setToggle:j}),[W,c,m,R,N,S,j]);R&&B&&!m&&(q.current=R.contains(R.ownerDocument.activeElement));const O=pn(()=>{N&&N.focus&&N.focus()}),x=pn(()=>{const L=G.current;let U=l;if(U==null&&(U=b.current&&Yw(b.current)?"keyboard":!1),U===!1||U==="keyboard"&&!/^key.+$/.test(L))return;const D=Oi(b.current,a)[0];D&&D.focus&&D.focus()});w.useEffect(()=>{m?x():q.current&&(q.current=!1,O())},[m,q,O,x]),w.useEffect(()=>{G.current=null});const M=(L,U)=>{if(!b.current)return null;const D=Oi(b.current,a);let Oe=D.indexOf(L)+U;return Oe=Math.max(0,Math.min(Oe,D.length)),D[Oe]};return oO(w.useCallback(()=>p.document,[p]),"keydown",L=>{var U,D;const{key:Oe}=L,De=L.target,se=(U=b.current)==null?void 0:U.contains(De),he=(D=I.current)==null?void 0:D.contains(De);if(/input|textarea/i.test(De.tagName)&&(Oe===" "||Oe!=="Escape"&&se||Oe==="Escape"&&De.type==="search")||!se&&!he||Oe==="Tab"&&(!b.current||!m))return;G.current=L.type;const we={originalEvent:L,source:L.type};switch(Oe){case"ArrowUp":{const P=M(De,-1);P&&P.focus&&P.focus(),L.preventDefault();return}case"ArrowDown":if(L.preventDefault(),!m)v(!0,we);else{const P=M(De,1);P&&P.focus&&P.focus()}return;case"Tab":yw(De.ownerDocument,"keyup",P=>{var ne;(P.key==="Tab"&&!P.target||!((ne=b.current)!=null&&ne.contains(P.target)))&&v(!1,we)},{once:!0});break;case"Escape":Oe==="Escape"&&(L.preventDefault(),L.stopPropagation()),v(!1,we);break}}),T.jsx(Ha.Provider,{value:ee,children:T.jsx(Jh.Provider,{value:k,children:d})})}vc.displayName="Dropdown";vc.Menu=Kw;vc.Toggle=Ww;vc.Item=Jw;const sy=w.createContext({});sy.displayName="DropdownContext";const tS=w.forwardRef(({className:n,bsPrefix:e,as:t="hr",role:i="separator",...a},l)=>(e=Se(e,"dropdown-divider"),T.jsx(t,{ref:l,className:_e(n,e),role:i,...a})));tS.displayName="DropdownDivider";const nS=w.forwardRef(({className:n,bsPrefix:e,as:t="div",role:i="heading",...a},l)=>(e=Se(e,"dropdown-header"),T.jsx(t,{ref:l,className:_e(n,e),role:i,...a})));nS.displayName="DropdownHeader";const rS=w.forwardRef(({bsPrefix:n,className:e,eventKey:t,disabled:i=!1,onClick:a,active:l,as:c=Ju,...d},p)=>{const m=Se(n,"dropdown-item"),[v,b]=Zw({key:t,href:d.href,disabled:i,onClick:a,active:l});return T.jsx(c,{...d,...v,ref:p,className:_e(e,m,b.isActive&&"active",i&&"disabled")})});rS.displayName="DropdownItem";const iS=w.forwardRef(({className:n,bsPrefix:e,as:t="span",...i},a)=>(e=Se(e,"dropdown-item-text"),T.jsx(t,{ref:a,className:_e(n,e),...i})));iS.displayName="DropdownItemText";const pD=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",mD=typeof document<"u",sS=mD||pD?w.useLayoutEffect:w.useEffect,ay=w.createContext(null);ay.displayName="InputGroupContext";const Xa=w.createContext(null);Xa.displayName="NavbarContext";function aS(n,e){return n}const Fo=$e.oneOf(["start","end"]),gD=$e.oneOfType([Fo,$e.shape({sm:Fo}),$e.shape({md:Fo}),$e.shape({lg:Fo}),$e.shape({xl:Fo}),$e.shape({xxl:Fo}),$e.object]);function oS(n,e,t){const i=t?"top-end":"top-start",a=t?"top-start":"top-end",l=t?"bottom-end":"bottom-start",c=t?"bottom-start":"bottom-end",d=t?"right-start":"left-start",p=t?"right-end":"left-end",m=t?"left-start":"right-start",v=t?"left-end":"right-end";let b=n?c:l;return e==="up"?b=n?a:i:e==="end"?b=n?v:m:e==="start"?b=n?p:d:e==="down-centered"?b="bottom":e==="up-centered"&&(b="top"),b}const oy=w.forwardRef(({bsPrefix:n,className:e,align:t,rootCloseEvent:i,flip:a=!0,show:l,renderOnMount:c,as:d="div",popperConfig:p,variant:m,...v},b)=>{let S=!1;const R=w.useContext(Xa),I=Se(n,"dropdown-menu"),{align:j,drop:N,isRTL:B}=w.useContext(sy);t=t||j;const G=w.useContext(ay),q=[];if(t)if(typeof t=="object"){const L=Object.keys(t);if(L.length){const U=L[0],D=t[U];S=D==="start",q.push(`${I}-${U}-${D}`)}}else t==="end"&&(S=!0);const Y=oS(S,N,B),[W,{hasShown:ee,popper:k,show:O,toggle:x}]=Gw({flip:a,rootCloseEvent:i,show:l,usePopper:!R&&q.length===0,offset:[0,2],popperConfig:p,placement:Y});if(W.ref=Fg(aS(b),W.ref),sS(()=>{O&&(k==null||k.update())},[O]),!ee&&!c&&!G)return null;typeof d!="string"&&(W.show=O,W.close=()=>x==null?void 0:x(!1),W.align=t);let M=v.style;return k!=null&&k.placement&&(M={...v.style,...W.style},v["x-placement"]=k.placement),T.jsx(d,{...v,...W,style:M,...(q.length||R)&&{"data-bs-popper":"static"},className:_e(e,I,O&&"show",S&&`${I}-end`,m&&`${I}-${m}`,...q)})});oy.displayName="DropdownMenu";const ly=w.forwardRef(({bsPrefix:n,split:e,className:t,childBsPrefix:i,as:a=In,...l},c)=>{const d=Se(n,"dropdown-toggle"),p=w.useContext(Jh);i!==void 0&&(l.bsPrefix=i);const[m]=Xw();return m.ref=Fg(m.ref,aS(c)),T.jsx(a,{className:_e(t,d,e&&`${d}-split`,(p==null?void 0:p.show)&&"show"),...m,...l})});ly.displayName="DropdownToggle";const lS=w.forwardRef((n,e)=>{const{bsPrefix:t,drop:i="down",show:a,className:l,align:c="start",onSelect:d,onToggle:p,focusFirstItemOnShow:m,as:v="div",navbar:b,autoClose:S=!0,...R}=Qh(n,{show:"onToggle"}),I=w.useContext(ay),j=Se(t,"dropdown"),N=mw(),B=k=>S===!1?k==="click":S==="inside"?k!=="rootClose":S==="outside"?k!=="select":!0,G=Ba((k,O)=>{var x;!((x=O.originalEvent)==null||(x=x.target)==null)&&x.classList.contains("dropdown-toggle")&&O.source==="mousedown"||(O.originalEvent.currentTarget===document&&(O.source!=="keydown"||O.originalEvent.key==="Escape")&&(O.source="rootClose"),B(O.source)&&(p==null||p(k,O)))}),Y=oS(c==="end",i,N),W=w.useMemo(()=>({align:c,drop:i,isRTL:N}),[c,i,N]),ee={down:j,"down-centered":`${j}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return T.jsx(sy.Provider,{value:W,children:T.jsx(vc,{placement:Y,show:a,onSelect:d,onToggle:G,focusFirstItemOnShow:m,itemSelector:`.${j}-item:not(.disabled):not(:disabled)`,children:I?R.children:T.jsx(v,{...R,ref:e,className:_e(l,a&&"show",ee[i])})})})});lS.displayName="Dropdown";const Sr=Object.assign(lS,{Toggle:ly,Menu:oy,Item:rS,ItemText:iS,Divider:tS,Header:nS}),yD={id:$e.string,href:$e.string,onClick:$e.func,title:$e.node.isRequired,disabled:$e.bool,align:gD,menuRole:$e.string,renderMenuOnMount:$e.bool,rootCloseEvent:$e.string,menuVariant:$e.oneOf(["dark"]),flip:$e.bool,bsPrefix:$e.string,variant:$e.string,size:$e.string},uy=w.forwardRef(({title:n,children:e,bsPrefix:t,rootCloseEvent:i,variant:a,size:l,menuRole:c,renderMenuOnMount:d,disabled:p,href:m,id:v,menuVariant:b,flip:S,...R},I)=>T.jsxs(Sr,{ref:I,...R,children:[T.jsx(ly,{id:v,href:m,size:l,variant:a,disabled:p,childBsPrefix:t,children:n}),T.jsx(oy,{role:c,renderOnMount:d,rootCloseEvent:i,variant:b,flip:S,children:e})]}));uy.displayName="DropdownButton";uy.propTypes=yD;$e.string,$e.bool,$e.bool,$e.bool,$e.bool;const uS=w.forwardRef(({bsPrefix:n,className:e,fluid:t=!1,rounded:i=!1,roundedCircle:a=!1,thumbnail:l=!1,...c},d)=>(n=Se(n,"img"),T.jsx("img",{ref:d,...c,className:_e(e,t&&`${n}-fluid`,i&&"rounded",a&&"rounded-circle",l&&`${n}-thumbnail`)})));uS.displayName="Image";const vD={type:$e.string,tooltip:$e.bool,as:$e.elementType},rd=w.forwardRef(({as:n="div",className:e,type:t="valid",tooltip:i=!1,...a},l)=>T.jsx(n,{...a,ref:l,className:_e(e,`${t}-${i?"tooltip":"feedback"}`)}));rd.displayName="Feedback";rd.propTypes=vD;const Bi=w.createContext({}),cy=w.forwardRef(({id:n,bsPrefix:e,className:t,type:i="checkbox",isValid:a=!1,isInvalid:l=!1,as:c="input",...d},p)=>{const{controlId:m}=w.useContext(Bi);return e=Se(e,"form-check-input"),T.jsx(c,{...d,ref:p,type:i,id:n||m,className:_e(t,e,a&&"is-valid",l&&"is-invalid")})});cy.displayName="FormCheckInput";const wh=w.forwardRef(({bsPrefix:n,className:e,htmlFor:t,...i},a)=>{const{controlId:l}=w.useContext(Bi);return n=Se(n,"form-check-label"),T.jsx("label",{...i,ref:a,htmlFor:t||l,className:_e(e,n)})});wh.displayName="FormCheckLabel";const cS=w.forwardRef(({id:n,bsPrefix:e,bsSwitchPrefix:t,inline:i=!1,reverse:a=!1,disabled:l=!1,isValid:c=!1,isInvalid:d=!1,feedbackTooltip:p=!1,feedback:m,feedbackType:v,className:b,style:S,title:R="",type:I="checkbox",label:j,children:N,as:B="input",...G},q)=>{e=Se(e,"form-check"),t=Se(t,"form-switch");const{controlId:Y}=w.useContext(Bi),W=w.useMemo(()=>({controlId:n||Y}),[Y,n]),ee=!N&&j!=null&&j!==!1||RO(N,wh),k=T.jsx(cy,{...G,type:I==="switch"?"checkbox":I,ref:q,isValid:c,isInvalid:d,disabled:l,as:B});return T.jsx(Bi.Provider,{value:W,children:T.jsx("div",{style:S,className:_e(b,ee&&e,i&&`${e}-inline`,a&&`${e}-reverse`,I==="switch"&&t),children:N||T.jsxs(T.Fragment,{children:[k,ee&&T.jsx(wh,{title:R,children:j}),m&&T.jsx(rd,{type:v,tooltip:p,children:m})]})})})});cS.displayName="FormCheck";const Sh=Object.assign(cS,{Input:cy,Label:wh}),fS=w.forwardRef(({bsPrefix:n,type:e,size:t,htmlSize:i,id:a,className:l,isValid:c=!1,isInvalid:d=!1,plaintext:p,readOnly:m,as:v="input",...b},S)=>{const{controlId:R}=w.useContext(Bi);return n=Se(n,"form-control"),T.jsx(v,{...b,type:e,size:i,ref:S,readOnly:m,id:a||R,className:_e(l,p?`${n}-plaintext`:n,t&&`${n}-${t}`,e==="color"&&`${n}-color`,c&&"is-valid",d&&"is-invalid")})});fS.displayName="FormControl";const _D=Object.assign(fS,{Feedback:rd}),hS=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},a)=>(e=Se(e,"form-floating"),T.jsx(t,{ref:a,className:_e(n,e),...i})));hS.displayName="FormFloating";const fy=w.forwardRef(({controlId:n,as:e="div",...t},i)=>{const a=w.useMemo(()=>({controlId:n}),[n]);return T.jsx(Bi.Provider,{value:a,children:T.jsx(e,{...t,ref:i})})});fy.displayName="FormGroup";const dS=w.forwardRef(({as:n="label",bsPrefix:e,column:t=!1,visuallyHidden:i=!1,className:a,htmlFor:l,...c},d)=>{const{controlId:p}=w.useContext(Bi);e=Se(e,"form-label");let m="col-form-label";typeof t=="string"&&(m=`${m} ${m}-${t}`);const v=_e(a,e,i&&"visually-hidden",t&&m);return l=l||p,t?T.jsx(wr,{ref:d,as:"label",className:v,htmlFor:l,...c}):T.jsx(n,{ref:d,className:v,htmlFor:l,...c})});dS.displayName="FormLabel";const pS=w.forwardRef(({bsPrefix:n,className:e,id:t,...i},a)=>{const{controlId:l}=w.useContext(Bi);return n=Se(n,"form-range"),T.jsx("input",{...i,type:"range",ref:a,className:_e(e,n),id:t||l})});pS.displayName="FormRange";const mS=w.forwardRef(({bsPrefix:n,size:e,htmlSize:t,className:i,isValid:a=!1,isInvalid:l=!1,id:c,...d},p)=>{const{controlId:m}=w.useContext(Bi);return n=Se(n,"form-select"),T.jsx("select",{...d,size:t,ref:p,className:_e(i,n,e&&`${n}-${e}`,a&&"is-valid",l&&"is-invalid"),id:c||m})});mS.displayName="FormSelect";const gS=w.forwardRef(({bsPrefix:n,className:e,as:t="small",muted:i,...a},l)=>(n=Se(n,"form-text"),T.jsx(t,{...a,ref:l,className:_e(e,n,i&&"text-muted")})));gS.displayName="FormText";const yS=w.forwardRef((n,e)=>T.jsx(Sh,{...n,ref:e,type:"switch"}));yS.displayName="Switch";const ED=Object.assign(yS,{Input:Sh.Input,Label:Sh.Label}),vS=w.forwardRef(({bsPrefix:n,className:e,children:t,controlId:i,label:a,...l},c)=>(n=Se(n,"form-floating"),T.jsxs(fy,{ref:c,className:_e(e,n),controlId:i,...l,children:[t,T.jsx("label",{htmlFor:i,children:a})]})));vS.displayName="FloatingLabel";const TD={_ref:$e.any,validated:$e.bool,as:$e.elementType},hy=w.forwardRef(({className:n,validated:e,as:t="form",...i},a)=>T.jsx(t,{...i,ref:a,className:_e(n,e&&"was-validated")}));hy.displayName="Form";hy.propTypes=TD;const le=Object.assign(hy,{Group:fy,Control:_D,Floating:hS,Check:Sh,Switch:ED,Label:dS,Text:gS,Range:pS,Select:mS,FloatingLabel:vS}),s0=n=>!n||typeof n=="function"?n:e=>{n.current=e};function bD(n,e){const t=s0(n),i=s0(e);return a=>{t&&t(a),i&&i(a)}}function id(n,e){return w.useMemo(()=>bD(n,e),[n,e])}const _S=w.createContext(null),wD=["as","active","eventKey"];function SD(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function ES({key:n,onClick:e,active:t,id:i,role:a,disabled:l}){const c=w.useContext(Ha),d=w.useContext(td),p=w.useContext(_S);let m=t;const v={role:a};if(d){!a&&d.role==="tablist"&&(v.role="tab");const b=d.getControllerId(n??null),S=d.getControlledId(n??null);v[_l("event-key")]=n,v.id=b||i,m=t==null&&n!=null?d.activeKey===n:t,(m||!(p!=null&&p.unmountOnExit)&&!(p!=null&&p.mountOnEnter))&&(v["aria-controls"]=S)}return v.role==="tab"&&(v["aria-selected"]=m,m||(v.tabIndex=-1),l&&(v.tabIndex=-1,v["aria-disabled"]=!0)),v.onClick=pn(b=>{l||(e==null||e(b),n!=null&&c&&!b.isPropagationStopped()&&c(n,b))}),[v,{isActive:m}]}const TS=w.forwardRef((n,e)=>{let{as:t=Kg,active:i,eventKey:a}=n,l=SD(n,wD);const[c,d]=ES(Object.assign({key:nc(a,l.href),active:i},l));return c[_l("active")]=d.isActive,T.jsx(t,Object.assign({},l,c,{ref:e}))});TS.displayName="NavItem";const AD=["as","onSelect","activeKey","role","onKeyDown"];function RD(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}const a0=()=>{},o0=_l("event-key"),bS=w.forwardRef((n,e)=>{let{as:t="div",onSelect:i,activeKey:a,role:l,onKeyDown:c}=n,d=RD(n,AD);const p=Lw(),m=w.useRef(!1),v=w.useContext(Ha),b=w.useContext(_S);let S,R;b&&(l=l||"tablist",a=b.activeKey,S=b.getControlledId,R=b.getControllerId);const I=w.useRef(null),j=q=>{const Y=I.current;if(!Y)return null;const W=Oi(Y,`[${o0}]:not([aria-disabled=true])`),ee=Y.querySelector("[aria-selected=true]");if(!ee||ee!==document.activeElement)return null;const k=W.indexOf(ee);if(k===-1)return null;let O=k+q;return O>=W.length&&(O=0),O<0&&(O=W.length-1),W[O]},N=(q,Y)=>{q!=null&&(i==null||i(q,Y),v==null||v(q,Y))},B=q=>{if(c==null||c(q),!b)return;let Y;switch(q.key){case"ArrowLeft":case"ArrowUp":Y=j(-1);break;case"ArrowRight":case"ArrowDown":Y=j(1);break;default:return}Y&&(q.preventDefault(),N(Y.dataset[fD("EventKey")]||null,q),m.current=!0,p())};w.useEffect(()=>{if(I.current&&m.current){const q=I.current.querySelector(`[${o0}][aria-selected=true]`);q==null||q.focus()}m.current=!1});const G=id(e,I);return T.jsx(Ha.Provider,{value:N,children:T.jsx(td.Provider,{value:{role:l,activeKey:nc(a),getControlledId:S||a0,getControllerId:R||a0},children:T.jsx(t,Object.assign({},d,{onKeyDown:B,ref:G,role:l}))})})});bS.displayName="Nav";const CD=Object.assign(bS,{Item:TS});function Pm(n){n===void 0&&(n=Yh());try{var e=n.activeElement;return!e||!e.nodeName?null:e}catch{return n.body}}function xD(n){const e=w.useRef(n);return e.current=n,e}function ID(n){const e=xD(n);w.useEffect(()=>()=>e.current(),[])}function OD(n=document){const e=n.defaultView;return Math.abs(e.innerWidth-n.documentElement.clientWidth)}const l0=_l("modal-open");class dy{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:i=!1}={}){this.handleContainerOverflow=t,this.isRTL=i,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return OD(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},i=this.isRTL?"paddingLeft":"paddingRight",a=this.getElement();e.style={overflow:a.style.overflow,[i]:a.style[i]},e.scrollBarWidth&&(t[i]=`${parseInt(Li(a,i)||"0",10)+e.scrollBarWidth}px`),a.setAttribute(l0,""),Li(a,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(l0),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const jm=(n,e)=>Xh?n==null?(e||Yh()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function ND(n,e){const t=nd(),[i,a]=w.useState(()=>jm(n,t==null?void 0:t.document));if(!i){const l=jm(n);l&&a(l)}return w.useEffect(()=>{},[e,i]),w.useEffect(()=>{const l=jm(n);l!==i&&a(l)},[n,i]),i}function DD({children:n,in:e,onExited:t,mountOnEnter:i,unmountOnExit:a}){const l=w.useRef(null),c=w.useRef(e),d=pn(t);w.useEffect(()=>{e?c.current=!0:d(l.current)},[e,d]);const p=id(l,vl(n)),m=w.cloneElement(n,{ref:p});return e?m:a||!c.current&&i?null:m}const MD=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function kD(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function VD(n){let{onEnter:e,onEntering:t,onEntered:i,onExit:a,onExiting:l,onExited:c,addEndListener:d,children:p}=n,m=kD(n,MD);const v=w.useRef(null),b=id(v,vl(p)),S=Y=>W=>{Y&&v.current&&Y(v.current,W)},R=w.useCallback(S(e),[e]),I=w.useCallback(S(t),[t]),j=w.useCallback(S(i),[i]),N=w.useCallback(S(a),[a]),B=w.useCallback(S(l),[l]),G=w.useCallback(S(c),[c]),q=w.useCallback(S(d),[d]);return Object.assign({},m,{nodeRef:v},e&&{onEnter:R},t&&{onEntering:I},i&&{onEntered:j},a&&{onExit:N},l&&{onExiting:B},c&&{onExited:G},d&&{addEndListener:q},{children:typeof p=="function"?(Y,W)=>p(Y,Object.assign({},W,{ref:b})):w.cloneElement(p,{ref:b})})}const LD=["component"];function PD(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}const jD=w.forwardRef((n,e)=>{let{component:t}=n,i=PD(n,LD);const a=VD(i);return T.jsx(t,Object.assign({ref:e},a))});function UD({in:n,onTransition:e}){const t=w.useRef(null),i=w.useRef(!0),a=pn(e);return zT(()=>{if(!t.current)return;let l=!1;return a({in:n,element:t.current,initial:i.current,isStale:()=>l}),()=>{l=!0}},[n,a]),zT(()=>(i.current=!1,()=>{i.current=!0}),[]),t}function BD({children:n,in:e,onExited:t,onEntered:i,transition:a}){const[l,c]=w.useState(!e);e&&l&&c(!1);const d=UD({in:!!e,onTransition:m=>{const v=()=>{m.isStale()||(m.in?i==null||i(m.element,m.initial):(c(!0),t==null||t(m.element)))};Promise.resolve(a(m)).then(v,b=>{throw m.in||c(!0),b})}}),p=id(d,vl(n));return l&&!e?null:w.cloneElement(n,{ref:p})}function u0(n,e,t){return n?T.jsx(jD,Object.assign({},t,{component:n})):e?T.jsx(BD,Object.assign({},t,{transition:e})):T.jsx(DD,Object.assign({},t))}const zD=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function HD(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}let Um;function qD(n){return Um||(Um=new dy({ownerDocument:n==null?void 0:n.document})),Um}function FD(n){const e=nd(),t=n||qD(e),i=w.useRef({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>t.add(i.current),remove:()=>t.remove(i.current),isTopModal:()=>t.isTopModal(i.current),setDialogRef:w.useCallback(a=>{i.current.dialog=a},[]),setBackdropRef:w.useCallback(a=>{i.current.backdrop=a},[])})}const wS=w.forwardRef((n,e)=>{let{show:t=!1,role:i="dialog",className:a,style:l,children:c,backdrop:d=!0,keyboard:p=!0,onBackdropClick:m,onEscapeKeyDown:v,transition:b,runTransition:S,backdropTransition:R,runBackdropTransition:I,autoFocus:j=!0,enforceFocus:N=!0,restoreFocus:B=!0,restoreFocusOptions:G,renderDialog:q,renderBackdrop:Y=Le=>T.jsx("div",Object.assign({},Le)),manager:W,container:ee,onShow:k,onHide:O=()=>{},onExit:x,onExited:M,onExiting:L,onEnter:U,onEntering:D,onEntered:Oe}=n,De=HD(n,zD);const se=nd(),he=ND(ee),ce=FD(W),we=_w(),P=Ew(t),[ne,de]=w.useState(!t),ue=w.useRef(null);w.useImperativeHandle(e,()=>ce,[ce]),Xh&&!P&&t&&(ue.current=Pm(se==null?void 0:se.document)),t&&ne&&de(!1);const oe=pn(()=>{if(ce.add(),je.current=js(document,"keydown",Re),We.current=js(document,"focus",()=>setTimeout(me),!0),k&&k(),j){var Le,Jt;const bn=Pm((Le=(Jt=ce.dialog)==null?void 0:Jt.ownerDocument)!=null?Le:se==null?void 0:se.document);ce.dialog&&bn&&!bh(ce.dialog,bn)&&(ue.current=bn,ce.dialog.focus())}}),ve=pn(()=>{if(ce.remove(),je.current==null||je.current(),We.current==null||We.current(),B){var Le;(Le=ue.current)==null||Le.focus==null||Le.focus(G),ue.current=null}});w.useEffect(()=>{!t||!he||oe()},[t,he,oe]),w.useEffect(()=>{ne&&ve()},[ne,ve]),ID(()=>{ve()});const me=pn(()=>{if(!N||!we()||!ce.isTopModal())return;const Le=Pm(se==null?void 0:se.document);ce.dialog&&Le&&!bh(ce.dialog,Le)&&ce.dialog.focus()}),it=pn(Le=>{Le.target===Le.currentTarget&&(m==null||m(Le),d===!0&&O())}),Re=pn(Le=>{p&&GI(Le)&&ce.isTopModal()&&(v==null||v(Le),Le.defaultPrevented||O())}),We=w.useRef(),je=w.useRef(),Ze=(...Le)=>{de(!0),M==null||M(...Le)};if(!he)return null;const ft=Object.assign({role:i,ref:ce.setDialogRef,"aria-modal":i==="dialog"?!0:void 0},De,{style:l,className:a,tabIndex:-1});let mt=q?q(ft):T.jsx("div",Object.assign({},ft,{children:w.cloneElement(c,{role:"document"})}));mt=u0(b,S,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:x,onExiting:L,onExited:Ze,onEnter:U,onEntering:D,onEntered:Oe,children:mt});let Ft=null;return d&&(Ft=Y({ref:ce.setBackdropRef,onClick:it}),Ft=u0(R,I,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Ft})),T.jsx(T.Fragment,{children:Xo.createPortal(T.jsxs(T.Fragment,{children:[Ft,mt]}),he)})});wS.displayName="Modal";const $D=Object.assign(wS,{Manager:dy});function GD(n,e){return n.classList?n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function KD(n,e){n.classList?n.classList.add(e):GD(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function c0(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function QD(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=c0(n.className,e):n.setAttribute("class",c0(n.className&&n.className.baseVal||"",e))}const $o={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class SS extends dy{adjustAndStore(e,t,i){const a=t.style[e];t.dataset[e]=a,Li(t,{[e]:`${parseFloat(Li(t,e))+i}px`})}restore(e,t){const i=t.dataset[e];i!==void 0&&(delete t.dataset[e],Li(t,{[e]:i}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(KD(t,"modal-open"),!e.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";Oi(t,$o.FIXED_CONTENT).forEach(l=>this.adjustAndStore(i,l,e.scrollBarWidth)),Oi(t,$o.STICKY_CONTENT).forEach(l=>this.adjustAndStore(a,l,-e.scrollBarWidth)),Oi(t,$o.NAVBAR_TOGGLER).forEach(l=>this.adjustAndStore(a,l,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();QD(t,"modal-open");const i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";Oi(t,$o.FIXED_CONTENT).forEach(l=>this.restore(i,l)),Oi(t,$o.STICKY_CONTENT).forEach(l=>this.restore(a,l)),Oi(t,$o.NAVBAR_TOGGLER).forEach(l=>this.restore(a,l))}}let Bm;function YD(n){return Bm||(Bm=new SS(n)),Bm}const AS=w.createContext({onHide(){}}),XD=w.forwardRef(({closeLabel:n="Close",closeVariant:e,closeButton:t=!1,onHide:i,children:a,...l},c)=>{const d=w.useContext(AS),p=Ba(()=>{d==null||d.onHide(),i==null||i()});return T.jsxs("div",{ref:c,...l,children:[a,t&&T.jsx(Qg,{"aria-label":n,variant:e,onClick:p})]})}),RS=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},a)=>(e=Se(e,"nav-item"),T.jsx(t,{ref:a,className:_e(n,e),...i})));RS.displayName="NavItem";const py=w.forwardRef(({bsPrefix:n,className:e,as:t=Ju,active:i,eventKey:a,disabled:l=!1,...c},d)=>{n=Se(n,"nav-link");const[p,m]=ES({key:nc(a,c.href),active:i,disabled:l,...c});return T.jsx(t,{...c,...p,ref:d,disabled:l,className:_e(e,n,l&&"disabled",m.isActive&&"active")})});py.displayName="NavLink";const CS=w.forwardRef((n,e)=>{const{as:t="div",bsPrefix:i,variant:a,fill:l=!1,justify:c=!1,navbar:d,navbarScroll:p,className:m,activeKey:v,...b}=Qh(n,{activeKey:"onSelect"}),S=Se(i,"nav");let R,I,j=!1;const N=w.useContext(Xa),B=w.useContext(Xg);return N?(R=N.bsPrefix,j=d??!0):B&&({cardHeaderBsPrefix:I}=B),T.jsx(CD,{as:t,ref:e,activeKey:v,className:_e(m,{[S]:!j,[`${R}-nav`]:j,[`${R}-nav-scroll`]:j&&p,[`${I}-${a}`]:!!I,[`${S}-${a}`]:!!a,[`${S}-fill`]:l,[`${S}-justified`]:c}),...b})});CS.displayName="Nav";const lr=Object.assign(CS,{Item:RS,Link:py}),xS=w.forwardRef(({bsPrefix:n,className:e,as:t,...i},a)=>{n=Se(n,"navbar-brand");const l=t||(i.href?"a":"span");return T.jsx(l,{...i,ref:a,className:_e(e,n)})});xS.displayName="NavbarBrand";const IS=w.forwardRef(({children:n,bsPrefix:e,...t},i)=>{e=Se(e,"navbar-collapse");const a=w.useContext(Xa);return T.jsx(iO,{in:!!(a&&a.expanded),...t,children:T.jsx("div",{ref:i,className:e,children:n})})});IS.displayName="NavbarCollapse";const OS=w.forwardRef(({bsPrefix:n,className:e,children:t,label:i="Toggle navigation",as:a="button",onClick:l,...c},d)=>{n=Se(n,"navbar-toggler");const{onToggle:p,expanded:m}=w.useContext(Xa)||{},v=Ba(b=>{l&&l(b),p&&p()});return a==="button"&&(c.type="button"),T.jsx(a,{...c,ref:d,onClick:v,"aria-label":i,className:_e(e,n,!m&&"collapsed"),children:t||T.jsx("span",{className:`${n}-icon`})})});OS.displayName="NavbarToggle";const cg=new WeakMap,f0=(n,e)=>{if(!n||!e)return;const t=cg.get(e)||new Map;cg.set(e,t);let i=t.get(n);return i||(i=e.matchMedia(n),i.refCount=0,t.set(i.media,i)),i};function WD(n,e=typeof window>"u"?void 0:window){const t=f0(n,e),[i,a]=w.useState(()=>t?t.matches:!1);return sS(()=>{let l=f0(n,e);if(!l)return a(!1);let c=cg.get(e);const d=()=>{a(l.matches)};return l.refCount++,l.addListener(d),d(),()=>{l.removeListener(d),l.refCount--,l.refCount<=0&&(c==null||c.delete(l.media)),l=void 0}},[n]),i}function ZD(n){const e=Object.keys(n);function t(d,p){return d===p?p:d?`${d} and ${p}`:p}function i(d){return e[Math.min(e.indexOf(d)+1,e.length-1)]}function a(d){const p=i(d);let m=n[p];return typeof m=="number"?m=`${m-.2}px`:m=`calc(${m} - 0.2px)`,`(max-width: ${m})`}function l(d){let p=n[d];return typeof p=="number"&&(p=`${p}px`),`(min-width: ${p})`}function c(d,p,m){let v;typeof d=="object"?(v=d,m=p,p=!0):(p=p||!0,v={[d]:p});let b=w.useMemo(()=>Object.entries(v).reduce((S,[R,I])=>((I==="up"||I===!0)&&(S=t(S,l(R))),(I==="down"||I===!0)&&(S=t(S,a(R))),S),""),[JSON.stringify(v)]);return WD(b,m)}return c}const JD=ZD({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),NS=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},a)=>(e=Se(e,"offcanvas-body"),T.jsx(t,{ref:a,className:_e(n,e),...i})));NS.displayName="OffcanvasBody";const e2={[Tr]:"show",[Ni]:"show"},DS=w.forwardRef(({bsPrefix:n,className:e,children:t,in:i=!1,mountOnEnter:a=!1,unmountOnExit:l=!1,appear:c=!1,...d},p)=>(n=Se(n,"offcanvas"),T.jsx(Zh,{ref:p,addEndListener:Wh,in:i,mountOnEnter:a,unmountOnExit:l,appear:c,...d,childRef:vl(t),children:(m,v)=>w.cloneElement(t,{...v,className:_e(e,t.props.className,(m===Tr||m===Zu)&&`${n}-toggling`,e2[m])})})));DS.displayName="OffcanvasToggling";const MS=w.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:i=!1,...a},l)=>(n=Se(n,"offcanvas-header"),T.jsx(XD,{ref:l,...a,className:_e(e,n),closeLabel:t,closeButton:i})));MS.displayName="OffcanvasHeader";const t2=$g("h5"),kS=w.forwardRef(({className:n,bsPrefix:e,as:t=t2,...i},a)=>(e=Se(e,"offcanvas-title"),T.jsx(t,{ref:a,className:_e(n,e),...i})));kS.displayName="OffcanvasTitle";function n2(n){return T.jsx(DS,{...n})}function r2(n){return T.jsx(Tw,{...n})}const VS=w.forwardRef(({bsPrefix:n,className:e,children:t,"aria-labelledby":i,placement:a="start",responsive:l,show:c=!1,backdrop:d=!0,keyboard:p=!0,scroll:m=!1,onEscapeKeyDown:v,onShow:b,onHide:S,container:R,autoFocus:I=!0,enforceFocus:j=!0,restoreFocus:N=!0,restoreFocusOptions:B,onEntered:G,onExit:q,onExiting:Y,onEnter:W,onEntering:ee,onExited:k,backdropClassName:O,manager:x,renderStaticNode:M=!1,...L},U)=>{const D=w.useRef();n=Se(n,"offcanvas");const[Oe,De]=w.useState(!1),se=Ba(S),he=JD(l||"xs","up");w.useEffect(()=>{De(l?c&&!he:c)},[c,l,he]);const ce=w.useMemo(()=>({onHide:se}),[se]);function we(){return x||(m?(D.current||(D.current=new SS({handleContainerOverflow:!1})),D.current):YD())}const P=(oe,...ve)=>{oe&&(oe.style.visibility="visible"),W==null||W(oe,...ve)},ne=(oe,...ve)=>{oe&&(oe.style.visibility=""),k==null||k(...ve)},de=w.useCallback(oe=>T.jsx("div",{...oe,className:_e(`${n}-backdrop`,O)}),[O,n]),ue=oe=>T.jsx("div",{...oe,...L,className:_e(e,l?`${n}-${l}`:n,`${n}-${a}`),"aria-labelledby":i,children:t});return T.jsxs(T.Fragment,{children:[!Oe&&(l||M)&&ue({}),T.jsx(AS.Provider,{value:ce,children:T.jsx($D,{show:Oe,ref:U,backdrop:d,container:R,keyboard:p,autoFocus:I,enforceFocus:j&&!m,restoreFocus:N,restoreFocusOptions:B,onEscapeKeyDown:v,onShow:b,onHide:se,onEnter:P,onEntering:ee,onEntered:G,onExit:q,onExiting:Y,onExited:ne,manager:we(),transition:n2,backdropTransition:r2,renderBackdrop:de,renderDialog:ue})})]})});VS.displayName="Offcanvas";const Lu=Object.assign(VS,{Body:NS,Header:MS,Title:kS}),LS=w.forwardRef(({onHide:n,...e},t)=>{const i=w.useContext(Xa),a=Ba(()=>{i==null||i.onToggle==null||i.onToggle(),n==null||n()});return T.jsx(Lu,{ref:t,show:!!(i!=null&&i.expanded),...e,renderStaticNode:!0,onHide:a})});LS.displayName="NavbarOffcanvas";const PS=w.forwardRef(({className:n,bsPrefix:e,as:t="span",...i},a)=>(e=Se(e,"navbar-text"),T.jsx(t,{ref:a,className:_e(n,e),...i})));PS.displayName="NavbarText";const jS=w.forwardRef((n,e)=>{const{bsPrefix:t,expand:i=!0,variant:a="light",bg:l,fixed:c,sticky:d,className:p,as:m="nav",expanded:v,onToggle:b,onSelect:S,collapseOnSelect:R=!1,...I}=Qh(n,{expanded:"onToggle"}),j=Se(t,"navbar"),N=w.useCallback((...q)=>{S==null||S(...q),R&&v&&(b==null||b(!1))},[S,R,v,b]);I.role===void 0&&m!=="nav"&&(I.role="navigation");let B=`${j}-expand`;typeof i=="string"&&(B=`${B}-${i}`);const G=w.useMemo(()=>({onToggle:()=>b==null?void 0:b(!v),bsPrefix:j,expanded:!!v,expand:i}),[j,v,i,b]);return T.jsx(Xa.Provider,{value:G,children:T.jsx(Ha.Provider,{value:N,children:T.jsx(m,{ref:e,...I,className:_e(p,j,i&&B,a&&`${j}-${a}`,l&&`bg-${l}`,d&&`sticky-${d}`,c&&`fixed-${c}`)})})})});jS.displayName="Navbar";const h0=Object.assign(jS,{Brand:xS,Collapse:IS,Offcanvas:LS,Text:PS,Toggle:OS}),US=w.forwardRef(({id:n,title:e,children:t,bsPrefix:i,className:a,rootCloseEvent:l,menuRole:c,disabled:d,active:p,renderMenuOnMount:m,menuVariant:v,...b},S)=>{const R=Se(void 0,"nav-item");return T.jsxs(Sr,{ref:S,...b,className:_e(a,R),children:[T.jsx(Sr.Toggle,{id:n,eventKey:null,active:p,disabled:d,childBsPrefix:i,as:py,children:e}),T.jsx(Sr.Menu,{role:c,renderOnMount:m,rootCloseEvent:l,variant:v,children:t})]})});US.displayName="NavDropdown";const Jf=Object.assign(US,{Item:Sr.Item,ItemText:Sr.ItemText,Divider:Sr.Divider,Header:Sr.Header}),$s=w.forwardRef(({bsPrefix:n,className:e,as:t="div",...i},a)=>{const l=Se(n,"row"),c=dw(),d=pw(),p=`${l}-cols`,m=[];return c.forEach(v=>{const b=i[v];delete i[v];let S;b!=null&&typeof b=="object"?{cols:S}=b:S=b;const R=v!==d?`-${v}`:"";S!=null&&m.push(`${p}${R}-${S}`)}),T.jsx(t,{ref:a,...i,className:_e(e,l,...m)})});$s.displayName="Row";const my=w.forwardRef(({bsPrefix:n,className:e,striped:t,bordered:i,borderless:a,hover:l,size:c,variant:d,responsive:p,...m},v)=>{const b=Se(n,"table"),S=_e(e,b,d&&`${b}-${d}`,c&&`${b}-${c}`,t&&`${b}-${typeof t=="string"?`striped-${t}`:"striped"}`,i&&`${b}-bordered`,a&&`${b}-borderless`,l&&`${b}-hover`),R=T.jsx("table",{...m,className:S,ref:v});if(p){let I=`${b}-responsive`;return typeof p=="string"&&(I=`${I}-${p}`),T.jsx("div",{className:I,children:R})}return R}),i2=()=>{const[n,e]=w.useState(new Date),t=(R,I)=>new Date(R,I+1,0).getDate(),i=(R,I)=>new Date(R,I,1).getDay(),a=()=>{e(new Date(n.getFullYear(),n.getMonth()-1,1))},l=()=>{e(new Date(n.getFullYear(),n.getMonth()+1,1))},c=n.getFullYear(),d=n.getMonth(),p=t(c,d),m=i(c,d),v=Array.from({length:p},(R,I)=>I+1),S=[...Array(m).fill(null),...v];return T.jsxs(Yi,{fluid:!0,className:"mt-4 text-center vh-100 d-flex flex-column justify-content-center align-items-center",children:[T.jsxs("h2",{children:[n.toLocaleString("default",{month:"long"})," ",c]}),T.jsxs("div",{className:"d-flex justify-content-between my-2 w-100 px-5",children:[T.jsx(In,{variant:"primary",onClick:a,children:"< Prev"}),T.jsx(In,{variant:"primary",onClick:l,children:"Next >"})]}),T.jsxs(my,{bordered:!0,hover:!0,className:"calendar-table w-100",style:{maxWidth:"1200px"},children:[T.jsx("thead",{children:T.jsx("tr",{children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(R=>T.jsx("th",{className:"text-center",children:R},R))})}),T.jsx("tbody",{children:[...Array(Math.ceil(S.length/7))].map((R,I)=>T.jsx("tr",{children:S.slice(I*7,I*7+7).map((j,N)=>T.jsx("td",{className:j?"bg-light text-center border p-4":"bg-secondary text-white border p-4",children:j||""},N))},I))})]})]})};function s2({user:n,setUser:e}){const t=Js();w.useEffect(()=>{const a=JSON.parse(localStorage.getItem("user"));a&&e(a)},[e]);const i=()=>{localStorage.removeItem("user"),e(null),t("/Login")};return T.jsx(h0,{bg:"dark","data-bs-theme":"dark",children:T.jsxs(Yi,{children:[T.jsx(h0.Brand,{as:Er,to:"/",children:"CarBooking"}),T.jsxs(lr,{className:"me-auto",children:[T.jsx(lr.Link,{as:Er,to:"/home",children:"Home"}),!n&&T.jsx(lr.Link,{as:Er,to:"/Reg",children:"Register"})," ",n&&T.jsxs(T.Fragment,{children:[T.jsx(lr.Link,{as:Er,to:"/history",children:"ประวัติการเช่ารถ"}),T.jsx(lr.Link,{as:Er,to:"/rent",children:"เช่ารถ"})]})]}),T.jsx(lr,{className:"ms-auto",children:n?T.jsxs(Jf,{title:n.first_name,id:"user-dropdown",children:[T.jsx(Jf.Item,{as:Er,to:"/profile",children:"Profile"}),T.jsx(Jf.Divider,{}),T.jsx(Jf.Item,{onClick:i,children:"Logout"})]}):T.jsx(lr.Link,{as:Er,to:"/Login",children:"Login"})})]})})}const a2=()=>T.jsx("footer",{className:"bg-dark text-light py-4 ",children:T.jsxs(Yi,{children:[T.jsxs($s,{children:[T.jsxs(wr,{md:4,children:[T.jsx("h5",{children:"เกี่ยวกับเรา"}),T.jsx("p",{children:"เว็บไซต์นี้ให้ข้อมูลเกี่ยวกับ..."})]}),T.jsxs(wr,{md:4,children:[T.jsx("h5",{children:"ลิงก์ที่เป็นประโยชน์"}),T.jsxs("ul",{className:"list-unstyled",children:[T.jsx("li",{children:T.jsx("a",{href:"#",className:"text-light",children:"หน้าหลัก"})}),T.jsx("li",{children:T.jsx("a",{href:"#",className:"text-light",children:"บริการของเรา"})}),T.jsx("li",{children:T.jsx("a",{href:"#",className:"text-light",children:"ติดต่อเรา"})})]})]}),T.jsxs(wr,{md:4,children:[T.jsx("h5",{children:"ติดต่อเรา"}),T.jsx("p",{children:"Email: example@email.com"}),T.jsx("p",{children:"โทร: 012-345-6789"})]})]}),T.jsx($s,{className:"mt-3",children:T.jsx(wr,{className:"text-center",children:T.jsxs("p",{className:"mb-0",children:["© ",new Date().getFullYear()," MyWebsite. All Rights Reserved."]})})})]})}),o2=()=>{};var d0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},l2=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],d=n[t++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},zS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,d=c?n[a+1]:0,p=a+2<n.length,m=p?n[a+2]:0,v=l>>2,b=(l&3)<<4|d>>4;let S=(d&15)<<2|m>>6,R=m&63;p||(R=64,c||(S=64)),i.push(t[v],t[b],t[S],t[R])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(BS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):l2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],d=a<n.length?t[n.charAt(a)]:0;++a;const m=a<n.length?t[n.charAt(a)]:64;++a;const b=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||d==null||m==null||b==null)throw new u2;const S=l<<2|d>>4;if(i.push(S),m!==64){const R=d<<4&240|m>>2;if(i.push(R),b!==64){const I=m<<6&192|b;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class u2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const c2=function(n){const e=BS(n);return zS.encodeByteArray(e,!0)},Ah=function(n){return c2(n).replace(/\./g,"")},HS=function(n){try{return zS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=()=>f2().__FIREBASE_DEFAULTS__,d2=()=>{if(typeof process>"u"||typeof d0>"u")return;const n=d0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},p2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&HS(n[1]);return e&&JSON.parse(e)},sd=()=>{try{return o2()||h2()||d2()||p2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},qS=n=>{var e,t;return(t=(e=sd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},FS=n=>{const e=qS(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},$S=()=>{var n;return(n=sd())===null||n===void 0?void 0:n.config},GS=n=>{var e;return(e=sd())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ah(JSON.stringify(t)),Ah(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function g2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function y2(){var n;const e=(n=sd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function v2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _2(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function E2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function T2(){const n=mn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function b2(){return!y2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function w2(){try{return typeof indexedDB=="object"}catch{return!1}}function S2(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2="FirebaseError";class ii extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=A2,Object.setPrototypeOf(this,ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_c.prototype.create)}}class _c{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?R2(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new ii(a,d,i)}}function R2(n,e){return n.replace(C2,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const C2=/\{\$([^}]+)}/g;function x2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function qa(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=n[a],c=e[a];if(p0(l)&&p0(c)){if(!qa(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function p0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function I2(n,e){const t=new O2(n,e);return t.subscribe.bind(t)}class O2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");N2(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=zm),a.error===void 0&&(a.error=zm),a.complete===void 0&&(a.complete=zm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function N2(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function zm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(n){return n&&n._delegate?n._delegate:n}class Gs{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new m2;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(k2(e))try{this.getOrInitializeService({instanceIdentifier:Va})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Va){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Va){return this.instances.has(e)}getOptions(e=Va){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(e,t){var i;const a=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:M2(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Va){return this.component?this.component.multipleInstances?e:Va:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function M2(n){return n===Va?void 0:n}function k2(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new D2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ze||(ze={}));const L2={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},P2=ze.INFO,j2={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},U2=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=j2[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gy{constructor(e){this.name=e,this._logLevel=P2,this._logHandler=U2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?L2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const B2=(n,e)=>e.some(t=>n instanceof t);let m0,g0;function z2(){return m0||(m0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function H2(){return g0||(g0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QS=new WeakMap,fg=new WeakMap,YS=new WeakMap,Hm=new WeakMap,yy=new WeakMap;function q2(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Bs(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&QS.set(t,n)}).catch(()=>{}),yy.set(e,n),e}function F2(n){if(fg.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});fg.set(n,e)}let hg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return fg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||YS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Bs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function $2(n){hg=n(hg)}function G2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(qm(this),e,...t);return YS.set(i,e.sort?e.sort():[e]),Bs(i)}:H2().includes(n)?function(...e){return n.apply(qm(this),e),Bs(QS.get(this))}:function(...e){return Bs(n.apply(qm(this),e))}}function K2(n){return typeof n=="function"?G2(n):(n instanceof IDBTransaction&&F2(n),B2(n,z2())?new Proxy(n,hg):n)}function Bs(n){if(n instanceof IDBRequest)return q2(n);if(Hm.has(n))return Hm.get(n);const e=K2(n);return e!==n&&(Hm.set(n,e),yy.set(e,n)),e}const qm=n=>yy.get(n);function Q2(n,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),d=Bs(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Bs(c.result),p.oldVersion,p.newVersion,Bs(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const Y2=["get","getKey","getAll","getAllKeys","count"],X2=["put","add","delete","clear"],Fm=new Map;function y0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Fm.get(e))return Fm.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=X2.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||Y2.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,a?"readwrite":"readonly");let m=p.store;return i&&(m=m.index(d.shift())),(await Promise.all([m[t](...d),a&&p.done]))[0]};return Fm.set(e,l),l}$2(n=>({...n,get:(e,t,i)=>y0(e,t)||n.get(e,t,i),has:(e,t)=>!!y0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Z2(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function Z2(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const dg="@firebase/app",v0="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=new gy("@firebase/app"),J2="@firebase/app-compat",eM="@firebase/analytics-compat",tM="@firebase/analytics",nM="@firebase/app-check-compat",rM="@firebase/app-check",iM="@firebase/auth",sM="@firebase/auth-compat",aM="@firebase/database",oM="@firebase/data-connect",lM="@firebase/database-compat",uM="@firebase/functions",cM="@firebase/functions-compat",fM="@firebase/installations",hM="@firebase/installations-compat",dM="@firebase/messaging",pM="@firebase/messaging-compat",mM="@firebase/performance",gM="@firebase/performance-compat",yM="@firebase/remote-config",vM="@firebase/remote-config-compat",_M="@firebase/storage",EM="@firebase/storage-compat",TM="@firebase/firestore",bM="@firebase/vertexai",wM="@firebase/firestore-compat",SM="firebase",AM="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg="[DEFAULT]",RM={[dg]:"fire-core",[J2]:"fire-core-compat",[tM]:"fire-analytics",[eM]:"fire-analytics-compat",[rM]:"fire-app-check",[nM]:"fire-app-check-compat",[iM]:"fire-auth",[sM]:"fire-auth-compat",[aM]:"fire-rtdb",[oM]:"fire-data-connect",[lM]:"fire-rtdb-compat",[uM]:"fire-fn",[cM]:"fire-fn-compat",[fM]:"fire-iid",[hM]:"fire-iid-compat",[dM]:"fire-fcm",[pM]:"fire-fcm-compat",[mM]:"fire-perf",[gM]:"fire-perf-compat",[yM]:"fire-rc",[vM]:"fire-rc-compat",[_M]:"fire-gcs",[EM]:"fire-gcs-compat",[TM]:"fire-fst",[wM]:"fire-fst-compat",[bM]:"fire-vertex","fire-js":"fire-js",[SM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=new Map,CM=new Map,mg=new Map;function _0(n,e){try{n.container.addComponent(e)}catch(t){zi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Fa(n){const e=n.name;if(mg.has(e))return zi.debug(`There were multiple attempts to register component ${e}.`),!1;mg.set(e,n);for(const t of Rh.values())_0(t,n);for(const t of CM.values())_0(t,n);return!0}function ad(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function br(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zs=new _c("app","Firebase",xM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa=AM;function XS(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:pg,automaticDataCollectionEnabled:!1},e),a=i.name;if(typeof a!="string"||!a)throw zs.create("bad-app-name",{appName:String(a)});if(t||(t=$S()),!t)throw zs.create("no-options");const l=Rh.get(a);if(l){if(qa(t,l.options)&&qa(i,l.config))return l;throw zs.create("duplicate-app",{appName:a})}const c=new V2(a);for(const p of mg.values())c.addComponent(p);const d=new IM(t,i,c);return Rh.set(a,d),d}function vy(n=pg){const e=Rh.get(n);if(!e&&n===pg&&$S())return XS();if(!e)throw zs.create("no-app",{appName:n});return e}function Yr(n,e,t){var i;let a=(i=RM[n])!==null&&i!==void 0?i:n;t&&(a+=`-${t}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zi.warn(d.join(" "));return}Fa(new Gs(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM="firebase-heartbeat-database",NM=1,rc="firebase-heartbeat-store";let $m=null;function WS(){return $m||($m=Q2(OM,NM,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(rc)}catch(t){console.warn(t)}}}}).catch(n=>{throw zs.create("idb-open",{originalErrorMessage:n.message})})),$m}async function DM(n){try{const t=(await WS()).transaction(rc),i=await t.objectStore(rc).get(ZS(n));return await t.done,i}catch(e){if(e instanceof ii)zi.warn(e.message);else{const t=zs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zi.warn(t.message)}}}async function E0(n,e){try{const i=(await WS()).transaction(rc,"readwrite");await i.objectStore(rc).put(e,ZS(n)),await i.done}catch(t){if(t instanceof ii)zi.warn(t.message);else{const i=zs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});zi.warn(i.message)}}}function ZS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=1024,kM=30;class VM{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new PM(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=T0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>kM){const c=jM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){zi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=T0(),{heartbeatsToSend:i,unsentEntries:a}=LM(this._heartbeatsCache.heartbeats),l=Ah(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return zi.warn(t),""}}}function T0(){return new Date().toISOString().substring(0,10)}function LM(n,e=MM){const t=[];let i=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),b0(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),b0(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class PM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return w2()?S2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await DM(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return E0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return E0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function b0(n){return Ah(JSON.stringify({version:2,heartbeats:n})).length}function jM(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(n){Fa(new Gs("platform-logger",e=>new W2(e),"PRIVATE")),Fa(new Gs("heartbeat",e=>new VM(e),"PRIVATE")),Yr(dg,v0,n),Yr(dg,v0,"esm2017"),Yr("fire-js","")}UM("");var BM="firebase",zM="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yr(BM,zM,"app");var w0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hs,JS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,O){function x(){}x.prototype=O.prototype,k.D=O.prototype,k.prototype=new x,k.prototype.constructor=k,k.C=function(M,L,U){for(var D=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)D[Oe-2]=arguments[Oe];return O.prototype[L].apply(M,D)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,O,x){x||(x=0);var M=Array(16);if(typeof O=="string")for(var L=0;16>L;++L)M[L]=O.charCodeAt(x++)|O.charCodeAt(x++)<<8|O.charCodeAt(x++)<<16|O.charCodeAt(x++)<<24;else for(L=0;16>L;++L)M[L]=O[x++]|O[x++]<<8|O[x++]<<16|O[x++]<<24;O=k.g[0],x=k.g[1],L=k.g[2];var U=k.g[3],D=O+(U^x&(L^U))+M[0]+3614090360&4294967295;O=x+(D<<7&4294967295|D>>>25),D=U+(L^O&(x^L))+M[1]+3905402710&4294967295,U=O+(D<<12&4294967295|D>>>20),D=L+(x^U&(O^x))+M[2]+606105819&4294967295,L=U+(D<<17&4294967295|D>>>15),D=x+(O^L&(U^O))+M[3]+3250441966&4294967295,x=L+(D<<22&4294967295|D>>>10),D=O+(U^x&(L^U))+M[4]+4118548399&4294967295,O=x+(D<<7&4294967295|D>>>25),D=U+(L^O&(x^L))+M[5]+1200080426&4294967295,U=O+(D<<12&4294967295|D>>>20),D=L+(x^U&(O^x))+M[6]+2821735955&4294967295,L=U+(D<<17&4294967295|D>>>15),D=x+(O^L&(U^O))+M[7]+4249261313&4294967295,x=L+(D<<22&4294967295|D>>>10),D=O+(U^x&(L^U))+M[8]+1770035416&4294967295,O=x+(D<<7&4294967295|D>>>25),D=U+(L^O&(x^L))+M[9]+2336552879&4294967295,U=O+(D<<12&4294967295|D>>>20),D=L+(x^U&(O^x))+M[10]+4294925233&4294967295,L=U+(D<<17&4294967295|D>>>15),D=x+(O^L&(U^O))+M[11]+2304563134&4294967295,x=L+(D<<22&4294967295|D>>>10),D=O+(U^x&(L^U))+M[12]+1804603682&4294967295,O=x+(D<<7&4294967295|D>>>25),D=U+(L^O&(x^L))+M[13]+4254626195&4294967295,U=O+(D<<12&4294967295|D>>>20),D=L+(x^U&(O^x))+M[14]+2792965006&4294967295,L=U+(D<<17&4294967295|D>>>15),D=x+(O^L&(U^O))+M[15]+1236535329&4294967295,x=L+(D<<22&4294967295|D>>>10),D=O+(L^U&(x^L))+M[1]+4129170786&4294967295,O=x+(D<<5&4294967295|D>>>27),D=U+(x^L&(O^x))+M[6]+3225465664&4294967295,U=O+(D<<9&4294967295|D>>>23),D=L+(O^x&(U^O))+M[11]+643717713&4294967295,L=U+(D<<14&4294967295|D>>>18),D=x+(U^O&(L^U))+M[0]+3921069994&4294967295,x=L+(D<<20&4294967295|D>>>12),D=O+(L^U&(x^L))+M[5]+3593408605&4294967295,O=x+(D<<5&4294967295|D>>>27),D=U+(x^L&(O^x))+M[10]+38016083&4294967295,U=O+(D<<9&4294967295|D>>>23),D=L+(O^x&(U^O))+M[15]+3634488961&4294967295,L=U+(D<<14&4294967295|D>>>18),D=x+(U^O&(L^U))+M[4]+3889429448&4294967295,x=L+(D<<20&4294967295|D>>>12),D=O+(L^U&(x^L))+M[9]+568446438&4294967295,O=x+(D<<5&4294967295|D>>>27),D=U+(x^L&(O^x))+M[14]+3275163606&4294967295,U=O+(D<<9&4294967295|D>>>23),D=L+(O^x&(U^O))+M[3]+4107603335&4294967295,L=U+(D<<14&4294967295|D>>>18),D=x+(U^O&(L^U))+M[8]+1163531501&4294967295,x=L+(D<<20&4294967295|D>>>12),D=O+(L^U&(x^L))+M[13]+2850285829&4294967295,O=x+(D<<5&4294967295|D>>>27),D=U+(x^L&(O^x))+M[2]+4243563512&4294967295,U=O+(D<<9&4294967295|D>>>23),D=L+(O^x&(U^O))+M[7]+1735328473&4294967295,L=U+(D<<14&4294967295|D>>>18),D=x+(U^O&(L^U))+M[12]+2368359562&4294967295,x=L+(D<<20&4294967295|D>>>12),D=O+(x^L^U)+M[5]+4294588738&4294967295,O=x+(D<<4&4294967295|D>>>28),D=U+(O^x^L)+M[8]+2272392833&4294967295,U=O+(D<<11&4294967295|D>>>21),D=L+(U^O^x)+M[11]+1839030562&4294967295,L=U+(D<<16&4294967295|D>>>16),D=x+(L^U^O)+M[14]+4259657740&4294967295,x=L+(D<<23&4294967295|D>>>9),D=O+(x^L^U)+M[1]+2763975236&4294967295,O=x+(D<<4&4294967295|D>>>28),D=U+(O^x^L)+M[4]+1272893353&4294967295,U=O+(D<<11&4294967295|D>>>21),D=L+(U^O^x)+M[7]+4139469664&4294967295,L=U+(D<<16&4294967295|D>>>16),D=x+(L^U^O)+M[10]+3200236656&4294967295,x=L+(D<<23&4294967295|D>>>9),D=O+(x^L^U)+M[13]+681279174&4294967295,O=x+(D<<4&4294967295|D>>>28),D=U+(O^x^L)+M[0]+3936430074&4294967295,U=O+(D<<11&4294967295|D>>>21),D=L+(U^O^x)+M[3]+3572445317&4294967295,L=U+(D<<16&4294967295|D>>>16),D=x+(L^U^O)+M[6]+76029189&4294967295,x=L+(D<<23&4294967295|D>>>9),D=O+(x^L^U)+M[9]+3654602809&4294967295,O=x+(D<<4&4294967295|D>>>28),D=U+(O^x^L)+M[12]+3873151461&4294967295,U=O+(D<<11&4294967295|D>>>21),D=L+(U^O^x)+M[15]+530742520&4294967295,L=U+(D<<16&4294967295|D>>>16),D=x+(L^U^O)+M[2]+3299628645&4294967295,x=L+(D<<23&4294967295|D>>>9),D=O+(L^(x|~U))+M[0]+4096336452&4294967295,O=x+(D<<6&4294967295|D>>>26),D=U+(x^(O|~L))+M[7]+1126891415&4294967295,U=O+(D<<10&4294967295|D>>>22),D=L+(O^(U|~x))+M[14]+2878612391&4294967295,L=U+(D<<15&4294967295|D>>>17),D=x+(U^(L|~O))+M[5]+4237533241&4294967295,x=L+(D<<21&4294967295|D>>>11),D=O+(L^(x|~U))+M[12]+1700485571&4294967295,O=x+(D<<6&4294967295|D>>>26),D=U+(x^(O|~L))+M[3]+2399980690&4294967295,U=O+(D<<10&4294967295|D>>>22),D=L+(O^(U|~x))+M[10]+4293915773&4294967295,L=U+(D<<15&4294967295|D>>>17),D=x+(U^(L|~O))+M[1]+2240044497&4294967295,x=L+(D<<21&4294967295|D>>>11),D=O+(L^(x|~U))+M[8]+1873313359&4294967295,O=x+(D<<6&4294967295|D>>>26),D=U+(x^(O|~L))+M[15]+4264355552&4294967295,U=O+(D<<10&4294967295|D>>>22),D=L+(O^(U|~x))+M[6]+2734768916&4294967295,L=U+(D<<15&4294967295|D>>>17),D=x+(U^(L|~O))+M[13]+1309151649&4294967295,x=L+(D<<21&4294967295|D>>>11),D=O+(L^(x|~U))+M[4]+4149444226&4294967295,O=x+(D<<6&4294967295|D>>>26),D=U+(x^(O|~L))+M[11]+3174756917&4294967295,U=O+(D<<10&4294967295|D>>>22),D=L+(O^(U|~x))+M[2]+718787259&4294967295,L=U+(D<<15&4294967295|D>>>17),D=x+(U^(L|~O))+M[9]+3951481745&4294967295,k.g[0]=k.g[0]+O&4294967295,k.g[1]=k.g[1]+(L+(D<<21&4294967295|D>>>11))&4294967295,k.g[2]=k.g[2]+L&4294967295,k.g[3]=k.g[3]+U&4294967295}i.prototype.u=function(k,O){O===void 0&&(O=k.length);for(var x=O-this.blockSize,M=this.B,L=this.h,U=0;U<O;){if(L==0)for(;U<=x;)a(this,k,U),U+=this.blockSize;if(typeof k=="string"){for(;U<O;)if(M[L++]=k.charCodeAt(U++),L==this.blockSize){a(this,M),L=0;break}}else for(;U<O;)if(M[L++]=k[U++],L==this.blockSize){a(this,M),L=0;break}}this.h=L,this.o+=O},i.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var O=1;O<k.length-8;++O)k[O]=0;var x=8*this.o;for(O=k.length-8;O<k.length;++O)k[O]=x&255,x/=256;for(this.u(k),k=Array(16),O=x=0;4>O;++O)for(var M=0;32>M;M+=8)k[x++]=this.g[O]>>>M&255;return k};function l(k,O){var x=d;return Object.prototype.hasOwnProperty.call(x,k)?x[k]:x[k]=O(k)}function c(k,O){this.h=O;for(var x=[],M=!0,L=k.length-1;0<=L;L--){var U=k[L]|0;M&&U==O||(x[L]=U,M=!1)}this.g=x}var d={};function p(k){return-128<=k&&128>k?l(k,function(O){return new c([O|0],0>O?-1:0)}):new c([k|0],0>k?-1:0)}function m(k){if(isNaN(k)||!isFinite(k))return b;if(0>k)return N(m(-k));for(var O=[],x=1,M=0;k>=x;M++)O[M]=k/x|0,x*=4294967296;return new c(O,0)}function v(k,O){if(k.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(k.charAt(0)=="-")return N(v(k.substring(1),O));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=m(Math.pow(O,8)),M=b,L=0;L<k.length;L+=8){var U=Math.min(8,k.length-L),D=parseInt(k.substring(L,L+U),O);8>U?(U=m(Math.pow(O,U)),M=M.j(U).add(m(D))):(M=M.j(x),M=M.add(m(D)))}return M}var b=p(0),S=p(1),R=p(16777216);n=c.prototype,n.m=function(){if(j(this))return-N(this).m();for(var k=0,O=1,x=0;x<this.g.length;x++){var M=this.i(x);k+=(0<=M?M:4294967296+M)*O,O*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(I(this))return"0";if(j(this))return"-"+N(this).toString(k);for(var O=m(Math.pow(k,6)),x=this,M="";;){var L=Y(x,O).g;x=B(x,L.j(O));var U=((0<x.g.length?x.g[0]:x.h)>>>0).toString(k);if(x=L,I(x))return U+M;for(;6>U.length;)U="0"+U;M=U+M}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function I(k){if(k.h!=0)return!1;for(var O=0;O<k.g.length;O++)if(k.g[O]!=0)return!1;return!0}function j(k){return k.h==-1}n.l=function(k){return k=B(this,k),j(k)?-1:I(k)?0:1};function N(k){for(var O=k.g.length,x=[],M=0;M<O;M++)x[M]=~k.g[M];return new c(x,~k.h).add(S)}n.abs=function(){return j(this)?N(this):this},n.add=function(k){for(var O=Math.max(this.g.length,k.g.length),x=[],M=0,L=0;L<=O;L++){var U=M+(this.i(L)&65535)+(k.i(L)&65535),D=(U>>>16)+(this.i(L)>>>16)+(k.i(L)>>>16);M=D>>>16,U&=65535,D&=65535,x[L]=D<<16|U}return new c(x,x[x.length-1]&-2147483648?-1:0)};function B(k,O){return k.add(N(O))}n.j=function(k){if(I(this)||I(k))return b;if(j(this))return j(k)?N(this).j(N(k)):N(N(this).j(k));if(j(k))return N(this.j(N(k)));if(0>this.l(R)&&0>k.l(R))return m(this.m()*k.m());for(var O=this.g.length+k.g.length,x=[],M=0;M<2*O;M++)x[M]=0;for(M=0;M<this.g.length;M++)for(var L=0;L<k.g.length;L++){var U=this.i(M)>>>16,D=this.i(M)&65535,Oe=k.i(L)>>>16,De=k.i(L)&65535;x[2*M+2*L]+=D*De,G(x,2*M+2*L),x[2*M+2*L+1]+=U*De,G(x,2*M+2*L+1),x[2*M+2*L+1]+=D*Oe,G(x,2*M+2*L+1),x[2*M+2*L+2]+=U*Oe,G(x,2*M+2*L+2)}for(M=0;M<O;M++)x[M]=x[2*M+1]<<16|x[2*M];for(M=O;M<2*O;M++)x[M]=0;return new c(x,0)};function G(k,O){for(;(k[O]&65535)!=k[O];)k[O+1]+=k[O]>>>16,k[O]&=65535,O++}function q(k,O){this.g=k,this.h=O}function Y(k,O){if(I(O))throw Error("division by zero");if(I(k))return new q(b,b);if(j(k))return O=Y(N(k),O),new q(N(O.g),N(O.h));if(j(O))return O=Y(k,N(O)),new q(N(O.g),O.h);if(30<k.g.length){if(j(k)||j(O))throw Error("slowDivide_ only works with positive integers.");for(var x=S,M=O;0>=M.l(k);)x=W(x),M=W(M);var L=ee(x,1),U=ee(M,1);for(M=ee(M,2),x=ee(x,2);!I(M);){var D=U.add(M);0>=D.l(k)&&(L=L.add(x),U=D),M=ee(M,1),x=ee(x,1)}return O=B(k,L.j(O)),new q(L,O)}for(L=b;0<=k.l(O);){for(x=Math.max(1,Math.floor(k.m()/O.m())),M=Math.ceil(Math.log(x)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),U=m(x),D=U.j(O);j(D)||0<D.l(k);)x-=M,U=m(x),D=U.j(O);I(U)&&(U=S),L=L.add(U),k=B(k,D)}return new q(L,k)}n.A=function(k){return Y(this,k).h},n.and=function(k){for(var O=Math.max(this.g.length,k.g.length),x=[],M=0;M<O;M++)x[M]=this.i(M)&k.i(M);return new c(x,this.h&k.h)},n.or=function(k){for(var O=Math.max(this.g.length,k.g.length),x=[],M=0;M<O;M++)x[M]=this.i(M)|k.i(M);return new c(x,this.h|k.h)},n.xor=function(k){for(var O=Math.max(this.g.length,k.g.length),x=[],M=0;M<O;M++)x[M]=this.i(M)^k.i(M);return new c(x,this.h^k.h)};function W(k){for(var O=k.g.length+1,x=[],M=0;M<O;M++)x[M]=k.i(M)<<1|k.i(M-1)>>>31;return new c(x,k.h)}function ee(k,O){var x=O>>5;O%=32;for(var M=k.g.length-x,L=[],U=0;U<M;U++)L[U]=0<O?k.i(U+x)>>>O|k.i(U+x+1)<<32-O:k.i(U+x);return new c(L,k.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,JS=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=v,Hs=c}).apply(typeof w0<"u"?w0:typeof self<"u"?self:typeof window<"u"?window:{});var eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eA,Pu,tA,fh,gg,nA,rA,iA;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,y,_){return f==Array.prototype||f==Object.prototype||(f[y]=_.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof eh=="object"&&eh];for(var y=0;y<f.length;++y){var _=f[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function a(f,y){if(y)e:{var _=i;f=f.split(".");for(var C=0;C<f.length-1;C++){var $=f[C];if(!($ in _))break e;_=_[$]}f=f[f.length-1],C=_[f],y=y(C),y!=C&&y!=null&&e(_,f,{configurable:!0,writable:!0,value:y})}}function l(f,y){f instanceof String&&(f+="");var _=0,C=!1,$={next:function(){if(!C&&_<f.length){var X=_++;return{value:y(X,f[X]),done:!1}}return C=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}a("Array.prototype.values",function(f){return f||function(){return l(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(f){var y=typeof f;return y=y!="object"?y:f?Array.isArray(f)?"array":y:"null",y=="array"||y=="object"&&typeof f.length=="number"}function m(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function v(f,y,_){return f.call.apply(f.bind,arguments)}function b(f,y,_){if(!f)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,C),f.apply(y,$)}}return function(){return f.apply(y,arguments)}}function S(f,y,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:b,S.apply(null,arguments)}function R(f,y){var _=Array.prototype.slice.call(arguments,1);return function(){var C=_.slice();return C.push.apply(C,arguments),f.apply(this,C)}}function I(f,y){function _(){}_.prototype=y.prototype,f.aa=y.prototype,f.prototype=new _,f.prototype.constructor=f,f.Qb=function(C,$,X){for(var fe=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)fe[Ke-2]=arguments[Ke];return y.prototype[$].apply(C,fe)}}function j(f){const y=f.length;if(0<y){const _=Array(y);for(let C=0;C<y;C++)_[C]=f[C];return _}return[]}function N(f,y){for(let _=1;_<arguments.length;_++){const C=arguments[_];if(p(C)){const $=f.length||0,X=C.length||0;f.length=$+X;for(let fe=0;fe<X;fe++)f[$+fe]=C[fe]}else f.push(C)}}class B{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function G(f){return/^[\s\xa0]*$/.test(f)}function q(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function Y(f){return Y[" "](f),f}Y[" "]=function(){};var W=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function ee(f,y,_){for(const C in f)y.call(_,f[C],C,f)}function k(f,y){for(const _ in f)y.call(void 0,f[_],_,f)}function O(f){const y={};for(const _ in f)y[_]=f[_];return y}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(f,y){let _,C;for(let $=1;$<arguments.length;$++){C=arguments[$];for(_ in C)f[_]=C[_];for(let X=0;X<x.length;X++)_=x[X],Object.prototype.hasOwnProperty.call(C,_)&&(f[_]=C[_])}}function L(f){var y=1;f=f.split(":");const _=[];for(;0<y&&f.length;)_.push(f.shift()),y--;return f.length&&_.push(f.join(":")),_}function U(f){d.setTimeout(()=>{throw f},0)}function D(){var f=we;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class Oe{constructor(){this.h=this.g=null}add(y,_){const C=De.get();C.set(y,_),this.h?this.h.next=C:this.g=C,this.h=C}}var De=new B(()=>new se,f=>f.reset());class se{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let he,ce=!1,we=new Oe,P=()=>{const f=d.Promise.resolve(void 0);he=()=>{f.then(ne)}};var ne=()=>{for(var f;f=D();){try{f.h.call(f.g)}catch(_){U(_)}var y=De;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}ce=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var oe=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return f}();function ve(f,y){if(ue.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var _=this.type=f.type,C=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(W){e:{try{Y(y.nodeName);var $=!0;break e}catch{}$=!1}$||(y=null)}}else _=="mouseover"?y=f.fromElement:_=="mouseout"&&(y=f.toElement);this.relatedTarget=y,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:me[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&ve.aa.h.call(this)}}I(ve,ue);var me={2:"touch",3:"pen",4:"mouse"};ve.prototype.h=function(){ve.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var it="closure_listenable_"+(1e6*Math.random()|0),Re=0;function We(f,y,_,C,$){this.listener=f,this.proxy=null,this.src=y,this.type=_,this.capture=!!C,this.ha=$,this.key=++Re,this.da=this.fa=!1}function je(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Ze(f){this.src=f,this.g={},this.h=0}Ze.prototype.add=function(f,y,_,C,$){var X=f.toString();f=this.g[X],f||(f=this.g[X]=[],this.h++);var fe=mt(f,y,C,$);return-1<fe?(y=f[fe],_||(y.fa=!1)):(y=new We(y,this.src,X,!!C,$),y.fa=_,f.push(y)),y};function ft(f,y){var _=y.type;if(_ in f.g){var C=f.g[_],$=Array.prototype.indexOf.call(C,y,void 0),X;(X=0<=$)&&Array.prototype.splice.call(C,$,1),X&&(je(y),f.g[_].length==0&&(delete f.g[_],f.h--))}}function mt(f,y,_,C){for(var $=0;$<f.length;++$){var X=f[$];if(!X.da&&X.listener==y&&X.capture==!!_&&X.ha==C)return $}return-1}var Ft="closure_lm_"+(1e6*Math.random()|0),Le={};function Jt(f,y,_,C,$){if(Array.isArray(y)){for(var X=0;X<y.length;X++)Jt(f,y[X],_,C,$);return null}return _=Ir(_),f&&f[it]?f.K(y,_,m(C)?!!C.capture:!1,$):bn(f,y,_,!1,C,$)}function bn(f,y,_,C,$,X){if(!y)throw Error("Invalid event type");var fe=m($)?!!$.capture:!!$,Ke=hr(f);if(Ke||(f[Ft]=Ke=new Ze(f)),_=Ke.add(y,_,C,fe,X),_.proxy)return _;if(C=Cr(),_.proxy=C,C.src=f,C.listener=_,f.addEventListener)oe||($=fe),$===void 0&&($=!1),f.addEventListener(y.toString(),C,$);else if(f.attachEvent)f.attachEvent(Mn(y.toString()),C);else if(f.addListener&&f.removeListener)f.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Cr(){function f(_){return y.call(f.src,f.listener,_)}const y=Xi;return f}function xr(f,y,_,C,$){if(Array.isArray(y))for(var X=0;X<y.length;X++)xr(f,y[X],_,C,$);else C=m(C)?!!C.capture:!!C,_=Ir(_),f&&f[it]?(f=f.i,y=String(y).toString(),y in f.g&&(X=f.g[y],_=mt(X,_,C,$),-1<_&&(je(X[_]),Array.prototype.splice.call(X,_,1),X.length==0&&(delete f.g[y],f.h--)))):f&&(f=hr(f))&&(y=f.g[y.toString()],f=-1,y&&(f=mt(y,_,C,$)),(_=-1<f?y[f]:null)&&en(_))}function en(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[it])ft(y.i,f);else{var _=f.type,C=f.proxy;y.removeEventListener?y.removeEventListener(_,C,f.capture):y.detachEvent?y.detachEvent(Mn(_),C):y.addListener&&y.removeListener&&y.removeListener(C),(_=hr(y))?(ft(_,f),_.h==0&&(_.src=null,y[Ft]=null)):je(f)}}}function Mn(f){return f in Le?Le[f]:Le[f]="on"+f}function Xi(f,y){if(f.da)f=!0;else{y=new ve(y,this);var _=f.listener,C=f.ha||f.src;f.fa&&en(f),f=_.call(C,y)}return f}function hr(f){return f=f[Ft],f instanceof Ze?f:null}var gt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ir(f){return typeof f=="function"?f:(f[gt]||(f[gt]=function(y){return f.handleEvent(y)}),f[gt])}function dt(){de.call(this),this.i=new Ze(this),this.M=this,this.F=null}I(dt,de),dt.prototype[it]=!0,dt.prototype.removeEventListener=function(f,y,_,C){xr(this,f,y,_,C)};function yt(f,y){var _,C=f.F;if(C)for(_=[];C;C=C.F)_.push(C);if(f=f.M,C=y.type||y,typeof y=="string")y=new ue(y,f);else if(y instanceof ue)y.target=y.target||f;else{var $=y;y=new ue(C,f),M(y,$)}if($=!0,_)for(var X=_.length-1;0<=X;X--){var fe=y.g=_[X];$=wn(fe,C,!0,y)&&$}if(fe=y.g=f,$=wn(fe,C,!0,y)&&$,$=wn(fe,C,!1,y)&&$,_)for(X=0;X<_.length;X++)fe=y.g=_[X],$=wn(fe,C,!1,y)&&$}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var f=this.i,y;for(y in f.g){for(var _=f.g[y],C=0;C<_.length;C++)je(_[C]);delete f.g[y],f.h--}}this.F=null},dt.prototype.K=function(f,y,_,C){return this.i.add(String(f),y,!1,_,C)},dt.prototype.L=function(f,y,_,C){return this.i.add(String(f),y,!0,_,C)};function wn(f,y,_,C){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();for(var $=!0,X=0;X<y.length;++X){var fe=y[X];if(fe&&!fe.da&&fe.capture==_){var Ke=fe.listener,jt=fe.ha||fe.src;fe.fa&&ft(f.i,fe),$=Ke.call(jt,C)!==!1&&$}}return $&&!C.defaultPrevented}function ra(f,y,_){if(typeof f=="function")_&&(f=S(f,_));else if(f&&typeof f.handleEvent=="function")f=S(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(f,y||0)}function si(f){f.g=ra(()=>{f.g=null,f.i&&(f.i=!1,si(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class eo extends de{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:si(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ae(f){de.call(this),this.h=f,this.g={}}I(Ae,de);var qe=[];function lt(f){ee(f.g,function(y,_){this.g.hasOwnProperty(_)&&en(y)},f),f.g={}}Ae.prototype.N=function(){Ae.aa.N.call(this),lt(this)},Ae.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dr=d.JSON.stringify,Fn=d.JSON.parse,gn=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function Cl(){}Cl.prototype.h=null;function Oc(f){return f.h||(f.h=f.i())}function Nc(){}var Or={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wi(){ue.call(this,"d")}I(Wi,ue);function pr(){ue.call(this,"c")}I(pr,ue);var $n={},Zi=null;function to(){return Zi=Zi||new dt}$n.La="serverreachability";function xl(f){ue.call(this,$n.La,f)}I(xl,ue);function Ji(f){const y=to();yt(y,new xl(y))}$n.STAT_EVENT="statevent";function no(f,y){ue.call(this,$n.STAT_EVENT,f),this.stat=y}I(no,ue);function Ct(f){const y=to();yt(y,new no(y,f))}$n.Ma="timingevent";function Dc(f,y){ue.call(this,$n.Ma,f),this.size=y}I(Dc,ue);function es(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},y)}function ts(){this.g=!0}ts.prototype.xa=function(){this.g=!1};function Mc(f,y,_,C,$,X){f.info(function(){if(f.g)if(X)for(var fe="",Ke=X.split("&"),jt=0;jt<Ke.length;jt++){var Qe=Ke[jt].split("=");if(1<Qe.length){var Kt=Qe[0];Qe=Qe[1];var Ut=Kt.split("_");fe=2<=Ut.length&&Ut[1]=="type"?fe+(Kt+"="+Qe+"&"):fe+(Kt+"=redacted&")}}else fe=null;else fe=X;return"XMLHTTP REQ ("+C+") [attempt "+$+"]: "+y+`
`+_+`
`+fe})}function kc(f,y,_,C,$,X,fe){f.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+$+"]: "+y+`
`+_+`
`+X+" "+fe})}function ns(f,y,_,C){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+$t(f,_)+(C?" "+C:"")})}function Nr(f,y){f.info(function(){return"TIMEOUT: "+y})}ts.prototype.info=function(){};function $t(f,y){if(!f.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(f=0;f<_.length;f++)if(Array.isArray(_[f])){var C=_[f];if(!(2>C.length)){var $=C[1];if(Array.isArray($)&&!(1>$.length)){var X=$[0];if(X!="noop"&&X!="stop"&&X!="close")for(var fe=1;fe<$.length;fe++)$[fe]=""}}}}return dr(_)}catch{return y}}var Pt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ai={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ia;function ro(){}I(ro,Cl),ro.prototype.g=function(){return new XMLHttpRequest},ro.prototype.i=function(){return{}},ia=new ro;function Dr(f,y,_,C){this.j=f,this.i=y,this.l=_,this.R=C||1,this.U=new Ae(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Il}function Il(){this.i=null,this.g="",this.h=!1}var rs={},sa={};function mr(f,y,_){f.L=1,f.v=la(wt(y)),f.m=_,f.P=!0,oi(f,null)}function oi(f,y){f.F=Date.now(),vt(f),f.A=wt(f.v);var _=f.A,C=f.R;Array.isArray(C)||(C=[String(C)]),ci(_.i,"t",C),f.C=0,_=f.j.J,f.h=new Il,f.g=Qc(f.j,_?y:null,!f.m),0<f.O&&(f.M=new eo(S(f.Y,f,f.g),f.O)),y=f.U,_=f.g,C=f.ca;var $="readystatechange";Array.isArray($)||($&&(qe[0]=$.toString()),$=qe);for(var X=0;X<$.length;X++){var fe=Jt(_,$[X],C||y.handleEvent,!1,y.h||y);if(!fe)break;y.g[fe.key]=fe}y=f.H?O(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),Ji(),Mc(f.i,f.u,f.A,f.l,f.R,f.m)}Dr.prototype.ca=function(f){f=f.target;const y=this.M;y&&Xn(f)==3?y.j():this.Y(f)},Dr.prototype.Y=function(f){try{if(f==this.g)e:{const Ut=Xn(this.g);var y=this.g.Ba();const pi=this.g.Z();if(!(3>Ut)&&(Ut!=3||this.g&&(this.h.h||this.g.oa()||Bc(this.g)))){this.J||Ut!=4||y==7||(y==8||0>=pi?Ji(3):Ji(2)),io(this);var _=this.g.Z();this.X=_;t:if(is(this)){var C=Bc(this.g);f="";var $=C.length,X=Xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Sn(this),kn(this);var fe="";break t}this.h.i=new d.TextDecoder}for(y=0;y<$;y++)this.h.h=!0,f+=this.h.i.decode(C[y],{stream:!(X&&y==$-1)});C.length=0,this.h.g+=f,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=_==200,kc(this.i,this.u,this.A,this.l,this.R,Ut,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,jt=this.g;if((Ke=jt.g?jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(Ke)){var Qe=Ke;break t}}Qe=null}if(_=Qe)ns(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vn(this,_);else{this.o=!1,this.s=3,Ct(12),Sn(this),kn(this);break e}}if(this.P){_=!0;let tn;for(;!this.J&&this.C<fe.length;)if(tn=ss(this,fe),tn==sa){Ut==4&&(this.s=4,Ct(14),_=!1),ns(this.i,this.l,null,"[Incomplete Response]");break}else if(tn==rs){this.s=4,Ct(15),ns(this.i,this.l,fe,"[Invalid Chunk]"),_=!1;break}else ns(this.i,this.l,tn,null),Vn(this,tn);if(is(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ut!=4||fe.length!=0||this.h.h||(this.s=1,Ct(16),_=!1),this.o=this.o&&_,!_)ns(this.i,this.l,fe,"[Invalid Chunked Response]"),Sn(this),kn(this);else if(0<fe.length&&!this.W){this.W=!0;var Kt=this.j;Kt.g==this&&Kt.ba&&!Kt.M&&(Kt.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),ma(Kt),Kt.M=!0,Ct(11))}}else ns(this.i,this.l,fe,null),Vn(this,fe);Ut==4&&Sn(this),this.o&&!this.J&&(Ut==4?$c(this.j,this):(this.o=!1,vt(this)))}else Od(this.g),_==400&&0<fe.indexOf("Unknown SID")?(this.s=3,Ct(12)):(this.s=0,Ct(13)),Sn(this),kn(this)}}}catch{}finally{}};function is(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function ss(f,y){var _=f.C,C=y.indexOf(`
`,_);return C==-1?sa:(_=Number(y.substring(_,C)),isNaN(_)?rs:(C+=1,C+_>y.length?sa:(y=y.slice(C,C+_),f.C=C+_,y)))}Dr.prototype.cancel=function(){this.J=!0,Sn(this)};function vt(f){f.S=Date.now()+f.I,Ol(f,f.I)}function Ol(f,y){if(f.B!=null)throw Error("WatchDog timer not null");f.B=es(S(f.ba,f),y)}function io(f){f.B&&(d.clearTimeout(f.B),f.B=null)}Dr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Nr(this.i,this.A),this.L!=2&&(Ji(),Ct(17)),Sn(this),this.s=2,kn(this)):Ol(this,this.S-f)};function kn(f){f.j.G==0||f.J||$c(f.j,f)}function Sn(f){io(f);var y=f.M;y&&typeof y.ma=="function"&&y.ma(),f.M=null,lt(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function Vn(f,y){try{var _=f.j;if(_.G!=0&&(_.g==f||as(_.h,f))){if(!f.K&&as(_.h,f)&&_.G==3){try{var C=_.Da.g.parse(y)}catch{C=null}if(Array.isArray(C)&&C.length==3){var $=C;if($[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<f.F)mo(_),ho(_);else break e;zl(_),Ct(18)}}else _.za=$[1],0<_.za-_.T&&37500>$[2]&&_.F&&_.v==0&&!_.C&&(_.C=es(S(_.Za,_),6e3));if(1>=Vc(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else di(_,11)}else if((f.K||_.g==f)&&mo(_),!G(y))for($=_.Da.g.parse(y),y=0;y<$.length;y++){let Qe=$[y];if(_.T=Qe[0],Qe=Qe[1],_.G==2)if(Qe[0]=="c"){_.K=Qe[1],_.ia=Qe[2];const Kt=Qe[3];Kt!=null&&(_.la=Kt,_.j.info("VER="+_.la));const Ut=Qe[4];Ut!=null&&(_.Aa=Ut,_.j.info("SVER="+_.Aa));const pi=Qe[5];pi!=null&&typeof pi=="number"&&0<pi&&(C=1.5*pi,_.L=C,_.j.info("backChannelRequestTimeoutMs_="+C)),C=_;const tn=f.g;if(tn){const Ur=tn.g?tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ur){var X=C.h;X.g||Ur.indexOf("spdy")==-1&&Ur.indexOf("quic")==-1&&Ur.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(os(X,X.h),X.h=null))}if(C.D){const ql=tn.g?tn.g.getResponseHeader("X-HTTP-Session-Id"):null;ql&&(C.ya=ql,Je(C.I,C.D,ql))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-f.F,_.j.info("Handshake RTT: "+_.R+"ms")),C=_;var fe=f;if(C.qa=Kc(C,C.J?C.ia:null,C.W),fe.K){Gn(C.h,fe);var Ke=fe,jt=C.L;jt&&(Ke.I=jt),Ke.B&&(io(Ke),vt(Ke)),C.g=fe}else qc(C);0<_.i.length&&po(_)}else Qe[0]!="stop"&&Qe[0]!="close"||di(_,7);else _.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?di(_,7):Ul(_):Qe[0]!="noop"&&_.l&&_.l.ta(Qe),_.v=0)}}Ji(4)}catch{}}var Ad=class{constructor(f,y){this.g=f,this.map=y}};function Nl(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Dl(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Vc(f){return f.h?1:f.g?f.g.size:0}function as(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function os(f,y){f.g?f.g.add(y):f.h=y}function Gn(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}Nl.prototype.cancel=function(){if(this.i=yn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function yn(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const _ of f.g.values())y=y.concat(_.D);return y}return j(f.i)}function Lc(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(p(f)){for(var y=[],_=f.length,C=0;C<_;C++)y.push(f[C]);return y}y=[],_=0;for(C in f)y[_++]=f[C];return y}function Rd(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(p(f)||typeof f=="string"){var y=[];f=f.length;for(var _=0;_<f;_++)y.push(_);return y}y=[],_=0;for(const C in f)y[_++]=C;return y}}}function aa(f,y){if(f.forEach&&typeof f.forEach=="function")f.forEach(y,void 0);else if(p(f)||typeof f=="string")Array.prototype.forEach.call(f,y,void 0);else for(var _=Rd(f),C=Lc(f),$=C.length,X=0;X<$;X++)y.call(void 0,C[X],_&&_[X],f)}var Ml=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function so(f,y){if(f){f=f.split("&");for(var _=0;_<f.length;_++){var C=f[_].indexOf("="),$=null;if(0<=C){var X=f[_].substring(0,C);$=f[_].substring(C+1)}else X=f[_];y(X,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function li(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof li){this.h=f.h,ls(this,f.j),this.o=f.o,this.g=f.g,oa(this,f.s),this.l=f.l;var y=f.i,_=new Mr;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),ao(this,_),this.m=f.m}else f&&(y=String(f).match(Ml))?(this.h=!1,ls(this,y[1]||"",!0),this.o=us(y[2]||""),this.g=us(y[3]||"",!0),oa(this,y[4]),this.l=us(y[5]||"",!0),ao(this,y[6]||"",!0),this.m=us(y[7]||"")):(this.h=!1,this.i=new Mr(null,this.h))}li.prototype.toString=function(){var f=[],y=this.j;y&&f.push(Kn(y,kl,!0),":");var _=this.g;return(_||y=="file")&&(f.push("//"),(y=this.o)&&f.push(Kn(y,kl,!0),"@"),f.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&f.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&f.push("/"),f.push(Kn(_,_.charAt(0)=="/"?Vl:Pc,!0))),(_=this.i.toString())&&f.push("?",_),(_=this.m)&&f.push("#",Kn(_,Id)),f.join("")};function wt(f){return new li(f)}function ls(f,y,_){f.j=_?us(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function oa(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function ao(f,y,_){y instanceof Mr?(f.i=y,Ll(f.i,f.h)):(_||(y=Kn(y,xd)),f.i=new Mr(y,f.h))}function Je(f,y,_){f.i.set(y,_)}function la(f){return Je(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function us(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Kn(f,y,_){return typeof f=="string"?(f=encodeURI(f).replace(y,Cd),_&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Cd(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var kl=/[#\/\?@]/g,Pc=/[#\?:]/g,Vl=/[#\?]/g,xd=/[#\?@]/g,Id=/#/g;function Mr(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function Qn(f){f.g||(f.g=new Map,f.h=0,f.i&&so(f.i,function(y,_){f.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}n=Mr.prototype,n.add=function(f,y){Qn(this),this.i=null,f=fi(this,f);var _=this.g.get(f);return _||this.g.set(f,_=[]),_.push(y),this.h+=1,this};function oo(f,y){Qn(f),y=fi(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function ui(f,y){return Qn(f),y=fi(f,y),f.g.has(y)}n.forEach=function(f,y){Qn(this),this.g.forEach(function(_,C){_.forEach(function($){f.call(y,$,C,this)},this)},this)},n.na=function(){Qn(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let C=0;C<y.length;C++){const $=f[C];for(let X=0;X<$.length;X++)_.push(y[C])}return _},n.V=function(f){Qn(this);let y=[];if(typeof f=="string")ui(this,f)&&(y=y.concat(this.g.get(fi(this,f))));else{f=Array.from(this.g.values());for(let _=0;_<f.length;_++)y=y.concat(f[_])}return y},n.set=function(f,y){return Qn(this),this.i=null,f=fi(this,f),ui(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},n.get=function(f,y){return f?(f=this.V(f),0<f.length?String(f[0]):y):y};function ci(f,y,_){oo(f,y),0<_.length&&(f.i=null,f.g.set(fi(f,y),j(_)),f.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var C=y[_];const X=encodeURIComponent(String(C)),fe=this.V(C);for(C=0;C<fe.length;C++){var $=X;fe[C]!==""&&($+="="+encodeURIComponent(String(fe[C]))),f.push($)}}return this.i=f.join("&")};function fi(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function Ll(f,y){y&&!f.j&&(Qn(f),f.i=null,f.g.forEach(function(_,C){var $=C.toLowerCase();C!=$&&(oo(this,C),ci(this,$,_))},f)),f.j=y}function jc(f,y){const _=new ts;if(d.Image){const C=new Image;C.onload=R(Yn,_,"TestLoadImage: loaded",!0,y,C),C.onerror=R(Yn,_,"TestLoadImage: error",!1,y,C),C.onabort=R(Yn,_,"TestLoadImage: abort",!1,y,C),C.ontimeout=R(Yn,_,"TestLoadImage: timeout",!1,y,C),d.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=f}else y(!1)}function ua(f,y){const _=new ts,C=new AbortController,$=setTimeout(()=>{C.abort(),Yn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:C.signal}).then(X=>{clearTimeout($),X.ok?Yn(_,"TestPingServer: ok",!0,y):Yn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout($),Yn(_,"TestPingServer: error",!1,y)})}function Yn(f,y,_,C,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),C(_)}catch{}}function ca(){this.g=new gn}function kr(f,y,_){const C=_||"";try{aa(f,function($,X){let fe=$;m($)&&(fe=dr($)),y.push(C+X+"="+encodeURIComponent(fe))})}catch($){throw y.push(C+"type="+encodeURIComponent("_badmap")),$}}function cs(f){this.l=f.Ub||null,this.j=f.eb||!1}I(cs,Cl),cs.prototype.g=function(){return new hi(this.l,this.j)},cs.prototype.i=function(f){return function(){return f}}({});function hi(f,y){dt.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(hi,dt),n=hi.prototype,n.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,Lr(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vr(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Lr(this)),this.g&&(this.readyState=3,Lr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pl(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Pl(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?Vr(this):Lr(this),this.readyState==3&&Pl(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,Vr(this))},n.Qa=function(f){this.g&&(this.response=f,Vr(this))},n.ga=function(){this.g&&Vr(this)};function Vr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Lr(f)}n.setRequestHeader=function(f,y){this.u.append(f,y)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,f.push(_[0]+": "+_[1]),_=y.next();return f.join(`\r
`)};function Lr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(hi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function jl(f){let y="";return ee(f,function(_,C){y+=C,y+=":",y+=_,y+=`\r
`}),y}function Gt(f,y,_){e:{for(C in _){var C=!1;break e}C=!0}C||(_=jl(_),typeof f=="string"?_!=null&&encodeURIComponent(String(_)):Je(f,y,_))}function nt(f){dt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(nt,dt);var lo=/^https?$/i,fa=["POST","PUT"];n=nt.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,y,_,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ia.g(),this.v=this.o?Oc(this.o):Oc(ia),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(X){Uc(this,X);return}if(f=_||"",_=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var $ in C)_.set($,C[$]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const X of C.keys())_.set(X,C.get(X));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(_.keys()).find(X=>X.toLowerCase()=="content-type"),$=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call(fa,y,void 0))||C||$||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,fe]of _)this.g.setRequestHeader(X,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ha(this),this.u=!0,this.g.send(f),this.u=!1}catch(X){Uc(this,X)}};function Uc(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,uo(f),Pr(f)}function uo(f){f.A||(f.A=!0,yt(f,"complete"),yt(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,yt(this,"complete"),yt(this,"abort"),Pr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pr(this,!0)),nt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?co(this):this.bb())},n.bb=function(){co(this)};function co(f){if(f.h&&typeof c<"u"&&(!f.v[1]||Xn(f)!=4||f.Z()!=2)){if(f.u&&Xn(f)==4)ra(f.Ea,0,f);else if(yt(f,"readystatechange"),Xn(f)==4){f.h=!1;try{const fe=f.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var C;if(C=fe===0){var $=String(f.D).match(Ml)[1]||null;!$&&d.self&&d.self.location&&($=d.self.location.protocol.slice(0,-1)),C=!lo.test($?$.toLowerCase():"")}_=C}if(_)yt(f,"complete"),yt(f,"success");else{f.m=6;try{var X=2<Xn(f)?f.g.statusText:""}catch{X=""}f.l=X+" ["+f.Z()+"]",uo(f)}}finally{Pr(f)}}}}function Pr(f,y){if(f.g){ha(f);const _=f.g,C=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||yt(f,"ready");try{_.onreadystatechange=C}catch{}}}function ha(f){f.I&&(d.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function Xn(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<Xn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),Fn(y)}};function Bc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Od(f){const y={};f=(f.g&&2<=Xn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<f.length;C++){if(G(f[C]))continue;var _=L(f[C]);const $=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const X=y[$]||[];y[$]=X,X.push(_)}k(y,function(C){return C.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function da(f,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[f]||y}function fo(f){this.Aa=0,this.i=[],this.j=new ts,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=da("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=da("baseRetryDelayMs",5e3,f),this.cb=da("retryDelaySeedMs",1e4,f),this.Wa=da("forwardChannelMaxRetries",2,f),this.wa=da("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Nl(f&&f.concurrentRequestLimit),this.Da=new ca,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=fo.prototype,n.la=8,n.G=1,n.connect=function(f,y,_,C){Ct(0),this.W=f,this.H=y||{},_&&C!==void 0&&(this.H.OSID=_,this.H.OAID=C),this.F=this.X,this.I=Kc(this,null,this.W),po(this)};function Ul(f){if(zc(f),f.G==3){var y=f.U++,_=wt(f.I);if(Je(_,"SID",f.K),Je(_,"RID",y),Je(_,"TYPE","terminate"),pa(f,_),y=new Dr(f,f.j,y),y.L=2,y.v=la(wt(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=Qc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),vt(y)}Gc(f)}function ho(f){f.g&&(ma(f),f.g.cancel(),f.g=null)}function zc(f){ho(f),f.u&&(d.clearTimeout(f.u),f.u=null),mo(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function po(f){if(!Dl(f.h)&&!f.s){f.s=!0;var y=f.Ga;he||P(),ce||(he(),ce=!0),we.add(y,f),f.B=0}}function Nd(f,y){return Vc(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=y.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=es(S(f.Ga,f,y),Hl(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const $=new Dr(this,this.j,f);let X=this.o;if(this.S&&(X?(X=O(X),M(X,this.S)):X=this.S),this.m!==null||this.O||($.H=X,X=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var C=this.i[_];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(y+=C,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Hc(this,$,y),_=wt(this.I),Je(_,"RID",f),Je(_,"CVER",22),this.D&&Je(_,"X-HTTP-Session-Id",this.D),pa(this,_),X&&(this.O?y="headers="+encodeURIComponent(String(jl(X)))+"&"+y:this.m&&Gt(_,this.m,X)),os(this.h,$),this.Ua&&Je(_,"TYPE","init"),this.P?(Je(_,"$req",y),Je(_,"SID","null"),$.T=!0,mr($,_,null)):mr($,_,y),this.G=2}}else this.G==3&&(f?Bl(this,f):this.i.length==0||Dl(this.h)||Bl(this))};function Bl(f,y){var _;y?_=y.l:_=f.U++;const C=wt(f.I);Je(C,"SID",f.K),Je(C,"RID",_),Je(C,"AID",f.T),pa(f,C),f.m&&f.o&&Gt(C,f.m,f.o),_=new Dr(f,f.j,_,f.B+1),f.m===null&&(_.H=f.o),y&&(f.i=y.D.concat(f.i)),y=Hc(f,_,1e3),_.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),os(f.h,_),mr(_,C,y)}function pa(f,y){f.H&&ee(f.H,function(_,C){Je(y,C,_)}),f.l&&aa({},function(_,C){Je(y,C,_)})}function Hc(f,y,_){_=Math.min(f.i.length,_);var C=f.l?S(f.l.Na,f.l,f):null;e:{var $=f.i;let X=-1;for(;;){const fe=["count="+_];X==-1?0<_?(X=$[0].g,fe.push("ofs="+X)):X=0:fe.push("ofs="+X);let Ke=!0;for(let jt=0;jt<_;jt++){let Qe=$[jt].g;const Kt=$[jt].map;if(Qe-=X,0>Qe)X=Math.max(0,$[jt].g-100),Ke=!1;else try{kr(Kt,fe,"req"+Qe+"_")}catch{C&&C(Kt)}}if(Ke){C=fe.join("&");break e}}}return f=f.i.splice(0,_),y.D=f,C}function qc(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;he||P(),ce||(he(),ce=!0),we.add(y,f),f.v=0}}function zl(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=es(S(f.Fa,f),Hl(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,Fc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=es(S(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ct(10),ho(this),Fc(this))};function ma(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function Fc(f){f.g=new Dr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var y=wt(f.qa);Je(y,"RID","rpc"),Je(y,"SID",f.K),Je(y,"AID",f.T),Je(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&Je(y,"TO",f.ja),Je(y,"TYPE","xmlhttp"),pa(f,y),f.m&&f.o&&Gt(y,f.m,f.o),f.L&&(f.g.I=f.L);var _=f.g;f=f.ia,_.L=1,_.v=la(wt(y)),_.m=null,_.P=!0,oi(_,f)}n.Za=function(){this.C!=null&&(this.C=null,ho(this),zl(this),Ct(19))};function mo(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function $c(f,y){var _=null;if(f.g==y){mo(f),ma(f),f.g=null;var C=2}else if(as(f.h,y))_=y.D,Gn(f.h,y),C=1;else return;if(f.G!=0){if(y.o)if(C==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var $=f.B;C=to(),yt(C,new Dc(C,_)),po(f)}else qc(f);else if($=y.s,$==3||$==0&&0<y.X||!(C==1&&Nd(f,y)||C==2&&zl(f)))switch(_&&0<_.length&&(y=f.h,y.i=y.i.concat(_)),$){case 1:di(f,5);break;case 4:di(f,10);break;case 3:di(f,6);break;default:di(f,2)}}}function Hl(f,y){let _=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(_*=2),_*y}function di(f,y){if(f.j.info("Error code "+y),y==2){var _=S(f.fb,f),C=f.Xa;const $=!C;C=new li(C||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ls(C,"https"),la(C),$?jc(C.toString(),_):ua(C.toString(),_)}else Ct(2);f.G=0,f.l&&f.l.sa(y),Gc(f),zc(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function Gc(f){if(f.G=0,f.ka=[],f.l){const y=yn(f.h);(y.length!=0||f.i.length!=0)&&(N(f.ka,y),N(f.ka,f.i),f.h.i.length=0,j(f.i),f.i.length=0),f.l.ra()}}function Kc(f,y,_){var C=_ instanceof li?wt(_):new li(_);if(C.g!="")y&&(C.g=y+"."+C.g),oa(C,C.s);else{var $=d.location;C=$.protocol,y=y?y+"."+$.hostname:$.hostname,$=+$.port;var X=new li(null);C&&ls(X,C),y&&(X.g=y),$&&oa(X,$),_&&(X.l=_),C=X}return _=f.D,y=f.ya,_&&y&&Je(C,_,y),Je(C,"VER",f.la),pa(f,C),C}function Qc(f,y,_){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Ca&&!f.pa?new nt(new cs({eb:_})):new nt(f.pa),y.Ha(f.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yc(){}n=Yc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function go(){}go.prototype.g=function(f,y){return new vn(f,y)};function vn(f,y){dt.call(this),this.g=new fo(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!G(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!G(y)&&(this.g.D=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new jr(this)}I(vn,dt),vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){Ul(this.g)},vn.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var _={};_.__data__=f,f=_}else this.u&&(_={},_.__data__=dr(f),f=_);y.i.push(new Ad(y.Ya++,f)),y.G==3&&po(y)},vn.prototype.N=function(){this.g.l=null,delete this.j,Ul(this.g),delete this.g,vn.aa.N.call(this)};function Xc(f){Wi.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const _ in y){f=_;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}I(Xc,Wi);function Wc(){pr.call(this),this.status=1}I(Wc,pr);function jr(f){this.g=f}I(jr,Yc),jr.prototype.ua=function(){yt(this.g,"a")},jr.prototype.ta=function(f){yt(this.g,new Xc(f))},jr.prototype.sa=function(f){yt(this.g,new Wc)},jr.prototype.ra=function(){yt(this.g,"b")},go.prototype.createWebChannel=go.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,iA=function(){return new go},rA=function(){return to()},nA=$n,gg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pt.NO_ERROR=0,Pt.TIMEOUT=8,Pt.HTTP_ERROR=6,fh=Pt,ai.COMPLETE="complete",tA=ai,Nc.EventType=Or,Or.OPEN="a",Or.CLOSE="b",Or.ERROR="c",Or.MESSAGE="d",dt.prototype.listen=dt.prototype.K,Pu=Nc,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,eA=nt}).apply(typeof eh<"u"?eh:typeof self<"u"?self:typeof window<"u"?window:{});const S0="@firebase/firestore",A0="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let El="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=new gy("@firebase/firestore");function Go(){return $a.logLevel}function pe(n,...e){if($a.logLevel<=ze.DEBUG){const t=e.map(_y);$a.debug(`Firestore (${El}): ${n}`,...t)}}function Hi(n,...e){if($a.logLevel<=ze.ERROR){const t=e.map(_y);$a.error(`Firestore (${El}): ${n}`,...t)}}function al(n,...e){if($a.logLevel<=ze.WARN){const t=e.map(_y);$a.warn(`Firestore (${El}): ${n}`,...t)}}function _y(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(n="Unexpected state"){const e=`FIRESTORE (${El}) INTERNAL ASSERTION FAILED: `+n;throw Hi(e),new Error(e)}function rt(n,e){n||xe()}function ke(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends ii{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(hn.UNAUTHENTICATED))}shutdown(){}}class qM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class FM{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){rt(this.o===void 0);let i=this.i;const a=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new Pi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Pi,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await a(this.currentUser)})},d=p=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Pi)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(rt(typeof i.accessToken=="string"),new sA(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string"),new hn(e)}}class $M{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class GM{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new $M(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class R0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KM{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,br(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){rt(this.o===void 0);const i=l=>{l.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,pe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new R0(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(rt(typeof t.token=="string"),this.R=t.token,new R0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=QM(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function Ge(n,e){return n<e?-1:n>e?1:0}function ol(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0=-62135596800,x0=1e6;class Ht{static now(){return Ht.fromMillis(Date.now())}static fromDate(e){return Ht.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*x0);return new Ht(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<C0)throw new ge(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/x0}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-C0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new Ht(0,0))}static max(){return new Ne(new Ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="__name__";class $r{constructor(e,t,i){t===void 0?t=0:t>e.length&&xe(),i===void 0?i=e.length-t:i>e.length-t&&xe(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return $r.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof $r?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=$r.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=$r.isNumericId(e),a=$r.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?$r.extractNumericId(e).compare($r.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hs.fromString(e.substring(4,e.length-2))}}class ht extends $r{construct(e,t,i){return new ht(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ge(ie.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new ht(t)}static emptyPath(){return new ht([])}}const YM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends $r{construct(e,t,i){return new on(e,t,i)}static isValidIdentifier(e){return YM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===I0}static keyField(){return new on([I0])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new ge(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new ge(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ge(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(l(),a++)}if(l(),c)throw new ge(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(t)}static emptyPath(){return new on([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(ht.fromString(e))}static fromName(e){return new be(ht.fromString(e).popFirst(5))}static empty(){return new be(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ht.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new ht(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic=-1;function XM(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Ne.fromTimestamp(i===1e9?new Ht(t+1,0):new Ht(t,i));return new Ks(a,be.empty(),e)}function WM(n){return new Ks(n.readTime,n.key,ic)}class Ks{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ks(Ne.min(),be.empty(),ic)}static max(){return new Ks(Ne.max(),be.empty(),ic)}}function ZM(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=be.comparator(n.documentKey,e.documentKey),t!==0?t:Ge(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ek{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tl(n){if(n.code!==ie.FAILED_PRECONDITION||n.message!==JM)throw n;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(t){return re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):re.reject(t)}static resolve(e){return new re((t,i)=>{t(e)})}static reject(e){return new re((t,i)=>{i(e)})}static waitFor(e){return new re((t,i)=>{let a=0,l=0,c=!1;e.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&t()},p=>i(p))}),c=!0,l===a&&t()})}static or(e){let t=re.resolve(!1);for(const i of e)t=t.next(a=>a?re.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,l)=>{i.push(t.call(this,a,l))}),this.waitFor(i)}static mapArray(e,t){return new re((i,a)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const m=p;t(e[m]).next(v=>{c[m]=v,++d,d===l&&i(c)},v=>a(v))}})}static doWhile(e,t){return new re((i,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):i()};l()})}}function tk(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function bl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}od.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey=-1;function ld(n){return n==null}function Ch(n){return n===0&&1/n==-1/0}function nk(n){return typeof n=="number"&&Number.isInteger(n)&&!Ch(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA="";function rk(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=O0(e)),e=ik(n.get(t),e);return O0(e)}function ik(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case oA:t+="";break;default:t+=l}}return t}function O0(n){return n+oA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ta(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function lA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,t){this.comparator=e,this.root=t||an.EMPTY}insert(e,t){return new bt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new th(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new th(this.root,e,this.comparator,!1)}getReverseIterator(){return new th(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new th(this.root,e,this.comparator,!0)}}class th{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??an.RED,this.left=a??an.EMPTY,this.right=l??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new an(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return an.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xe();const e=this.left.check();if(e!==this.right.check())throw xe();return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw xe()}get value(){throw xe()}get color(){throw xe()}get left(){throw xe()}get right(){throw xe()}copy(e,t,i,a,l){return this}insert(e,t,i){return new an(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new D0(this.data.getIterator())}getIteratorFrom(e){return new D0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new qt(this.comparator);return t.data=e,t}}class D0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new zn([])}unionWith(e){let t=new qt(on.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new zn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ol(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new uA("Invalid base64 string: "+l):l}}(e);return new ln(t)}static fromUint8Array(e){const t=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new ln(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const sk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qs(n){if(rt(!!n),typeof n=="string"){let e=0;const t=sk.exec(n);if(rt(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:It(n.seconds),nanos:It(n.nanos)}}function It(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ys(n){return typeof n=="string"?ln.fromBase64String(n):ln.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="server_timestamp",fA="__type__",hA="__previous_value__",dA="__local_write_time__";function Ty(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[fA])===null||t===void 0?void 0:t.stringValue)===cA}function ud(n){const e=n.mapValue.fields[hA];return Ty(e)?ud(e):e}function sc(n){const e=Qs(n.mapValue.fields[dA].timestampValue);return new Ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,t,i,a,l,c,d,p,m){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=m}}const xh="(default)";class ac{constructor(e,t){this.projectId=e,this.database=t||xh}static empty(){return new ac("","")}get isDefaultDatabase(){return this.database===xh}isEqual(e){return e instanceof ac&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="__type__",ok="__max__",nh={mapValue:{}},mA="__vector__",Ih="value";function Xs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ty(n)?4:uk(n)?9007199254740991:lk(n)?10:11:xe()}function ti(n,e){if(n===e)return!0;const t=Xs(n);if(t!==Xs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return sc(n).isEqual(sc(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Qs(a.timestampValue),d=Qs(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return Ys(a.bytesValue).isEqual(Ys(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return It(a.geoPointValue.latitude)===It(l.geoPointValue.latitude)&&It(a.geoPointValue.longitude)===It(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return It(a.integerValue)===It(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=It(a.doubleValue),d=It(l.doubleValue);return c===d?Ch(c)===Ch(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return ol(n.arrayValue.values||[],e.arrayValue.values||[],ti);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(N0(c)!==N0(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!ti(c[p],d[p])))return!1;return!0}(n,e);default:return xe()}}function oc(n,e){return(n.values||[]).find(t=>ti(t,e))!==void 0}function ll(n,e){if(n===e)return 0;const t=Xs(n),i=Xs(e);if(t!==i)return Ge(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ge(n.booleanValue,e.booleanValue);case 2:return function(l,c){const d=It(l.integerValue||l.doubleValue),p=It(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return M0(n.timestampValue,e.timestampValue);case 4:return M0(sc(n),sc(e));case 5:return Ge(n.stringValue,e.stringValue);case 6:return function(l,c){const d=Ys(l),p=Ys(c);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),p=c.split("/");for(let m=0;m<d.length&&m<p.length;m++){const v=Ge(d[m],p[m]);if(v!==0)return v}return Ge(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const d=Ge(It(l.latitude),It(c.latitude));return d!==0?d:Ge(It(l.longitude),It(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return k0(n.arrayValue,e.arrayValue);case 10:return function(l,c){var d,p,m,v;const b=l.fields||{},S=c.fields||{},R=(d=b[Ih])===null||d===void 0?void 0:d.arrayValue,I=(p=S[Ih])===null||p===void 0?void 0:p.arrayValue,j=Ge(((m=R==null?void 0:R.values)===null||m===void 0?void 0:m.length)||0,((v=I==null?void 0:I.values)===null||v===void 0?void 0:v.length)||0);return j!==0?j:k0(R,I)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===nh.mapValue&&c===nh.mapValue)return 0;if(l===nh.mapValue)return 1;if(c===nh.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),m=c.fields||{},v=Object.keys(m);p.sort(),v.sort();for(let b=0;b<p.length&&b<v.length;++b){const S=Ge(p[b],v[b]);if(S!==0)return S;const R=ll(d[p[b]],m[v[b]]);if(R!==0)return R}return Ge(p.length,v.length)}(n.mapValue,e.mapValue);default:throw xe()}}function M0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ge(n,e);const t=Qs(n),i=Qs(e),a=Ge(t.seconds,i.seconds);return a!==0?a:Ge(t.nanos,i.nanos)}function k0(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=ll(t[a],i[a]);if(l)return l}return Ge(t.length,i.length)}function ul(n){return yg(n)}function yg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Qs(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ys(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return be.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=yg(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${yg(t.fields[c])}`;return a+"}"}(n.mapValue):xe()}function hh(n){switch(Xs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ud(n);return e?16+hh(e):16;case 5:return 2*n.stringValue.length;case 6:return Ys(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+hh(l),0)}(n.arrayValue);case 10:case 11:return function(i){let a=0;return ta(i.fields,(l,c)=>{a+=l.length+hh(c)}),a}(n.mapValue);default:throw xe()}}function V0(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function vg(n){return!!n&&"integerValue"in n}function by(n){return!!n&&"arrayValue"in n}function L0(n){return!!n&&"nullValue"in n}function P0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function dh(n){return!!n&&"mapValue"in n}function lk(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[pA])===null||t===void 0?void 0:t.stringValue)===mA}function Fu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ta(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Fu(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Fu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function uk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===ok}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!dh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fu(t)}setAll(e){let t=on.emptyPath(),i={},a=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,a),i={},a=[],t=d.popLast()}c?i[d.lastSegment()]=Fu(c):a.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());dh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ti(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];dh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){ta(t,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new xn(Fu(this.value))}}function gA(n){const e=[];return ta(n.fields,(t,i)=>{const a=new on([t]);if(dh(i)){const l=gA(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,t,i,a,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new dn(e,0,Ne.min(),Ne.min(),Ne.min(),xn.empty(),0)}static newFoundDocument(e,t,i,a){return new dn(e,1,t,Ne.min(),i,a,0)}static newNoDocument(e,t){return new dn(e,2,t,Ne.min(),Ne.min(),xn.empty(),0)}static newUnknownDocument(e,t){return new dn(e,3,t,Ne.min(),Ne.min(),xn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,t){this.position=e,this.inclusive=t}}function j0(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?i=be.comparator(be.fromName(c.referenceValue),t.key):i=ll(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function U0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ti(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,t="asc"){this.field=e,this.dir=t}}function ck(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{}class kt extends yA{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new hk(e,t,i):t==="array-contains"?new mk(e,i):t==="in"?new gk(e,i):t==="not-in"?new yk(e,i):t==="array-contains-any"?new vk(e,i):new kt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new dk(e,i):new pk(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ll(t,this.value)):t!==null&&Xs(this.value)===Xs(t)&&this.matchesComparison(ll(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rr extends yA{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Rr(e,t)}matches(e){return vA(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function vA(n){return n.op==="and"}function _A(n){return fk(n)&&vA(n)}function fk(n){for(const e of n.filters)if(e instanceof Rr)return!1;return!0}function _g(n){if(n instanceof kt)return n.field.canonicalString()+n.op.toString()+ul(n.value);if(_A(n))return n.filters.map(e=>_g(e)).join(",");{const e=n.filters.map(t=>_g(t)).join(",");return`${n.op}(${e})`}}function EA(n,e){return n instanceof kt?function(i,a){return a instanceof kt&&i.op===a.op&&i.field.isEqual(a.field)&&ti(i.value,a.value)}(n,e):n instanceof Rr?function(i,a){return a instanceof Rr&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,c,d)=>l&&EA(c,a.filters[d]),!0):!1}(n,e):void xe()}function TA(n){return n instanceof kt?function(t){return`${t.field.canonicalString()} ${t.op} ${ul(t.value)}`}(n):n instanceof Rr?function(t){return t.op.toString()+" {"+t.getFilters().map(TA).join(" ,")+"}"}(n):"Filter"}class hk extends kt{constructor(e,t,i){super(e,t,i),this.key=be.fromName(i.referenceValue)}matches(e){const t=be.comparator(e.key,this.key);return this.matchesComparison(t)}}class dk extends kt{constructor(e,t){super(e,"in",t),this.keys=bA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class pk extends kt{constructor(e,t){super(e,"not-in",t),this.keys=bA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function bA(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>be.fromName(i.referenceValue))}class mk extends kt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return by(t)&&oc(t.arrayValue,this.value)}}class gk extends kt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&oc(this.value.arrayValue,t)}}class yk extends kt{constructor(e,t){super(e,"not-in",t)}matches(e){if(oc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!oc(this.value.arrayValue,t)}}class vk extends kt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!by(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>oc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,t=null,i=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.le=null}}function B0(n,e=null,t=[],i=[],a=null,l=null,c=null){return new _k(n,e,t,i,a,l,c)}function wy(n){const e=ke(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>_g(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),ld(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>ul(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>ul(i)).join(",")),e.le=t}return e.le}function Sy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!ck(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!EA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!U0(n.startAt,e.startAt)&&U0(n.endAt,e.endAt)}function Eg(n){return be.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,t=null,i=[],a=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Ek(n,e,t,i,a,l,c,d){return new Tc(n,e,t,i,a,l,c,d)}function Ay(n){return new Tc(n)}function z0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function wA(n){return n.collectionGroup!==null}function $u(n){const e=ke(n);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new qt(on.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(m=>{m.isInequality()&&(d=d.add(m.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new Nh(l,i))}),t.has(on.keyField().canonicalString())||e.he.push(new Nh(on.keyField(),i))}return e.he}function Xr(n){const e=ke(n);return e.Pe||(e.Pe=Tk(e,$u(n))),e.Pe}function Tk(n,e){if(n.limitType==="F")return B0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Nh(a.field,l)});const t=n.endAt?new Oh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Oh(n.startAt.position,n.startAt.inclusive):null;return B0(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Tg(n,e){const t=n.filters.concat([e]);return new Tc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function bg(n,e,t){return new Tc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function cd(n,e){return Sy(Xr(n),Xr(e))&&n.limitType===e.limitType}function SA(n){return`${wy(Xr(n))}|lt:${n.limitType}`}function Ko(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>TA(a)).join(", ")}]`),ld(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>ul(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>ul(a)).join(",")),`Target(${i})`}(Xr(n))}; limitType=${n.limitType})`}function fd(n,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):be.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,a){for(const l of $u(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(i,a){return!(i.startAt&&!function(c,d,p){const m=j0(c,d,p);return c.inclusive?m<=0:m<0}(i.startAt,$u(i),a)||i.endAt&&!function(c,d,p){const m=j0(c,d,p);return c.inclusive?m>=0:m>0}(i.endAt,$u(i),a))}(n,e)}function bk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function AA(n){return(e,t)=>{let i=!1;for(const a of $u(n)){const l=wk(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function wk(n,e,t){const i=n.field.isKeyField()?be.comparator(e.key,t.key):function(l,c,d){const p=c.data.field(l),m=d.data.field(l);return p!==null&&m!==null?ll(p,m):xe()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return xe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ta(this.inner,(t,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return lA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk=new bt(be.comparator);function qi(){return Sk}const RA=new bt(be.comparator);function ju(...n){let e=RA;for(const t of n)e=e.insert(t.key,t);return e}function CA(n){let e=RA;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function La(){return Gu()}function xA(){return Gu()}function Gu(){return new Za(n=>n.toString(),(n,e)=>n.isEqual(e))}const Ak=new bt(be.comparator),Rk=new qt(be.comparator);function He(...n){let e=Rk;for(const t of n)e=e.add(t);return e}const Ck=new qt(Ge);function xk(){return Ck}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ch(e)?"-0":e}}function IA(n){return{integerValue:""+n}}function Ik(n,e){return nk(e)?IA(e):Ry(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(){this._=void 0}}function Ok(n,e,t){return n instanceof Dh?function(a,l){const c={fields:{[fA]:{stringValue:cA},[dA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Ty(l)&&(l=ud(l)),l&&(c.fields[hA]=l),{mapValue:c}}(t,e):n instanceof lc?NA(n,e):n instanceof uc?DA(n,e):function(a,l){const c=OA(a,l),d=H0(c)+H0(a.Ie);return vg(c)&&vg(a.Ie)?IA(d):Ry(a.serializer,d)}(n,e)}function Nk(n,e,t){return n instanceof lc?NA(n,e):n instanceof uc?DA(n,e):t}function OA(n,e){return n instanceof Mh?function(i){return vg(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Dh extends hd{}class lc extends hd{constructor(e){super(),this.elements=e}}function NA(n,e){const t=MA(e);for(const i of n.elements)t.some(a=>ti(a,i))||t.push(i);return{arrayValue:{values:t}}}class uc extends hd{constructor(e){super(),this.elements=e}}function DA(n,e){let t=MA(e);for(const i of n.elements)t=t.filter(a=>!ti(a,i));return{arrayValue:{values:t}}}class Mh extends hd{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function H0(n){return It(n.integerValue||n.doubleValue)}function MA(n){return by(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Dk(n,e){return n.field.isEqual(e.field)&&function(i,a){return i instanceof lc&&a instanceof lc||i instanceof uc&&a instanceof uc?ol(i.elements,a.elements,ti):i instanceof Mh&&a instanceof Mh?ti(i.Ie,a.Ie):i instanceof Dh&&a instanceof Dh}(n.transform,e.transform)}class Mk{constructor(e,t){this.version=e,this.transformResults=t}}class Ar{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ar}static exists(e){return new Ar(void 0,e)}static updateTime(e){return new Ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ph(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class dd{}function kA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Cy(n.key,Ar.none()):new bc(n.key,n.data,Ar.none());{const t=n.data,i=xn.empty();let a=new qt(on.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new na(n.key,i,new zn(a.toArray()),Ar.none())}}function kk(n,e,t){n instanceof bc?function(a,l,c){const d=a.value.clone(),p=F0(a.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof na?function(a,l,c){if(!ph(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=F0(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(VA(a)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Ku(n,e,t,i){return n instanceof bc?function(l,c,d,p){if(!ph(l.precondition,c))return d;const m=l.value.clone(),v=$0(l.fieldTransforms,p,c);return m.setAll(v),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(n,e,t,i):n instanceof na?function(l,c,d,p){if(!ph(l.precondition,c))return d;const m=$0(l.fieldTransforms,p,c),v=c.data;return v.setAll(VA(l)),v.setAll(m),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(b=>b.field))}(n,e,t,i):function(l,c,d){return ph(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function Vk(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),l=OA(i.transform,a||null);l!=null&&(t===null&&(t=xn.empty()),t.set(i.field,l))}return t||null}function q0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&ol(i,a,(l,c)=>Dk(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class bc extends dd{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class na extends dd{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function VA(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function F0(n,e,t){const i=new Map;rt(n.length===t.length);for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,d=e.data.field(l.field);i.set(l.field,Nk(c,d,t[a]))}return i}function $0(n,e,t){const i=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);i.set(a.field,Ok(l,c,e))}return i}class Cy extends dd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Lk extends dd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&kk(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Ku(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Ku(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=xA();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const p=kA(c,d);p!==null&&i.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(Ne.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),He())}isEqual(e){return this.batchId===e.batchId&&ol(this.mutations,e.mutations,(t,i)=>q0(t,i))&&ol(this.baseMutations,e.baseMutations,(t,i)=>q0(t,i))}}class xy{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){rt(e.mutations.length===i.length);let a=function(){return Ak}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new xy(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt,Xe;function Bk(n){switch(n){case ie.OK:return xe();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return xe()}}function LA(n){if(n===void 0)return Hi("GRPC error has no .code"),ie.UNKNOWN;switch(n){case Mt.OK:return ie.OK;case Mt.CANCELLED:return ie.CANCELLED;case Mt.UNKNOWN:return ie.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return ie.INTERNAL;case Mt.UNAVAILABLE:return ie.UNAVAILABLE;case Mt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Mt.NOT_FOUND:return ie.NOT_FOUND;case Mt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Mt.ABORTED:return ie.ABORTED;case Mt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Mt.DATA_LOSS:return ie.DATA_LOSS;default:return xe()}}(Xe=Mt||(Mt={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk=new Hs([4294967295,4294967295],0);function G0(n){const e=zk().encode(n),t=new JS;return t.update(e),new Uint8Array(t.digest())}function K0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Hs([t,i],0),new Hs([a,l],0)]}class Iy{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Uu(`Invalid padding: ${t}`);if(i<0)throw new Uu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Uu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Uu(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Hs.fromNumber(this.Ee)}Ae(e,t,i){let a=e.add(t.multiply(Hs.fromNumber(i)));return a.compare(Hk)===1&&(a=new Hs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=G0(e),[i,a]=K0(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,a,l);if(!this.Re(c))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Iy(l,a,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.Ee===0)return;const t=G0(e),[i,a]=K0(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,a,l);this.Ve(c)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Uu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,wc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new pd(Ne.min(),a,new bt(Ge),qi(),He())}}class wc{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new wc(i,t,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,t,i,a){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=a}}class PA{constructor(e,t){this.targetId=e,this.ge=t}}class jA{constructor(e,t,i=ln.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class Q0{constructor(){this.pe=0,this.ye=Y0(),this.we=ln.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=He(),t=He(),i=He();return this.ye.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:xe()}}),new wc(this.we,this.be,e,t,i)}Me(){this.Se=!1,this.ye=Y0()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,rt(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class qk{constructor(e){this.ke=e,this.qe=new Map,this.Qe=qi(),this.$e=rh(),this.Ke=rh(),this.Ue=new bt(Ge)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:xe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,a)=>{this.Je(a)&&t(a)})}Ze(e){const t=e.targetId,i=e.ge.count,a=this.Xe(t);if(a){const l=a.target;if(Eg(l))if(i===0){const c=new be(l.path);this.ze(t,c,dn.newNoDocument(c,Ne.min()))}else rt(i===1);else{const c=this.et(t);if(c!==i){const d=this.tt(e),p=d?this.nt(d,e,c):1;if(p!==0){this.Ye(t);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,m)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=Ys(i).toUint8Array()}catch(p){if(p instanceof uA)return al("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Iy(c,a,l)}catch(p){return al(p instanceof Uu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Ee===0?null:d}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let a=0;return i.forEach(l=>{const c=this.ke.it(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,l,null),a++)}),a}ot(e){const t=new Map;this.qe.forEach((l,c)=>{const d=this.Xe(c);if(d){if(l.current&&Eg(d.target)){const p=new be(d.target.path);this._t(p).has(c)||this.ut(c,p)||this.ze(c,p,dn.newNoDocument(p,e))}l.ve&&(t.set(c,l.Fe()),l.Me())}});let i=He();this.Ke.forEach((l,c)=>{let d=!0;c.forEachWhile(p=>{const m=this.Xe(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(e));const a=new pd(e,t,this.Ue,this.Qe,i);return this.Qe=qi(),this.$e=rh(),this.Ke=rh(),this.Ue=new bt(Ge),a}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const a=this.He(e);this.ut(e,t)?a.xe(t,1):a.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Q0,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new qt(Ge),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new qt(Ge),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Q0),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function rh(){return new bt(be.comparator)}function Y0(){return new bt(be.comparator)}const Fk={asc:"ASCENDING",desc:"DESCENDING"},$k={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gk={and:"AND",or:"OR"};class Kk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function wg(n,e){return n.useProto3Json||ld(e)?e:{value:e}}function kh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function UA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Qk(n,e){return kh(n,e.toTimestamp())}function Wr(n){return rt(!!n),Ne.fromTimestamp(function(t){const i=Qs(t);return new Ht(i.seconds,i.nanos)}(n))}function Oy(n,e){return Sg(n,e).canonicalString()}function Sg(n,e){const t=function(a){return new ht(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function BA(n){const e=ht.fromString(n);return rt($A(e)),e}function Ag(n,e){return Oy(n.databaseId,e.path)}function Gm(n,e){const t=BA(e);if(t.get(1)!==n.databaseId.projectId)throw new ge(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ge(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new be(HA(t))}function zA(n,e){return Oy(n.databaseId,e)}function Yk(n){const e=BA(n);return e.length===4?ht.emptyPath():HA(e)}function Rg(n){return new ht(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function HA(n){return rt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function X0(n,e,t){return{name:Ag(n,e),fields:t.value.mapValue.fields}}function Xk(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:xe()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(m,v){return m.useProto3Json?(rt(v===void 0||typeof v=="string"),ln.fromBase64String(v||"")):(rt(v===void 0||v instanceof Buffer||v instanceof Uint8Array),ln.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(m){const v=m.code===void 0?ie.UNKNOWN:LA(m.code);return new ge(v,m.message||"")}(c);t=new jA(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Gm(n,i.document.name),l=Wr(i.document.updateTime),c=i.document.createTime?Wr(i.document.createTime):Ne.min(),d=new xn({mapValue:{fields:i.document.fields}}),p=dn.newFoundDocument(a,l,c,d),m=i.targetIds||[],v=i.removedTargetIds||[];t=new mh(m,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Gm(n,i.document),l=i.readTime?Wr(i.readTime):Ne.min(),c=dn.newNoDocument(a,l),d=i.removedTargetIds||[];t=new mh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Gm(n,i.document),l=i.removedTargetIds||[];t=new mh([],l,a,null)}else{if(!("filter"in e))return xe();{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new Uk(a,l),d=i.targetId;t=new PA(d,c)}}return t}function Wk(n,e){let t;if(e instanceof bc)t={update:X0(n,e.key,e.value)};else if(e instanceof Cy)t={delete:Ag(n,e.key)};else if(e instanceof na)t={update:X0(n,e.key,e.data),updateMask:aV(e.fieldMask)};else{if(!(e instanceof Lk))return xe();t={verify:Ag(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const d=c.transform;if(d instanceof Dh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof lc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof uc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Mh)return{fieldPath:c.field.canonicalString(),increment:d.Ie};throw xe()}(0,i))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:Qk(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:xe()}(n,e.precondition)),t}function Zk(n,e){return n&&n.length>0?(rt(e!==void 0),n.map(t=>function(a,l){let c=a.updateTime?Wr(a.updateTime):Wr(l);return c.isEqual(Ne.min())&&(c=Wr(l)),new Mk(c,a.transformResults||[])}(t,e))):[]}function Jk(n,e){return{documents:[zA(n,e.path)]}}function eV(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=zA(n,a);const l=function(m){if(m.length!==0)return FA(Rr.create(m,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(m){if(m.length!==0)return m.map(v=>function(S){return{field:Qo(S.field),direction:rV(S.dir)}}(v))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=wg(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ht:t,parent:a}}function tV(n){let e=Yk(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){rt(i===1);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(b){const S=qA(b);return S instanceof Rr&&_A(S)?S.getFilters():[S]}(t.where));let c=[];t.orderBy&&(c=function(b){return b.map(S=>function(I){return new Nh(Yo(I.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(S))}(t.orderBy));let d=null;t.limit&&(d=function(b){let S;return S=typeof b=="object"?b.value:b,ld(S)?null:S}(t.limit));let p=null;t.startAt&&(p=function(b){const S=!!b.before,R=b.values||[];return new Oh(R,S)}(t.startAt));let m=null;return t.endAt&&(m=function(b){const S=!b.before,R=b.values||[];return new Oh(R,S)}(t.endAt)),Ek(e,a,c,l,d,"F",p,m)}function nV(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function qA(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Yo(t.unaryFilter.field);return kt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Yo(t.unaryFilter.field);return kt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Yo(t.unaryFilter.field);return kt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Yo(t.unaryFilter.field);return kt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return xe()}}(n):n.fieldFilter!==void 0?function(t){return kt.create(Yo(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xe()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Rr.create(t.compositeFilter.filters.map(i=>qA(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return xe()}}(t.compositeFilter.op))}(n):xe()}function rV(n){return Fk[n]}function iV(n){return $k[n]}function sV(n){return Gk[n]}function Qo(n){return{fieldPath:n.canonicalString()}}function Yo(n){return on.fromServerFormat(n.fieldPath)}function FA(n){return n instanceof kt?function(t){if(t.op==="=="){if(P0(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NAN"}};if(L0(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(P0(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NOT_NAN"}};if(L0(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qo(t.field),op:iV(t.op),value:t.value}}}(n):n instanceof Rr?function(t){const i=t.getFilters().map(a=>FA(a));return i.length===1?i[0]:{compositeFilter:{op:sV(t.op),filters:i}}}(n):xe()}function aV(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function $A(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,t,i,a,l=Ne.min(),c=Ne.min(),d=ln.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Us(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e){this.Tt=e}}function lV(n){const e=tV({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?bg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(){this.Tn=new cV}addToCollectionParentIndex(e,t){return this.Tn.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(Ks.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(Ks.min())}updateCollectionGroup(e,t,i){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class cV{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new qt(ht.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new qt(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GA=41943040;class Rn{static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(GA,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new cl(0)}static Un(){return new cl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="LruGarbageCollector",fV=1048576;function J0([n,e],[t,i]){const a=Ge(n,t);return a===0?Ge(e,i):a}class hV{constructor(e){this.Hn=e,this.buffer=new qt(J0),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();J0(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class dV{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){pe(Z0,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){bl(t)?pe(Z0,"Ignoring IndexedDB error during garbage collection: ",t):await Tl(t)}await this.er(3e5)})}}class pV{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return re.resolve(od.ae);const i=new hV(t);return this.tr.forEachTarget(e,a=>i.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>i.Zn(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(W0)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),W0):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,a,l,c,d,p,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(e,a))).next(b=>(i=b,d=Date.now(),this.removeTargets(e,i,t))).next(b=>(l=b,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(b=>(m=Date.now(),Go()<=ze.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${b} documents in `+(m-p)+`ms
Total Duration: ${m-v}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b})))}}function mV(n,e){return new pV(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(){this.changes=new Za(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?re.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(i!==null&&Ku(i.mutation,a,zn.empty(),Ht.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,He()).next(()=>i))}getLocalViewOfDocuments(e,t,i=He()){const a=La();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(l=>{let c=ju();return l.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=La();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,He()))}populateOverlays(e,t,i){const a=[];return i.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,a){let l=qi();const c=Gu(),d=function(){return Gu()}();return t.forEach((p,m)=>{const v=i.get(m.key);a.has(m.key)&&(v===void 0||v.mutation instanceof na)?l=l.insert(m.key,m):v!==void 0?(c.set(m.key,v.mutation.getFieldMask()),Ku(v.mutation,m,v.mutation.getFieldMask(),Ht.now())):c.set(m.key,zn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((m,v)=>c.set(m,v)),t.forEach((m,v)=>{var b;return d.set(m,new yV(v,(b=c.get(m))!==null&&b!==void 0?b:null))}),d))}recalculateAndSaveOverlays(e,t){const i=Gu();let a=new bt((c,d)=>c-d),l=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(p=>{const m=t.get(p);if(m===null)return;let v=i.get(p)||zn.empty();v=d.applyToLocalView(m,v),i.set(p,v);const b=(a.get(d.batchId)||He()).add(p);a=a.insert(d.batchId,b)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),m=p.key,v=p.value,b=xA();v.forEach(S=>{if(!l.has(S)){const R=kA(t.get(S),i.get(S));R!==null&&b.set(S,R),l=l.add(S)}}),c.push(this.documentOverlayCache.saveOverlays(e,m,b))}return re.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return function(c){return be.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):wA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):re.resolve(La());let d=ic,p=l;return c.next(m=>re.forEach(m,(v,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),l.get(v)?re.resolve():this.remoteDocumentCache.getEntry(e,v).next(S=>{p=p.insert(v,S)}))).next(()=>this.populateOverlays(e,m,l)).next(()=>this.computeViews(e,p,m,He())).next(v=>({batchId:d,changes:CA(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new be(t)).next(i=>{let a=ju();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let c=ju();return this.indexManager.getCollectionParents(e,l).next(d=>re.forEach(d,p=>{const m=function(b,S){return new Tc(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,i,a).next(v=>{v.forEach((b,S)=>{c=c.insert(b,S)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a))).next(c=>{l.forEach((p,m)=>{const v=m.getKey();c.get(v)===null&&(c=c.insert(v,dn.newInvalidDocument(v)))});let d=ju();return c.forEach((p,m)=>{const v=l.get(p);v!==void 0&&Ku(v.mutation,m,zn.empty(),Ht.now()),fd(t,m)&&(d=d.insert(p,m))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return re.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Wr(a.createTime)}}(t)),re.resolve()}getNamedQuery(e,t){return re.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(a){return{name:a.name,query:lV(a.bundledQuery),readTime:Wr(a.readTime)}}(t)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(){this.overlays=new bt(be.comparator),this.Rr=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const i=La();return re.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,l)=>{this.Et(e,t,l)}),re.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Rr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(i)),re.resolve()}getOverlaysForCollection(e,t,i){const a=La(),l=t.length+1,c=new be(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,m=p.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===l&&p.largestBatchId>i&&a.set(p.getKey(),p)}return re.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new bt((m,v)=>m-v);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>i){let v=l.get(m.largestBatchId);v===null&&(v=La(),l=l.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const d=La(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((m,v)=>d.set(m,v)),!(d.size()>=a)););return re.resolve(d)}Et(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Rr.get(a.largestBatchId).delete(i.key);this.Rr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new jk(t,i));let l=this.Rr.get(t);l===void 0&&(l=He(),this.Rr.set(t,l)),this.Rr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(){this.Vr=new qt(Wt.mr),this.gr=new qt(Wt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new Wt(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new Wt(e,t))}br(e,t){e.forEach(i=>this.removeReference(i,t))}Sr(e){const t=new be(new ht([])),i=new Wt(t,e),a=new Wt(t,e+1),l=[];return this.gr.forEachInRange([i,a],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new be(new ht([])),i=new Wt(t,e),a=new Wt(t,e+1);let l=He();return this.gr.forEachInRange([i,a],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Wt(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Wt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return be.comparator(e.key,t.key)||Ge(e.Cr,t.Cr)}static pr(e,t){return Ge(e.Cr,t.Cr)||be.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new qt(Wt.mr)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Pk(l,t,i,a);this.mutationQueue.push(c);for(const d of a)this.Mr=this.Mr.add(new Wt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return re.resolve(c)}lookupMutationBatch(e,t){return re.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.Nr(i),l=a<0?0:a;return re.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?Ey:this.Fr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Wt(t,0),a=new Wt(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([i,a],c=>{const d=this.Or(c.Cr);l.push(d)}),re.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new qt(Ge);return t.forEach(a=>{const l=new Wt(a,0),c=new Wt(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],d=>{i=i.add(d.Cr)})}),re.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;be.isDocumentKey(l)||(l=l.child(""));const c=new Wt(new be(l),0);let d=new qt(Ge);return this.Mr.forEachWhile(p=>{const m=p.key.path;return!!i.isPrefixOf(m)&&(m.length===a&&(d=d.add(p.Cr)),!0)},c),re.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(i=>{const a=this.Or(i);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){rt(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return re.forEach(t.mutations,a=>{const l=new Wt(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new Wt(t,0),a=this.Mr.firstAfterOrEqual(i);return re.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e){this.kr=e,this.docs=function(){return new bt(be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,c=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return re.resolve(i?i.document.mutableCopy():dn.newInvalidDocument(t))}getEntries(e,t){let i=qi();return t.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():dn.newInvalidDocument(a))}),re.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=qi();const c=t.path,d=new be(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:m,value:{document:v}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||ZM(WM(v),i)<=0||(a.has(v.key)||fd(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return re.resolve(l)}getAllFromCollectionGroup(e,t,i,a){xe()}qr(e,t){return re.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new SV(this)}getSize(e){return re.resolve(this.size)}}class SV extends gV{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(i)}),re.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e){this.persistence=e,this.Qr=new Za(t=>wy(t),Sy),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Ny,this.targetCount=0,this.Ur=cl.Kn()}forEachTarget(e,t){return this.Qr.forEach((i,a)=>t(a)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),re.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new cl(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.zn(t),re.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.Qr.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),re.waitFor(l).next(()=>a)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return re.resolve(i)}addMatchingKeys(e,t,i){return this.Kr.yr(t,i),re.resolve()}removeMatchingKeys(e,t,i){this.Kr.br(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),re.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),re.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Kr.vr(t);return re.resolve(i)}containsKey(e,t){return re.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new od(0),this.zr=!1,this.zr=!0,this.jr=new TV,this.referenceDelegate=e(this),this.Hr=new AV(this),this.indexManager=new uV,this.remoteDocumentCache=function(a){return new wV(a)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new oV(t),this.Yr=new _V(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new EV,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new bV(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){pe("MemoryPersistence","Starting transaction:",e);const a=new RV(this.Gr.next());return this.referenceDelegate.Zr(),i(a).next(l=>this.referenceDelegate.Xr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}ei(e,t){return re.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class RV extends ek{constructor(e){super(),this.currentSequenceNumber=e}}class Dy{constructor(e){this.persistence=e,this.ti=new Ny,this.ni=null}static ri(e){return new Dy(e)}get ii(){if(this.ni)return this.ni;throw xe()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),re.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),re.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(a=>this.ii.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.ii.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.ii,i=>{const a=be.fromPath(i);return this.si(e,a).next(l=>{l||t.removeEntry(a,Ne.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return re.or([()=>re.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Vh{constructor(e,t){this.persistence=e,this.oi=new Za(i=>rk(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=mV(this,t)}static ri(e,t){return new Vh(e,t)}Zr(){}Xr(e){return re.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return re.forEach(this.oi,(i,a)=>this.ar(e,i,a).next(l=>l?re.resolve():t(a)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.qr(e,c=>this.ar(e,c,t).next(d=>{d||(i++,l.removeEntry(c,Ne.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),re.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),re.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),re.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=hh(e.data.value)),t}ar(e,t,i){return re.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.oi.get(t);return re.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=a}static Yi(e,t){let i=He(),a=He();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new My(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return b2()?8:tk(mn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.rs(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(e,t,a,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new CV;return this._s(e,t,c).next(d=>{if(l.result=d,this.Xi)return this.us(e,t,c,d.size)})}).next(()=>l.result)}us(e,t,i,a){return i.documentReadCount<this.es?(Go()<=ze.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Ko(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),re.resolve()):(Go()<=ze.DEBUG&&pe("QueryEngine","Query:",Ko(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ts*a?(Go()<=ze.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Ko(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xr(t))):re.resolve())}rs(e,t){if(z0(t))return re.resolve(null);let i=Xr(t);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=bg(t,null,"F"),i=Xr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=He(...l);return this.ns.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const m=this.cs(t,d);return this.ls(t,m,c,p.readTime)?this.rs(e,bg(t,null,"F")):this.hs(e,m,t,p)}))})))}ss(e,t,i,a){return z0(t)||a.isEqual(Ne.min())?re.resolve(null):this.ns.getDocuments(e,i).next(l=>{const c=this.cs(t,l);return this.ls(t,c,i,a)?re.resolve(null):(Go()<=ze.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ko(t)),this.hs(e,c,t,XM(a,ic)).next(d=>d))})}cs(e,t){let i=new qt(AA(e));return t.forEach((a,l)=>{fd(e,l)&&(i=i.add(l))}),i}ls(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}_s(e,t,i){return Go()<=ze.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Ko(t)),this.ns.getDocumentsMatchingQuery(e,t,Ks.min(),i)}hs(e,t,i,a){return this.ns.getDocumentsMatchingQuery(e,i,a).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky="LocalStore",IV=3e8;class OV{constructor(e,t,i,a){this.persistence=e,this.Ps=t,this.serializer=a,this.Ts=new bt(Ge),this.Is=new Za(l=>wy(l),Sy),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vV(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function NV(n,e,t,i){return new OV(n,e,t,i)}async function QA(n,e){const t=ke(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],d=[];let p=He();for(const m of a){c.push(m.batchId);for(const v of m.mutations)p=p.add(v.key)}for(const m of l){d.push(m.batchId);for(const v of m.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(i,p).next(m=>({Rs:m,removedBatchIds:c,addedBatchIds:d}))})})}function DV(n,e){const t=ke(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(d,p,m,v){const b=m.batch,S=b.keys();let R=re.resolve();return S.forEach(I=>{R=R.next(()=>v.getEntry(p,I)).next(j=>{const N=m.docVersions.get(I);rt(N!==null),j.version.compareTo(N)<0&&(b.applyToRemoteDocument(j,m),j.isValidDocument()&&(j.setReadTime(m.commitVersion),v.addEntry(j)))})}),R.next(()=>d.mutationQueue.removeMutationBatch(p,b))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let p=He();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(p=p.add(d.batch.mutations[m].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}function YA(n){const e=ke(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function MV(n,e){const t=ke(n),i=e.snapshotVersion;let a=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.ds.newChangeBuffer({trackRemovals:!0});a=t.Ts;const d=[];e.targetChanges.forEach((v,b)=>{const S=a.get(b);if(!S)return;d.push(t.Hr.removeMatchingKeys(l,v.removedDocuments,b).next(()=>t.Hr.addMatchingKeys(l,v.addedDocuments,b)));let R=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?R=R.withResumeToken(ln.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):v.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(v.resumeToken,i)),a=a.insert(b,R),function(j,N,B){return j.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=IV?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(S,R,v)&&d.push(t.Hr.updateTargetData(l,R))});let p=qi(),m=He();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),d.push(kV(l,c,e.documentUpdates).next(v=>{p=v.Vs,m=v.fs})),!i.isEqual(Ne.min())){const v=t.Hr.getLastRemoteSnapshotVersion(l).next(b=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(v)}return re.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,m)).next(()=>p)}).then(l=>(t.Ts=a,l))}function kV(n,e,t){let i=He(),a=He();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=qi();return t.forEach((d,p)=>{const m=l.get(d);p.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(d)),p.isNoDocument()&&p.version.isEqual(Ne.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):pe(ky,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",p.version)}),{Vs:c,fs:a}})}function VV(n,e){const t=ke(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Ey),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function LV(n,e){const t=ke(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.Hr.getTargetData(i,e).next(l=>l?(a=l,re.resolve(a)):t.Hr.allocateTargetId(i).next(c=>(a=new Us(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.Ts.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function Cg(n,e,t){const i=ke(n),a=i.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!bl(c))throw c;pe(ky,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ts=i.Ts.remove(e),i.Is.delete(a.target)}function eb(n,e,t){const i=ke(n);let a=Ne.min(),l=He();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,m,v){const b=ke(p),S=b.Is.get(v);return S!==void 0?re.resolve(b.Ts.get(S)):b.Hr.getTargetData(m,v)}(i,c,Xr(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(c,d.targetId).next(p=>{l=p})}).next(()=>i.Ps.getDocumentsMatchingQuery(c,e,t?a:Ne.min(),t?l:He())).next(d=>(PV(i,bk(e),d),{documents:d,gs:l})))}function PV(n,e,t){let i=n.Es.get(e)||Ne.min();t.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Es.set(e,i)}class tb{constructor(){this.activeTargetIds=xk()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jV{constructor(){this.ho=new tb,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new tb,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb="ConnectivityMonitor";class rb{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){pe(nb,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){pe(nb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ih=null;function xg(){return ih===null?ih=function(){return 268435456+Math.round(2147483648*Math.random())}():ih++,"0x"+ih.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="RestConnection",BV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zV{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${a}`,this.wo=this.databaseId.database===xh?`project_id=${i}`:`project_id=${i}&database_id=${a}`}bo(e,t,i,a,l){const c=xg(),d=this.So(e,t.toUriEncodedString());pe(Km,`Sending RPC '${e}' ${c}:`,d,i);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,a,l),this.vo(e,d,p,i).then(m=>(pe(Km,`Received RPC '${e}' ${c}: `,m),m),m=>{throw al(Km,`RPC '${e}' ${c} failed with error: `,m,"url: ",d,"request:",i),m})}Co(e,t,i,a,l,c){return this.bo(e,t,i,a,l)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+El}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}So(e,t){const i=BV[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn="WebChannelConnection";class qV extends zV{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,a){const l=xg();return new Promise((c,d)=>{const p=new eA;p.setWithCredentials(!0),p.listenOnce(tA.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case fh.NO_ERROR:const v=p.getResponseJson();pe(fn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),c(v);break;case fh.TIMEOUT:pe(fn,`RPC '${e}' ${l} timed out`),d(new ge(ie.DEADLINE_EXCEEDED,"Request time out"));break;case fh.HTTP_ERROR:const b=p.getStatus();if(pe(fn,`RPC '${e}' ${l} failed with status:`,b,"response text:",p.getResponseText()),b>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const R=S==null?void 0:S.error;if(R&&R.status&&R.message){const I=function(N){const B=N.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(B)>=0?B:ie.UNKNOWN}(R.status);d(new ge(I,R.message))}else d(new ge(ie.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new ge(ie.UNAVAILABLE,"Connection failed."));break;default:xe()}}finally{pe(fn,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(a);pe(fn,`RPC '${e}' ${l} sending request:`,a),p.send(t,"POST",m,i,15)})}Wo(e,t,i){const a=xg(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=iA(),d=rA(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const v=l.join("");pe(fn,`Creating RPC '${e}' stream ${a}: ${v}`,p);const b=c.createWebChannel(v,p);let S=!1,R=!1;const I=new HV({Fo:N=>{R?pe(fn,`Not sending because RPC '${e}' stream ${a} is closed:`,N):(S||(pe(fn,`Opening RPC '${e}' stream ${a} transport.`),b.open(),S=!0),pe(fn,`RPC '${e}' stream ${a} sending:`,N),b.send(N))},Mo:()=>b.close()}),j=(N,B,G)=>{N.listen(B,q=>{try{G(q)}catch(Y){setTimeout(()=>{throw Y},0)}})};return j(b,Pu.EventType.OPEN,()=>{R||(pe(fn,`RPC '${e}' stream ${a} transport opened.`),I.Qo())}),j(b,Pu.EventType.CLOSE,()=>{R||(R=!0,pe(fn,`RPC '${e}' stream ${a} transport closed`),I.Ko())}),j(b,Pu.EventType.ERROR,N=>{R||(R=!0,al(fn,`RPC '${e}' stream ${a} transport errored:`,N),I.Ko(new ge(ie.UNAVAILABLE,"The operation could not be completed")))}),j(b,Pu.EventType.MESSAGE,N=>{var B;if(!R){const G=N.data[0];rt(!!G);const q=G,Y=(q==null?void 0:q.error)||((B=q[0])===null||B===void 0?void 0:B.error);if(Y){pe(fn,`RPC '${e}' stream ${a} received error:`,Y);const W=Y.status;let ee=function(x){const M=Mt[x];if(M!==void 0)return LA(M)}(W),k=Y.message;ee===void 0&&(ee=ie.INTERNAL,k="Unknown error status: "+W+" with message "+Y.message),R=!0,I.Ko(new ge(ee,k)),b.close()}else pe(fn,`RPC '${e}' stream ${a} received:`,G),I.Uo(G)}}),j(d,nA.STAT_EVENT,N=>{N.stat===gg.PROXY?pe(fn,`RPC '${e}' stream ${a} detected buffering proxy`):N.stat===gg.NOPROXY&&pe(fn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{I.$o()},0),I}}function Qm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(n){return new Kk(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,t,i=1e3,a=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=a,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),a=Math.max(0,t-i);a>0&&pe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="PersistentStream";class WA{constructor(e,t,i,a,l,c,d,p){this.Ti=e,this.n_=i,this.r_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new XA(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(Hi(t.toString()),Hi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.i_===t&&this.V_(i,a)},i=>{e(()=>{const a=new ge(ie.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(a)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{i(()=>this.m_(a))}),this.stream.onMessage(a=>{i(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return pe(ib,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(pe(ib,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FV extends WA{constructor(e,t,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=Xk(this.serializer,e),i=function(l){if(!("targetChange"in l))return Ne.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ne.min():c.readTime?Wr(c.readTime):Ne.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=Rg(this.serializer),t.addTarget=function(l,c){let d;const p=c.target;if(d=Eg(p)?{documents:Jk(l,p)}:{query:eV(l,p).ht},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=UA(l,c.resumeToken);const m=wg(l,c.expectedCount);m!==null&&(d.expectedCount=m)}else if(c.snapshotVersion.compareTo(Ne.min())>0){d.readTime=kh(l,c.snapshotVersion.toTimestamp());const m=wg(l,c.expectedCount);m!==null&&(d.expectedCount=m)}return d}(this.serializer,e);const i=nV(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=Rg(this.serializer),t.removeTarget=e,this.I_(t)}}class $V extends WA{constructor(e,t,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return rt(!!e.streamToken),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){rt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=Zk(e.writeResults,e.commitTime),i=Wr(e.commitTime);return this.listener.v_(i,t)}C_(){const e={};e.database=Rg(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Wk(this.serializer,i))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{}class KV extends GV{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new ge(ie.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.bo(e,Sg(t,i),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ge(ie.UNKNOWN,l.toString())})}Co(e,t,i,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Co(e,Sg(t,i),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ge(ie.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class QV{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Hi(t),this.N_=!1):pe("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga="RemoteStore";class YV{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{i.enqueueAndForget(async()=>{Ja(this)&&(pe(Ga,"Restarting streams for network reachability change."),await async function(p){const m=ke(p);m.W_.add(4),await Sc(m),m.j_.set("Unknown"),m.W_.delete(4),await gd(m)}(this))})}),this.j_=new QV(i,a)}}async function gd(n){if(Ja(n))for(const e of n.G_)await e(!0)}async function Sc(n){for(const e of n.G_)await e(!1)}function ZA(n,e){const t=ke(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),jy(t)?Py(t):wl(t).c_()&&Ly(t,e))}function Vy(n,e){const t=ke(n),i=wl(t);t.U_.delete(e),i.c_()&&JA(t,e),t.U_.size===0&&(i.c_()?i.P_():Ja(t)&&t.j_.set("Unknown"))}function Ly(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}wl(n).y_(e)}function JA(n,e){n.H_.Ne(e),wl(n).w_(e)}function Py(n){n.H_=new qk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),wl(n).start(),n.j_.B_()}function jy(n){return Ja(n)&&!wl(n).u_()&&n.U_.size>0}function Ja(n){return ke(n).W_.size===0}function eR(n){n.H_=void 0}async function XV(n){n.j_.set("Online")}async function WV(n){n.U_.forEach((e,t)=>{Ly(n,e)})}async function ZV(n,e){eR(n),jy(n)?(n.j_.q_(e),Py(n)):n.j_.set("Unknown")}async function JV(n,e,t){if(n.j_.set("Online"),e instanceof jA&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a.U_.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.U_.delete(d),a.H_.removeTarget(d))}(n,e)}catch(i){pe(Ga,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Lh(n,i)}else if(e instanceof mh?n.H_.We(e):e instanceof PA?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Ne.min()))try{const i=await YA(n.localStore);t.compareTo(i)>=0&&await function(l,c){const d=l.H_.ot(c);return d.targetChanges.forEach((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.U_.get(m);v&&l.U_.set(m,v.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,m)=>{const v=l.U_.get(p);if(!v)return;l.U_.set(p,v.withResumeToken(ln.EMPTY_BYTE_STRING,v.snapshotVersion)),JA(l,p);const b=new Us(v.target,p,m,v.sequenceNumber);Ly(l,b)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){pe(Ga,"Failed to raise snapshot:",i),await Lh(n,i)}}async function Lh(n,e,t){if(!bl(e))throw e;n.W_.add(1),await Sc(n),n.j_.set("Offline"),t||(t=()=>YA(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{pe(Ga,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await gd(n)})}function tR(n,e){return e().catch(t=>Lh(n,t,e))}async function yd(n){const e=ke(n),t=Ws(e);let i=e.K_.length>0?e.K_[e.K_.length-1].batchId:Ey;for(;eL(e);)try{const a=await VV(e.localStore,i);if(a===null){e.K_.length===0&&t.P_();break}i=a.batchId,tL(e,a)}catch(a){await Lh(e,a)}nR(e)&&rR(e)}function eL(n){return Ja(n)&&n.K_.length<10}function tL(n,e){n.K_.push(e);const t=Ws(n);t.c_()&&t.b_&&t.S_(e.mutations)}function nR(n){return Ja(n)&&!Ws(n).u_()&&n.K_.length>0}function rR(n){Ws(n).start()}async function nL(n){Ws(n).C_()}async function rL(n){const e=Ws(n);for(const t of n.K_)e.S_(t.mutations)}async function iL(n,e,t){const i=n.K_.shift(),a=xy.from(i,e,t);await tR(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await yd(n)}async function sL(n,e){e&&Ws(n).b_&&await async function(i,a){if(function(c){return Bk(c)&&c!==ie.ABORTED}(a.code)){const l=i.K_.shift();Ws(i).h_(),await tR(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await yd(i)}}(n,e),nR(n)&&rR(n)}async function sb(n,e){const t=ke(n);t.asyncQueue.verifyOperationInProgress(),pe(Ga,"RemoteStore received new credentials");const i=Ja(t);t.W_.add(3),await Sc(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await gd(t)}async function aL(n,e){const t=ke(n);e?(t.W_.delete(2),await gd(t)):e||(t.W_.add(2),await Sc(t),t.j_.set("Unknown"))}function wl(n){return n.J_||(n.J_=function(t,i,a){const l=ke(t);return l.M_(),new FV(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{xo:XV.bind(null,n),No:WV.bind(null,n),Lo:ZV.bind(null,n),p_:JV.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),jy(n)?Py(n):n.j_.set("Unknown")):(await n.J_.stop(),eR(n))})),n.J_}function Ws(n){return n.Y_||(n.Y_=function(t,i,a){const l=ke(t);return l.M_(),new $V(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:nL.bind(null,n),Lo:sL.bind(null,n),D_:rL.bind(null,n),v_:iL.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await yd(n)):(await n.Y_.stop(),n.K_.length>0&&(pe(Ga,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Pi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const c=Date.now()+i,d=new Uy(e,t,c,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function By(n,e){if(Hi("AsyncQueue",`${e}: ${n}`),bl(n))return new ge(ie.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{static emptySet(e){return new Zo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||be.comparator(t.key,i.key):(t,i)=>be.comparator(t.key,i.key),this.keyedMap=ju(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Zo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Zo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(){this.Z_=new bt(be.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):xe():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class fl{constructor(e,t,i,a,l,c,d,p,m){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,t,i,a,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new fl(e,t,Zo.emptySet(t),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class lL{constructor(){this.queries=ob(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const a=ke(t),l=a.queries;a.queries=ob(),l.forEach((c,d)=>{for(const p of d.ta)p.onError(i)})})(this,new ge(ie.ABORTED,"Firestore shutting down"))}}function ob(){return new Za(n=>SA(n),cd)}async function iR(n,e){const t=ke(n);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.na()&&e.ra()&&(i=2):(l=new oL,i=e.ra()?0:1);try{switch(i){case 0:l.ea=await t.onListen(a,!0);break;case 1:l.ea=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=By(c,`Initialization of query '${Ko(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&zy(t)}async function sR(n,e){const t=ke(n),i=e.query;let a=3;const l=t.queries.get(i);if(l){const c=l.ta.indexOf(e);c>=0&&(l.ta.splice(c,1),l.ta.length===0?a=e.ra()?0:1:!l.na()&&e.ra()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function uL(n,e){const t=ke(n);let i=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.ta)d.oa(a)&&(i=!0);c.ea=a}}i&&zy(t)}function cL(n,e,t){const i=ke(n),a=i.queries.get(e);if(a)for(const l of a.ta)l.onError(t);i.queries.delete(e)}function zy(n){n.ia.forEach(e=>{e.next()})}var Ig,lb;(lb=Ig||(Ig={}))._a="default",lb.Cache="cache";class aR{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new fl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=fl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Ig.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.key=e}}class lR{constructor(e){this.key=e}}class fL{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=He(),this.mutatedKeys=He(),this.ya=AA(e),this.wa=new Zo(this.ya)}get ba(){return this.fa}Sa(e,t){const i=t?t.Da:new ab,a=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((v,b)=>{const S=a.get(v),R=fd(this.query,b)?b:null,I=!!S&&this.mutatedKeys.has(S.key),j=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let N=!1;S&&R?S.data.isEqual(R.data)?I!==j&&(i.track({type:3,doc:R}),N=!0):this.va(S,R)||(i.track({type:2,doc:R}),N=!0,(p&&this.ya(R,p)>0||m&&this.ya(R,m)<0)&&(d=!0)):!S&&R?(i.track({type:0,doc:R}),N=!0):S&&!R&&(i.track({type:1,doc:S}),N=!0,(p||m)&&(d=!0)),N&&(R?(c=c.add(R),l=j?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{wa:c,Da:i,ls:d,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((v,b)=>function(R,I){const j=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe()}};return j(R)-j(I)}(v.type,b.type)||this.ya(v.doc,b.doc)),this.Ca(i),a=a!=null&&a;const d=t&&!a?this.Fa():[],p=this.pa.size===0&&this.current&&!a?1:0,m=p!==this.ga;return this.ga=p,c.length!==0||m?{snapshot:new fl(this.query,e.wa,l,c,e.mutatedKeys,p===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new ab,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=He(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new lR(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new oR(i))}),t}Oa(e){this.fa=e.gs,this.pa=He();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return fl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Hy="SyncEngine";class hL{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class dL{constructor(e){this.key=e,this.Ba=!1}}class pL{constructor(e,t,i,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new Za(d=>SA(d),cd),this.qa=new Map,this.Qa=new Set,this.$a=new bt(be.comparator),this.Ka=new Map,this.Ua=new Ny,this.Wa={},this.Ga=new Map,this.za=cl.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function mL(n,e,t=!0){const i=pR(n);let a;const l=i.ka.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Na()):a=await uR(i,e,t,!0),a}async function gL(n,e){const t=pR(n);await uR(t,e,!0,!1)}async function uR(n,e,t,i){const a=await LV(n.localStore,Xr(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await yL(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&ZA(n.remoteStore,a),d}async function yL(n,e,t,i,a){n.Ha=(b,S,R)=>async function(j,N,B,G){let q=N.view.Sa(B);q.ls&&(q=await eb(j.localStore,N.query,!1).then(({documents:k})=>N.view.Sa(k,q)));const Y=G&&G.targetChanges.get(N.targetId),W=G&&G.targetMismatches.get(N.targetId)!=null,ee=N.view.applyChanges(q,j.isPrimaryClient,Y,W);return cb(j,N.targetId,ee.Ma),ee.snapshot}(n,b,S,R);const l=await eb(n.localStore,e,!0),c=new fL(e,l.gs),d=c.Sa(l.documents),p=wc.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),m=c.applyChanges(d,n.isPrimaryClient,p);cb(n,t,m.Ma);const v=new hL(e,t,c);return n.ka.set(e,v),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),m.snapshot}async function vL(n,e,t){const i=ke(n),a=i.ka.get(e),l=i.qa.get(a.targetId);if(l.length>1)return i.qa.set(a.targetId,l.filter(c=>!cd(c,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Cg(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&Vy(i.remoteStore,a.targetId),Og(i,a.targetId)}).catch(Tl)):(Og(i,a.targetId),await Cg(i.localStore,a.targetId,!0))}async function _L(n,e){const t=ke(n),i=t.ka.get(e),a=t.qa.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Vy(t.remoteStore,i.targetId))}async function EL(n,e,t){const i=CL(n);try{const a=await function(c,d){const p=ke(c),m=Ht.now(),v=d.reduce((R,I)=>R.add(I.key),He());let b,S;return p.persistence.runTransaction("Locally write mutations","readwrite",R=>{let I=qi(),j=He();return p.ds.getEntries(R,v).next(N=>{I=N,I.forEach((B,G)=>{G.isValidDocument()||(j=j.add(B))})}).next(()=>p.localDocuments.getOverlayedDocuments(R,I)).next(N=>{b=N;const B=[];for(const G of d){const q=Vk(G,b.get(G.key).overlayedDocument);q!=null&&B.push(new na(G.key,q,gA(q.value.mapValue),Ar.exists(!0)))}return p.mutationQueue.addMutationBatch(R,m,B,d)}).next(N=>{S=N;const B=N.applyToLocalDocumentSet(b,j);return p.documentOverlayCache.saveOverlays(R,N.batchId,B)})}).then(()=>({batchId:S.batchId,changes:CA(b)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(c,d,p){let m=c.Wa[c.currentUser.toKey()];m||(m=new bt(Ge)),m=m.insert(d,p),c.Wa[c.currentUser.toKey()]=m}(i,a.batchId,t),await Ac(i,a.changes),await yd(i.remoteStore)}catch(a){const l=By(a,"Failed to persist write");t.reject(l)}}async function cR(n,e){const t=ke(n);try{const i=await MV(t.localStore,e);e.targetChanges.forEach((a,l)=>{const c=t.Ka.get(l);c&&(rt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?c.Ba=!0:a.modifiedDocuments.size>0?rt(c.Ba):a.removedDocuments.size>0&&(rt(c.Ba),c.Ba=!1))}),await Ac(t,i,e)}catch(i){await Tl(i)}}function ub(n,e,t){const i=ke(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.ka.forEach((l,c)=>{const d=c.view.sa(e);d.snapshot&&a.push(d.snapshot)}),function(c,d){const p=ke(c);p.onlineState=d;let m=!1;p.queries.forEach((v,b)=>{for(const S of b.ta)S.sa(d)&&(m=!0)}),m&&zy(p)}(i.eventManager,e),a.length&&i.La.p_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function TL(n,e,t){const i=ke(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Ka.get(e),l=a&&a.key;if(l){let c=new bt(be.comparator);c=c.insert(l,dn.newNoDocument(l,Ne.min()));const d=He().add(l),p=new pd(Ne.min(),new Map,new bt(Ge),c,d);await cR(i,p),i.$a=i.$a.remove(l),i.Ka.delete(e),qy(i)}else await Cg(i.localStore,e,!1).then(()=>Og(i,e,t)).catch(Tl)}async function bL(n,e){const t=ke(n),i=e.batch.batchId;try{const a=await DV(t.localStore,e);hR(t,i,null),fR(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Ac(t,a)}catch(a){await Tl(a)}}async function wL(n,e,t){const i=ke(n);try{const a=await function(c,d){const p=ke(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return p.mutationQueue.lookupMutationBatch(m,d).next(b=>(rt(b!==null),v=b.keys(),p.mutationQueue.removeMutationBatch(m,b))).next(()=>p.mutationQueue.performConsistencyCheck(m)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(m,v,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>p.localDocuments.getDocuments(m,v))})}(i.localStore,e);hR(i,e,t),fR(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Ac(i,a)}catch(a){await Tl(a)}}function fR(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function hR(n,e,t){const i=ke(n);let a=i.Wa[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.Wa[i.currentUser.toKey()]=a}}function Og(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.qa.get(e))n.ka.delete(i),t&&n.La.Ja(i,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.Sr(e).forEach(i=>{n.Ua.containsKey(i)||dR(n,i)})}function dR(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Vy(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),qy(n))}function cb(n,e,t){for(const i of t)i instanceof oR?(n.Ua.addReference(i.key,e),SL(n,i)):i instanceof lR?(pe(Hy,"Document no longer in limbo: "+i.key),n.Ua.removeReference(i.key,e),n.Ua.containsKey(i.key)||dR(n,i.key)):xe()}function SL(n,e){const t=e.key,i=t.path.canonicalString();n.$a.get(t)||n.Qa.has(i)||(pe(Hy,"New document in limbo: "+t),n.Qa.add(i),qy(n))}function qy(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new be(ht.fromString(e)),i=n.za.next();n.Ka.set(i,new dL(t)),n.$a=n.$a.insert(t,i),ZA(n.remoteStore,new Us(Xr(Ay(t.path)),i,"TargetPurposeLimboResolution",od.ae))}}async function Ac(n,e,t){const i=ke(n),a=[],l=[],c=[];i.ka.isEmpty()||(i.ka.forEach((d,p)=>{c.push(i.Ha(p,e,t).then(m=>{var v;if((m||t)&&i.isPrimaryClient){const b=m?!m.fromCache:(v=t==null?void 0:t.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(m){a.push(m);const b=My.Yi(p.targetId,m);l.push(b)}}))}),await Promise.all(c),i.La.p_(a),await async function(p,m){const v=ke(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>re.forEach(m,S=>re.forEach(S.Hi,R=>v.persistence.referenceDelegate.addReference(b,S.targetId,R)).next(()=>re.forEach(S.Ji,R=>v.persistence.referenceDelegate.removeReference(b,S.targetId,R)))))}catch(b){if(!bl(b))throw b;pe(ky,"Failed to update sequence numbers: "+b)}for(const b of m){const S=b.targetId;if(!b.fromCache){const R=v.Ts.get(S),I=R.snapshotVersion,j=R.withLastLimboFreeSnapshotVersion(I);v.Ts=v.Ts.insert(S,j)}}}(i.localStore,l))}async function AL(n,e){const t=ke(n);if(!t.currentUser.isEqual(e)){pe(Hy,"User change. New user:",e.toKey());const i=await QA(t.localStore,e);t.currentUser=e,function(l,c){l.Ga.forEach(d=>{d.forEach(p=>{p.reject(new ge(ie.CANCELLED,c))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Ac(t,i.Rs)}}function RL(n,e){const t=ke(n),i=t.Ka.get(e);if(i&&i.Ba)return He().add(i.key);{let a=He();const l=t.qa.get(e);if(!l)return a;for(const c of l){const d=t.ka.get(c);a=a.unionWith(d.view.ba)}return a}}function pR(n){const e=ke(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=cR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TL.bind(null,e),e.La.p_=uL.bind(null,e.eventManager),e.La.Ja=cL.bind(null,e.eventManager),e}function CL(n){const e=ke(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wL.bind(null,e),e}class Ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=md(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return NV(this.persistence,new xV,e.initialUser,this.serializer)}Xa(e){return new KA(Dy.ri,this.serializer)}Za(e){return new jV}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ph.provider={build:()=>new Ph};class xL extends Ph{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){rt(this.persistence.referenceDelegate instanceof Vh);const i=this.persistence.referenceDelegate.garbageCollector;return new dV(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new KA(i=>Vh.ri(i,t),this.serializer)}}class Ng{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>ub(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=AL.bind(null,this.syncEngine),await aL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new lL}()}createDatastore(e){const t=md(e.databaseInfo.databaseId),i=function(l){return new qV(l)}(e.databaseInfo);return function(l,c,d,p){return new KV(l,c,d,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,a,l,c,d){return new YV(i,a,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>ub(this.syncEngine,t,0),function(){return rb.D()?new rb:new UV}())}createSyncEngine(e,t){return function(a,l,c,d,p,m,v){const b=new pL(a,l,c,d,p,m);return v&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=ke(a);pe(Ga,"RemoteStore shutting down."),l.W_.add(5),await Sc(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Ng.provider={build:()=>new Ng};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Hi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="FirestoreClient";class IL{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=hn.UNAUTHENTICATED,this.clientId=aA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{pe(Zs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(pe(Zs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=By(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Ym(n,e){n.asyncQueue.verifyOperationInProgress(),pe(Zs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await QA(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function fb(n,e){n.asyncQueue.verifyOperationInProgress();const t=await OL(n);pe(Zs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>sb(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>sb(e.remoteStore,a)),n._onlineComponents=e}async function OL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe(Zs,"Using user provided OfflineComponentProvider");try{await Ym(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===ie.FAILED_PRECONDITION||a.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;al("Error using user provided cache. Falling back to memory cache: "+t),await Ym(n,new Ph)}}else pe(Zs,"Using default OfflineComponentProvider"),await Ym(n,new xL(void 0));return n._offlineComponents}async function gR(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe(Zs,"Using user provided OnlineComponentProvider"),await fb(n,n._uninitializedComponentsProvider._online)):(pe(Zs,"Using default OnlineComponentProvider"),await fb(n,new Ng))),n._onlineComponents}function NL(n){return gR(n).then(e=>e.syncEngine)}async function yR(n){const e=await gR(n),t=e.eventManager;return t.onListen=mL.bind(null,e.syncEngine),t.onUnlisten=vL.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=gL.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=_L.bind(null,e.syncEngine),t}function DL(n,e,t={}){const i=new Pi;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,m){const v=new mR({next:S=>{v.su(),c.enqueueAndForget(()=>sR(l,b));const R=S.docs.has(d);!R&&S.fromCache?m.reject(new ge(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&S.fromCache&&p&&p.source==="server"?m.reject(new ge(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(S)},error:S=>m.reject(S)}),b=new aR(Ay(d.path),v,{includeMetadataChanges:!0,Ta:!0});return iR(l,b)}(await yR(n),n.asyncQueue,e,t,i)),i.promise}function ML(n,e,t={}){const i=new Pi;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,m){const v=new mR({next:S=>{v.su(),c.enqueueAndForget(()=>sR(l,b)),S.fromCache&&p.source==="server"?m.reject(new ge(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(S)},error:S=>m.reject(S)}),b=new aR(d,v,{includeMetadataChanges:!0,Ta:!0});return iR(l,b)}(await yR(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(n,e,t){if(!t)throw new ge(ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function kL(n,e,t,i){if(e===!0&&i===!0)throw new ge(ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function db(n){if(!be.isDocumentKey(n))throw new ge(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function pb(n){if(be.isDocumentKey(n))throw new ge(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function vd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":xe()}function Fi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ge(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vd(n);throw new ge(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="firestore.googleapis.com",mb=!0;class gb{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ER,this.ssl=mb}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:mb;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=GA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<fV)throw new ge(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vR((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ge(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ge(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ge(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _d{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new HM;switch(i.type){case"firstParty":return new GM(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ge(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=hb.get(t);i&&(pe("ComponentProvider","Removing Datastore"),hb.delete(t),i.terminate())}(this),Promise.resolve()}}function VL(n,e,t,i={}){var a;const l=(n=Fi(n,_d))._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),d=`${e}:${t}`;l.host!==ER&&l.host!==d&&al("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},l),{host:d,ssl:!1,emulatorOptions:i});if(!qa(p,c)&&(n._setSettings(p),i.mockUserToken)){let m,v;if(typeof i.mockUserToken=="string")m=i.mockUserToken,v=hn.MOCK_USER;else{m=KS(i.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new ge(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new hn(b)}n._authCredentials=new qM(new sA(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Sl(this.firestore,e,this._query)}}class Dn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dn(this.firestore,e,this._key)}}class qs extends Sl{constructor(e,t,i){super(e,t,Ay(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dn(this.firestore,null,new be(e))}withConverter(e){return new qs(this.firestore,e,this._path)}}function Ka(n,e,...t){if(n=Zt(n),_R("collection","path",e),n instanceof _d){const i=ht.fromString(e,...t);return pb(i),new qs(n,null,i)}{if(!(n instanceof Dn||n instanceof qs))throw new ge(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ht.fromString(e,...t));return pb(i),new qs(n.firestore,null,i)}}function hl(n,e,...t){if(n=Zt(n),arguments.length===1&&(e=aA.newId()),_R("doc","path",e),n instanceof _d){const i=ht.fromString(e,...t);return db(i),new Dn(n,null,new be(i))}{if(!(n instanceof Dn||n instanceof qs))throw new ge(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ht.fromString(e,...t));return db(i),new Dn(n.firestore,n instanceof qs?n.converter:null,new be(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb="AsyncQueue";class vb{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new XA(this,"async_queue_retry"),this.bu=()=>{const i=Qm();i&&pe(yb,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.Su=e;const t=Qm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Qm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Pi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!bl(e))throw e;pe(yb,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const a=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(i);throw Hi("INTERNAL UNHANDLED ERROR: ",a),i}).then(i=>(this.pu=!1,i))));return this.Su=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const a=Uy.createAndSchedule(this,e,t,i,l=>this.Fu(l));return this.fu.push(a),a}Du(){this.gu&&xe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Al extends _d{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new vb,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vb(e),this._firestoreClient=void 0,await e}}}function LL(n,e){const t=typeof n=="object"?n:vy(),i=typeof n=="string"?n:xh,a=ad(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=FS("firestore");l&&VL(a,...l)}return a}function Fy(n){if(n._terminated)throw new ge(ie.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||PL(n),n._firestoreClient}function PL(n){var e,t,i;const a=n._freezeSettings(),l=function(d,p,m,v){return new ak(d,p,m,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,vR(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new IL(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new dl(ln.fromBase64String(e))}catch(t){throw new ge(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new dl(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL=/^__.*__$/;class UL{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new na(e,this.data,this.fieldMask,t,this.fieldTransforms):new bc(e,this.data,t,this.fieldTransforms)}}class TR{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new na(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function bR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe()}}class Qy{constructor(e,t,i,a,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Qy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:i,Qu:!1});return a.$u(e),a}Ku(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:i,Qu:!1});return a.Bu(),a}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return jh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(bR(this.Lu)&&jL.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class BL{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||md(e)}ju(e,t,i,a=!1){return new Qy({Lu:e,methodName:t,zu:i,path:on.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yy(n){const e=n._freezeSettings(),t=md(n._databaseId);return new BL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function zL(n,e,t,i,a,l={}){const c=n.ju(l.merge||l.mergeFields?2:0,e,t,a);Xy("Data must be an object, but it was:",c,i);const d=wR(i,c);let p,m;if(l.merge)p=new zn(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const S=Dg(e,b,t);if(!c.contains(S))throw new ge(ie.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);AR(v,S)||v.push(S)}p=new zn(v),m=c.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,m=c.fieldTransforms;return new UL(new xn(d),p,m)}class Td extends $y{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Td}}function HL(n,e,t,i){const a=n.ju(1,e,t);Xy("Data must be an object, but it was:",a,i);const l=[],c=xn.empty();ta(i,(p,m)=>{const v=Wy(e,p,t);m=Zt(m);const b=a.Ku(v);if(m instanceof Td)l.push(v);else{const S=Rc(m,b);S!=null&&(l.push(v),c.set(v,S))}});const d=new zn(l);return new TR(c,d,a.fieldTransforms)}function qL(n,e,t,i,a,l){const c=n.ju(1,e,t),d=[Dg(e,i,t)],p=[a];if(l.length%2!=0)throw new ge(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<l.length;S+=2)d.push(Dg(e,l[S])),p.push(l[S+1]);const m=[],v=xn.empty();for(let S=d.length-1;S>=0;--S)if(!AR(m,d[S])){const R=d[S];let I=p[S];I=Zt(I);const j=c.Ku(R);if(I instanceof Td)m.push(R);else{const N=Rc(I,j);N!=null&&(m.push(R),v.set(R,N))}}const b=new zn(m);return new TR(v,b,c.fieldTransforms)}function FL(n,e,t,i=!1){return Rc(t,n.ju(i?4:3,e))}function Rc(n,e){if(SR(n=Zt(n)))return Xy("Unsupported field value:",e,n),wR(n,e);if(n instanceof $y)return function(i,a){if(!bR(a.Lu))throw a.Wu(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,a){const l=[];let c=0;for(const d of i){let p=Rc(d,a.Uu(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,a){if((i=Zt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Ik(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Ht.fromDate(i);return{timestampValue:kh(a.serializer,l)}}if(i instanceof Ht){const l=new Ht(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:kh(a.serializer,l)}}if(i instanceof Gy)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof dl)return{bytesValue:UA(a.serializer,i._byteString)};if(i instanceof Dn){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Oy(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Ky)return function(c,d){return{mapValue:{fields:{[pA]:{stringValue:mA},[Ih]:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw d.Wu("VectorValues must only contain numeric values.");return Ry(d.serializer,m)})}}}}}}(i,a);throw a.Wu(`Unsupported field value: ${vd(i)}`)}(n,e)}function wR(n,e){const t={};return lA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ta(n,(i,a)=>{const l=Rc(a,e.qu(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function SR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ht||n instanceof Gy||n instanceof dl||n instanceof Dn||n instanceof $y||n instanceof Ky)}function Xy(n,e,t){if(!SR(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const i=vd(t);throw i==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+i)}}function Dg(n,e,t){if((e=Zt(e))instanceof Ed)return e._internalPath;if(typeof e=="string")return Wy(n,e);throw jh("Field path arguments must be of type string or ",n,!1,void 0,t)}const $L=new RegExp("[~\\*/\\[\\]]");function Wy(n,e,t){if(e.search($L)>=0)throw jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ed(...e.split("."))._internalPath}catch{throw jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function jh(n,e,t,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${a}`),p+=")"),new ge(ie.INVALID_ARGUMENT,d+n+p)}function AR(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Zy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class GL extends RR{data(){return super.data()}}function Zy(n,e){return typeof e=="string"?Wy(n,e):e instanceof Ed?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KL(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ge(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jy{}class QL extends Jy{}function _b(n,e,...t){let i=[];e instanceof Jy&&i.push(e),i=i.concat(t),function(l){const c=l.filter(p=>p instanceof ev).length,d=l.filter(p=>p instanceof bd).length;if(c>1||c>0&&d>0)throw new ge(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)n=a._apply(n);return n}class bd extends QL{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new bd(e,t,i)}_apply(e){const t=this._parse(e);return CR(e._query,t),new Sl(e.firestore,e.converter,Tg(e._query,t))}_parse(e){const t=Yy(e.firestore);return function(l,c,d,p,m,v,b){let S;if(m.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ge(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){bb(b,v);const I=[];for(const j of b)I.push(Tb(p,l,j));S={arrayValue:{values:I}}}else S=Tb(p,l,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||bb(b,v),S=FL(d,c,b,v==="in"||v==="not-in");return kt.create(m,v,S)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Eb(n,e,t){const i=e,a=Zy("where",n);return bd._create(a,i,t)}class ev extends Jy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ev(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Rr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,l){let c=a;const d=l.getFlattenedFilters();for(const p of d)CR(c,p),c=Tg(c,p)}(e._query,t),new Sl(e.firestore,e.converter,Tg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Tb(n,e,t){if(typeof(t=Zt(t))=="string"){if(t==="")throw new ge(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wA(e)&&t.indexOf("/")!==-1)throw new ge(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ht.fromString(t));if(!be.isDocumentKey(i))throw new ge(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return V0(n,new be(i))}if(t instanceof Dn)return V0(n,t._key);throw new ge(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vd(t)}.`)}function bb(n,e){if(!Array.isArray(n)||n.length===0)throw new ge(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function CR(n,e){const t=function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ge(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class YL{convertValue(e,t="none"){switch(Xs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw xe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ta(e,(a,l)=>{i[a]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,a;const l=(a=(i=(t=e.fields)===null||t===void 0?void 0:t[Ih].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(c=>It(c.doubleValue));return new Ky(l)}convertGeoPoint(e){return new Gy(It(e.latitude),It(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=ud(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(sc(e));default:return null}}convertTimestamp(e){const t=Qs(e);return new Ht(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ht.fromString(e);rt($A(i));const a=new ac(i.get(1),i.get(3)),l=new be(i.popFirst(5));return a.isEqual(t)||Hi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xR extends RR{constructor(e,t,i,a,l,c){super(e,t,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new gh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Zy("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class gh extends xR{data(e={}){return super.data(e)}}class WL{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Bu(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new gh(this._firestore,this._userDataWriter,i.key,i,new Bu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const p=new gh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Bu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new gh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Bu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,v=-1;return d.type!==0&&(m=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:ZL(d.type),doc:p,oldIndex:m,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ZL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JL(n){n=Fi(n,Dn);const e=Fi(n.firestore,Al);return DL(Fy(e),n._key).then(t=>eP(e,n,t))}class IR extends YL{constructor(e){super(),this.firestore=e}convertBytes(e){return new dl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dn(this.firestore,null,t)}}function cc(n){n=Fi(n,Sl);const e=Fi(n.firestore,Al),t=Fy(e),i=new IR(e);return KL(n._query),ML(t,n._query).then(a=>new WL(e,i,n,a))}function OR(n,e,t,...i){n=Fi(n,Dn);const a=Fi(n.firestore,Al),l=Yy(a);let c;return c=typeof(e=Zt(e))=="string"||e instanceof Ed?qL(l,"updateDoc",n._key,e,t,i):HL(l,"updateDoc",n._key,e),tv(a,[c.toMutation(n._key,Ar.exists(!0))])}function NR(n){return tv(Fi(n.firestore,Al),[new Cy(n._key,Ar.none())])}function DR(n,e){const t=Fi(n.firestore,Al),i=hl(n),a=XL(n.converter,e);return tv(t,[zL(Yy(n.firestore),"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,Ar.exists(!1))]).then(()=>i)}function tv(n,e){return function(i,a){const l=new Pi;return i.asyncQueue.enqueueAndForget(async()=>EL(await NL(i),a,l)),l.promise}(Fy(n),e)}function eP(n,e,t){const i=t.docs.get(e._key),a=new IR(n);return new xR(n,a,e._key,i,new Bu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(a){El=a})(Wa),Fa(new Gs("firestore",(i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new Al(new FM(i.getProvider("auth-internal")),new KM(c,i.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ge(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ac(m.options.projectId,v)}(c,a),c);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Yr(S0,A0,e),Yr(S0,A0,"esm2017")})();function nv(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}function MR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tP=MR,kR=new _c("auth","Firebase",MR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new gy("@firebase/auth");function nP(n,...e){Uh.logLevel<=ze.WARN&&Uh.warn(`Auth (${Wa}): ${n}`,...e)}function yh(n,...e){Uh.logLevel<=ze.ERROR&&Uh.error(`Auth (${Wa}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(n,...e){throw rv(n,...e)}function Zr(n,...e){return rv(n,...e)}function VR(n,e,t){const i=Object.assign(Object.assign({},tP()),{[e]:t});return new _c("auth","Firebase",i).create(e,{appName:n.name})}function ja(n){return VR(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rv(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return kR.create(n,...e)}function Ie(n,e,...t){if(!n)throw rv(e,...t)}function Di(n){const e="INTERNAL ASSERTION FAILED: "+n;throw yh(e),new Error(e)}function Gi(n,e){n||Di(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function rP(){return wb()==="http:"||wb()==="https:"}function wb(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rP()||_2()||"connection"in navigator)?navigator.onLine:!0}function sP(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Gi(t>e,"Short delay should be less than long delay!"),this.isMobile=g2()||E2()}get(){return iP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(n,e){Gi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP=new Cc(3e4,6e4);function sv(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Rl(n,e,t,i,a={}){return PR(n,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=Ec(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:p},l);return v2()||(m.referrerPolicy="no-referrer"),LR.fetch()(jR(n,n.config.apiHost,t,d),m)})}async function PR(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},aP),e);try{const a=new uP(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw sh(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,m]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw sh(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw sh(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw sh(n,"user-disabled",c);const v=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw VR(n,v,m);$i(n,v)}}catch(a){if(a instanceof ii)throw a;$i(n,"network-request-failed",{message:String(a)})}}async function lP(n,e,t,i,a={}){const l=await Rl(n,e,t,i,a);return"mfaPendingCredential"in l&&$i(n,"multi-factor-auth-required",{_serverResponse:l}),l}function jR(n,e,t,i){const a=`${e}${t}?${i}`;return n.config.emulator?iv(n.config,a):`${n.config.apiScheme}://${a}`}class uP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Zr(this.auth,"network-request-failed")),oP.get())})}}function sh(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=Zr(n,e,i);return a.customData._tokenResponse=t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cP(n,e){return Rl(n,"POST","/v1/accounts:delete",e)}async function UR(n,e){return Rl(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fP(n,e=!1){const t=Zt(n),i=await t.getIdToken(e),a=av(i);Ie(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:Qu(Xm(a.auth_time)),issuedAtTime:Qu(Xm(a.iat)),expirationTime:Qu(Xm(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Xm(n){return Number(n)*1e3}function av(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return yh("JWT malformed, contained fewer than 3 sections"),null;try{const a=HS(t);return a?JSON.parse(a):(yh("Failed to decode base64 JWT payload"),null)}catch(a){return yh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function Sb(n){const e=av(n);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fc(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof ii&&hP(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function hP({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qu(this.lastLoginAt),this.creationTime=Qu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bh(n){var e;const t=n.auth,i=await n.getIdToken(),a=await fc(n,UR(t,{idToken:i}));Ie(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?BR(l.providerUserInfo):[],d=mP(n.providerData,c),p=n.isAnonymous,m=!(n.email&&l.passwordHash)&&!(d!=null&&d.length),v=p?m:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new kg(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(n,b)}async function pP(n){const e=Zt(n);await Bh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mP(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function BR(n){return n.map(e=>{var{providerId:t}=e,i=nv(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gP(n,e){const t=await PR(n,{},async()=>{const i=Ec({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=jR(n,a,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",LR.fetch()(c,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function yP(n,e){return Rl(n,"POST","/v2/accounts:revokeToken",sv(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Sb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const t=Sb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await gP(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,c=new Jo;return i&&(Ie(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Ie(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ie(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Jo,this.toJSON())}_performRefresh(){return Di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(n,e){Ie(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Mi{constructor(e){var{uid:t,auth:i,stsTokenManager:a}=e,l=nv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new kg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await fc(this,this.stsTokenManager.getToken(this.auth,e));return Ie(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return fP(this,e)}reload(){return pP(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Mi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Bh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(br(this.auth.app))return Promise.reject(ja(this.auth));const e=await this.getIdToken();return await fc(this,cP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,a,l,c,d,p,m,v;const b=(i=t.displayName)!==null&&i!==void 0?i:void 0,S=(a=t.email)!==null&&a!==void 0?a:void 0,R=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,I=(c=t.photoURL)!==null&&c!==void 0?c:void 0,j=(d=t.tenantId)!==null&&d!==void 0?d:void 0,N=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,B=(m=t.createdAt)!==null&&m!==void 0?m:void 0,G=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:q,emailVerified:Y,isAnonymous:W,providerData:ee,stsTokenManager:k}=t;Ie(q&&k,e,"internal-error");const O=Jo.fromJSON(this.name,k);Ie(typeof q=="string",e,"internal-error"),Ns(b,e.name),Ns(S,e.name),Ie(typeof Y=="boolean",e,"internal-error"),Ie(typeof W=="boolean",e,"internal-error"),Ns(R,e.name),Ns(I,e.name),Ns(j,e.name),Ns(N,e.name),Ns(B,e.name),Ns(G,e.name);const x=new Mi({uid:q,auth:e,email:S,emailVerified:Y,displayName:b,isAnonymous:W,photoURL:I,phoneNumber:R,tenantId:j,stsTokenManager:O,createdAt:B,lastLoginAt:G});return ee&&Array.isArray(ee)&&(x.providerData=ee.map(M=>Object.assign({},M))),N&&(x._redirectEventId=N),x}static async _fromIdTokenResponse(e,t,i=!1){const a=new Jo;a.updateFromServerResponse(t);const l=new Mi({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Bh(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];Ie(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?BR(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new Jo;d.updateFromIdToken(i);const p=new Mi({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new kg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab=new Map;function ki(n){Gi(n instanceof Function,"Expected a class definition");let e=Ab.get(n);return e?(Gi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Ab.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}zR.type="NONE";const Rb=zR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(n,e,t){return`firebase:${n}:${e}:${t}`}class el{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=vh(this.userKey,a.apiKey,l),this.fullPersistenceKey=vh("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Mi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new el(ki(Rb),e,i);const a=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||ki(Rb);const c=vh(i,e.config.apiKey,e.name);let d=null;for(const m of t)try{const v=await m._get(c);if(v){const b=Mi._fromJSON(e,v);m!==l&&(d=b),l=m;break}}catch{}const p=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new el(l,e,i):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new el(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($R(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(HR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KR(e))return"Blackberry";if(QR(e))return"Webos";if(qR(e))return"Safari";if((e.includes("chrome/")||FR(e))&&!e.includes("edge/"))return"Chrome";if(GR(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function HR(n=mn()){return/firefox\//i.test(n)}function qR(n=mn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FR(n=mn()){return/crios\//i.test(n)}function $R(n=mn()){return/iemobile/i.test(n)}function GR(n=mn()){return/android/i.test(n)}function KR(n=mn()){return/blackberry/i.test(n)}function QR(n=mn()){return/webos/i.test(n)}function ov(n=mn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function vP(n=mn()){var e;return ov(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _P(){return T2()&&document.documentMode===10}function YR(n=mn()){return ov(n)||GR(n)||QR(n)||KR(n)||/windows phone/i.test(n)||$R(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(n,e=[]){let t;switch(n){case"Browser":t=Cb(mn());break;case"Worker":t=`${Cb(mn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Wa}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TP(n,e={}){return Rl(n,"GET","/v2/passwordPolicy",sv(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP=6;class wP{constructor(e){var t,i,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:bP,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,a,l,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(a=p.containsLowercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xb(this),this.idTokenSubscription=new xb(this),this.beforeStateQueue=new EP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ki(t)),this._initializationPromise=this.queue(async()=>{var i,a;if(!this._deleted&&(this.persistenceManager=await el.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await UR(this,{idToken:e}),i=await Mi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(br(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=a==null?void 0:a._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Bh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=sP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(br(this.app))return Promise.reject(ja(this));const t=e?Zt(e):null;return t&&Ie(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return br(this.app)?Promise.reject(ja(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return br(this.app)?Promise.reject(ja(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ki(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await TP(this),t=new wP(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new _c("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await yP(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ki(e)||this._popupRedirectResolver;Ie(t,this,"argument-error"),this.redirectPersistenceManager=await el.create(this,[ki(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,a);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(br(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&nP(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function lv(n){return Zt(n)}class xb{constructor(e){this.auth=e,this.observer=null,this.addObserver=I2(t=>this.observer=t)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function AP(n){uv=n}function RP(n){return uv.loadJS(n)}function CP(){return uv.gapiScript}function xP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(n,e){const t=ad(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(qa(l,e??{}))return a;$i(a,"already-initialized")}return t.initialize({options:e})}function OP(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(ki);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function NP(n,e,t){const i=lv(n);Ie(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=WR(e),{host:c,port:d}=DP(e),p=d===null?"":`:${d}`,m={url:`${l}//${c}${p}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Ie(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ie(qa(m,i.config.emulator)&&qa(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,MP()}function WR(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function DP(n){const e=WR(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:Ib(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:Ib(c)}}}function Ib(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function MP(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Di("not implemented")}_getIdTokenResponse(e){return Di("not implemented")}_linkToIdToken(e,t){return Di("not implemented")}_getReauthenticationResolver(e){return Di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tl(n,e){return lP(n,"POST","/v1/accounts:signInWithIdp",sv(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP="http://localhost";class Qa extends ZR{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Qa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):$i("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=t,l=nv(t,["providerId","signInMethod"]);if(!i||!a)return null;const c=new Qa(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return tl(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,tl(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,tl(e,t)}buildRequest(){const e={requestUri:kP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ec(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc extends JR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends xc{constructor(){super("facebook.com")}static credential(e){return Qa._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ms.credential(e.oauthAccessToken)}catch{return null}}}Ms.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ms.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends xc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Qa._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return ks.credential(t,i)}catch{return null}}}ks.GOOGLE_SIGN_IN_METHOD="google.com";ks.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends xc{constructor(){super("github.com")}static credential(e){return Qa._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vs.credential(e.oauthAccessToken)}catch{return null}}}Vs.GITHUB_SIGN_IN_METHOD="github.com";Vs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends xc{constructor(){super("twitter.com")}static credential(e,t){return Qa._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ls.credential(t,i)}catch{return null}}}Ls.TWITTER_SIGN_IN_METHOD="twitter.com";Ls.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await Mi._fromIdTokenResponse(e,i,a),c=Ob(i);return new pl({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=Ob(i);return new pl({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function Ob(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh extends ii{constructor(e,t,i,a){var l;super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,zh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new zh(e,t,i,a)}}function eC(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?zh._fromErrorAndOperation(n,l,e,i):l})}async function VP(n,e,t=!1){const i=await fc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return pl._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LP(n,e,t=!1){const{auth:i}=n;if(br(i.app))return Promise.reject(ja(i));const a="reauthenticate";try{const l=await fc(n,eC(i,a,e,n),t);Ie(l.idToken,i,"internal-error");const c=av(l.idToken);Ie(c,i,"internal-error");const{sub:d}=c;return Ie(n.uid===d,i,"user-mismatch"),pl._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&$i(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PP(n,e,t=!1){if(br(n.app))return Promise.reject(ja(n));const i="signIn",a=await eC(n,i,e),l=await pl._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(l.user),l}function jP(n,e,t,i){return Zt(n).onIdTokenChanged(e,t,i)}function UP(n,e,t){return Zt(n).beforeAuthStateChanged(e,t)}const Hh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Hh,"1"),this.storage.removeItem(Hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP=1e3,zP=10;class nC extends tC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);_P()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,zP):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},BP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}nC.type="LOCAL";const HP=nC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC extends tC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}rC.type="SESSION";const iC=rC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new wd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(c).map(async m=>m(t.origin,l)),p=await qP(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const m=cv("",20);a.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(b){const S=b;if(S.data.eventId===m)switch(S.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(S.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(){return window}function $P(n){Jr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(){return typeof Jr().WorkerGlobalScope<"u"&&typeof Jr().importScripts=="function"}async function GP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KP(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function QP(){return sC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC="firebaseLocalStorageDb",YP=1,qh="firebaseLocalStorage",oC="fbase_key";class Ic{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Sd(n,e){return n.transaction([qh],e?"readwrite":"readonly").objectStore(qh)}function XP(){const n=indexedDB.deleteDatabase(aC);return new Ic(n).toPromise()}function Vg(){const n=indexedDB.open(aC,YP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(qh,{keyPath:oC})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(qh)?e(i):(i.close(),await XP(),e(await Vg()))})})}async function Nb(n,e,t){const i=Sd(n,!0).put({[oC]:e,value:t});return new Ic(i).toPromise()}async function WP(n,e){const t=Sd(n,!1).get(e),i=await new Ic(t).toPromise();return i===void 0?null:i.value}function Db(n,e){const t=Sd(n,!0).delete(e);return new Ic(t).toPromise()}const ZP=800,JP=3;class lC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>JP)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wd._getInstance(QP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await GP(),!this.activeServiceWorker)return;this.sender=new FP(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||KP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vg();return await Nb(e,Hh,"1"),await Db(e,Hh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Nb(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>WP(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Db(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Sd(a,!1).getAll();return new Ic(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lC.type="LOCAL";const ej=lC;new Cc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tj(n,e){return e?ki(e):(Ie(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv extends ZR{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return tl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return tl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function nj(n){return PP(n.auth,new fv(n),n.bypassAuthState)}function rj(n){const{auth:e,user:t}=n;return Ie(t,e,"internal-error"),LP(t,new fv(n),n.bypassAuthState)}async function ij(n){const{auth:e,user:t}=n;return Ie(t,e,"internal-error"),VP(t,new fv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nj;case"linkViaPopup":case"linkViaRedirect":return ij;case"reauthViaPopup":case"reauthViaRedirect":return rj;default:$i(this.auth,"internal-error")}}resolve(e){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj=new Cc(2e3,1e4);class Wo extends uC{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Wo.currentPopupAction&&Wo.currentPopupAction.cancel(),Wo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){Gi(this.filter.length===1,"Popup operations only handle one event");const e=cv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Zr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Zr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sj.get())};e()}}Wo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj="pendingRedirect",_h=new Map;class oj extends uC{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=_h.get(this.auth._key());if(!e){try{const i=await lj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}_h.set(this.auth._key(),e)}return this.bypassAuthState||_h.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lj(n,e){const t=fj(e),i=cj(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function uj(n,e){_h.set(n._key(),e)}function cj(n){return ki(n._redirectPersistence)}function fj(n){return vh(aj,n.config.apiKey,n.name)}async function hj(n,e,t=!1){if(br(n.app))return Promise.reject(ja(n));const i=lv(n),a=tj(i,e),c=await new oj(i,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj=10*60*1e3;class pj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mj(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!cC(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Zr(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dj&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mb(e))}saveEventToCache(e){this.cachedEventUids.add(Mb(e)),this.lastProcessedEventTime=Date.now()}}function Mb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function cC({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function mj(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cC(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gj(n,e={}){return Rl(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vj=/^https?/;async function _j(n){if(n.config.emulator)return;const{authorizedDomains:e}=await gj(n);for(const t of e)try{if(Ej(t))return}catch{}$i(n,"unauthorized-domain")}function Ej(n){const e=Mg(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!vj.test(t))return!1;if(yj.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj=new Cc(3e4,6e4);function kb(){const n=Jr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function bj(n){return new Promise((e,t)=>{var i,a,l;function c(){kb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kb(),t(Zr(n,"network-request-failed"))},timeout:Tj.get()})}if(!((a=(i=Jr().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Jr().gapi)===null||l===void 0)&&l.load)c();else{const d=xP("iframefcb");return Jr()[d]=()=>{gapi.load?c():t(Zr(n,"network-request-failed"))},RP(`${CP()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw Eh=null,e})}let Eh=null;function wj(n){return Eh=Eh||bj(n),Eh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj=new Cc(5e3,15e3),Aj="__/auth/iframe",Rj="emulator/auth/iframe",Cj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ij(n){const e=n.config;Ie(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?iv(e,Rj):`https://${n.config.authDomain}/${Aj}`,i={apiKey:e.apiKey,appName:n.name,v:Wa},a=xj.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Ec(i).slice(1)}`}async function Oj(n){const e=await wj(n),t=Jr().gapi;return Ie(t,n,"internal-error"),e.open({where:document.body,url:Ij(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Cj,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Zr(n,"network-request-failed"),d=Jr().setTimeout(()=>{l(c)},Sj.get());function p(){Jr().clearTimeout(d),a(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Dj=500,Mj=600,kj="_blank",Vj="http://localhost";class Vb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Lj(n,e,t,i=Dj,a=Mj){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p=Object.assign(Object.assign({},Nj),{width:i.toString(),height:a.toString(),top:l,left:c}),m=mn().toLowerCase();t&&(d=FR(m)?kj:t),HR(m)&&(e=e||Vj,p.scrollbars="yes");const v=Object.entries(p).reduce((S,[R,I])=>`${S}${R}=${I},`,"");if(vP(m)&&d!=="_self")return Pj(e||"",d),new Vb(null);const b=window.open(e||"",d,v);Ie(b,n,"popup-blocked");try{b.focus()}catch{}return new Vb(b)}function Pj(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj="__/auth/handler",Uj="emulator/auth/handler",Bj=encodeURIComponent("fac");async function Lb(n,e,t,i,a,l){Ie(n.config.authDomain,n,"auth-domain-config-required"),Ie(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Wa,eventId:a};if(e instanceof JR){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",x2(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))c[v]=b}if(e instanceof xc){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await n._getAppCheckToken(),m=p?`#${Bj}=${encodeURIComponent(p)}`:"";return`${zj(n)}?${Ec(d).slice(1)}${m}`}function zj({config:n}){return n.emulator?iv(n,Uj):`https://${n.authDomain}/${jj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="webStorageSupport";class Hj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iC,this._completeRedirectFn=hj,this._overrideRedirectResult=uj}async _openPopup(e,t,i,a){var l;Gi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await Lb(e,t,i,Mg(),a);return Lj(e,c,cv())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await Lb(e,t,i,Mg(),a);return $P(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Gi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await Oj(e),i=new pj(e);return t.register("authEvent",a=>(Ie(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Wm,{type:Wm},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Wm];c!==void 0&&t(!!c),$i(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=_j(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return YR()||qR()||ov()}}const qj=Hj;var Pb="@firebase/auth",jb="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $j(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Gj(n){Fa(new Gs("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Ie(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XR(n)},m=new SP(i,a,l,p);return OP(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Fa(new Gs("auth-internal",e=>{const t=lv(e.getProvider("auth").getImmediate());return(i=>new Fj(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yr(Pb,jb,$j(n)),Yr(Pb,jb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj=5*60,Qj=GS("authIdTokenMaxAge")||Kj;let Ub=null;const Yj=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Qj)return;const a=t==null?void 0:t.token;Ub!==a&&(Ub=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Xj(n=vy()){const e=ad(n,"auth");if(e.isInitialized())return e.getImmediate();const t=IP(n,{popupRedirectResolver:qj,persistence:[ej,HP,iC]}),i=GS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=Yj(l.toString());UP(t,c,()=>c(t.currentUser)),jP(t,d=>c(d))}}const a=qS("auth");return a&&NP(t,`http://${a}`),t}function Wj(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}AP({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const l=Zr("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",Wj().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Gj("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC="firebasestorage.googleapis.com",hC="storageBucket",Zj=2*60*1e3,Jj=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt extends ii{constructor(e,t,i=0){super(Zm(e),`Firebase Storage: ${t} (${Zm(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Lt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Zm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Vt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Vt||(Vt={}));function Zm(n){return"storage/"+n}function hv(){const n="An unknown error occurred, please check the error payload for server response.";return new Lt(Vt.UNKNOWN,n)}function eU(n){return new Lt(Vt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function tU(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Lt(Vt.UNAUTHENTICATED,n)}function nU(){return new Lt(Vt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function rU(n){return new Lt(Vt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function iU(){return new Lt(Vt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function sU(){return new Lt(Vt.CANCELED,"User canceled the upload/download.")}function aU(n){return new Lt(Vt.INVALID_URL,"Invalid URL '"+n+"'.")}function oU(n){return new Lt(Vt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function lU(){return new Lt(Vt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+hC+"' property when initializing the app?")}function uU(){return new Lt(Vt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function cU(n){return new Lt(Vt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Lg(n){return new Lt(Vt.INVALID_ARGUMENT,n)}function dC(){return new Lt(Vt.APP_DELETED,"The Firebase app was deleted.")}function fU(n){return new Lt(Vt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Yu(n,e){return new Lt(Vt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function ku(n){throw new Lt(Vt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Hn.makeFromUrl(e,t)}catch{return new Hn(e,"")}if(i.path==="")return i;throw oU(e)}static makeFromUrl(e,t){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(Y){Y.path.charAt(Y.path.length-1)==="/"&&(Y.path_=Y.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+a+c,"i"),p={bucket:1,path:3};function m(Y){Y.path_=decodeURIComponent(Y.path)}const v="v[A-Za-z0-9_]+",b=t.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",R=new RegExp(`^https?://${b}/${v}/b/${a}/o${S}`,"i"),I={bucket:1,path:3},j=t===fC?"(?:storage.googleapis.com|storage.cloud.google.com)":t,N="([^?#]*)",B=new RegExp(`^https?://${j}/${a}/${N}`,"i"),q=[{regex:d,indices:p,postModify:l},{regex:R,indices:I,postModify:m},{regex:B,indices:{bucket:1,path:2},postModify:m}];for(let Y=0;Y<q.length;Y++){const W=q[Y],ee=W.regex.exec(e);if(ee){const k=ee[W.indices.bucket];let O=ee[W.indices.path];O||(O=""),i=new Hn(k,O),W.postModify(i);break}}if(i==null)throw aU(e);return i}}class hU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dU(n,e,t){let i=1,a=null,l=null,c=!1,d=0;function p(){return d===2}let m=!1;function v(...N){m||(m=!0,e.apply(null,N))}function b(N){a=setTimeout(()=>{a=null,n(R,p())},N)}function S(){l&&clearTimeout(l)}function R(N,...B){if(m){S();return}if(N){S(),v.call(null,N,...B);return}if(p()||c){S(),v.call(null,N,...B);return}i<64&&(i*=2);let q;d===1?(d=2,q=0):q=(i+Math.random())*1e3,b(q)}let I=!1;function j(N){I||(I=!0,S(),!m&&(a!==null?(N||(d=2),clearTimeout(a),b(0)):N||(d=1)))}return b(0),l=setTimeout(()=>{c=!0,j(!0)},t),j}function pU(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mU(n){return n!==void 0}function gU(n){return typeof n=="object"&&!Array.isArray(n)}function pC(n){return typeof n=="string"||n instanceof String}function Bb(n){return dv()&&n instanceof Blob}function dv(){return typeof Blob<"u"}function zb(n,e,t,i){if(i<e)throw Lg(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Lg(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yU(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function vU(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const a=e(i)+"="+e(n[i]);t=t+a+"&"}return t=t.slice(0,-1),t}var Ua;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ua||(Ua={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _U(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e,t,i,a,l,c,d,p,m,v,b,S=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=m,this.progressCallback_=v,this.connectionFactory_=b,this.retry=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,I)=>{this.resolve_=R,this.reject_=I,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new ah(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const p=d.loaded,m=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,m)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===Ua.NO_ERROR,p=l.getStatus();if(!d||_U(p,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===Ua.ABORT;i(!1,new ah(!1,null,v));return}const m=this.successCodes_.indexOf(p)!==-1;i(!0,new ah(m,l))})},t=(i,a)=>{const l=this.resolve_,c=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());mU(p)?l(p):l()}catch(p){c(p)}else if(d!==null){const p=hv();p.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,p)):c(p)}else if(a.canceled){const p=this.appDelete_?dC():sU();c(p)}else{const p=iU();c(p)}};this.canceled_?t(!1,new ah(!1,null,!0)):this.backoffId_=dU(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&pU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ah{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function TU(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function bU(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function wU(n,e){e&&(n["X-Firebase-GMPID"]=e)}function SU(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function AU(n,e,t,i,a,l,c=!0){const d=vU(n.urlParams),p=n.url+d,m=Object.assign({},n.headers);return wU(m,e),TU(m,t),bU(m,l),SU(m,i),new EU(p,n.method,m,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RU(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function CU(...n){const e=RU();if(e!==void 0){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(dv())return new Blob(n);throw new Lt(Vt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function xU(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IU(n){if(typeof atob>"u")throw cU("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Jm{constructor(e,t){this.data=e,this.contentType=t||null}}function OU(n,e){switch(n){case Gr.RAW:return new Jm(mC(e));case Gr.BASE64:case Gr.BASE64URL:return new Jm(gC(n,e));case Gr.DATA_URL:return new Jm(DU(e),MU(e))}throw hv()}function mC(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=i,c=n.charCodeAt(++t);i=65536|(l&1023)<<10|c&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function NU(n){let e;try{e=decodeURIComponent(n)}catch{throw Yu(Gr.DATA_URL,"Malformed data URL.")}return mC(e)}function gC(n,e){switch(n){case Gr.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw Yu(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Gr.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw Yu(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=IU(e)}catch(a){throw a.message.includes("polyfill")?a:Yu(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}class yC{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Yu(Gr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=kU(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function DU(n){const e=new yC(n);return e.base64?gC(Gr.BASE64,e.rest):NU(e.rest)}function MU(n){return new yC(n).contentType}function kU(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,t){let i=0,a="";Bb(e)?(this.data_=e,i=e.size,a=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,t){if(Bb(this.data_)){const i=this.data_,a=xU(i,e,t);return a===null?null:new Ps(a)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Ps(i,!0)}}static getBlob(...e){if(dv()){const t=e.map(i=>i instanceof Ps?i.data_:i);return new Ps(CU.apply(null,t))}else{const t=e.map(c=>pC(c)?OU(Gr.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const a=new Uint8Array(i);let l=0;return t.forEach(c=>{for(let d=0;d<c.length;d++)a[l++]=c[d]}),new Ps(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VU(n){let e;try{e=JSON.parse(n)}catch{return null}return gU(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LU(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function PU(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function vC(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jU(n,e){return e}class Tn{constructor(e,t,i,a){this.server=e,this.local=t||e,this.writable=!!i,this.xform=a||jU}}let oh=null;function UU(n){return!pC(n)||n.length<2?n:vC(n)}function BU(){if(oh)return oh;const n=[];n.push(new Tn("bucket")),n.push(new Tn("generation")),n.push(new Tn("metageneration")),n.push(new Tn("name","fullPath",!0));function e(l,c){return UU(c)}const t=new Tn("name");t.xform=e,n.push(t);function i(l,c){return c!==void 0?Number(c):c}const a=new Tn("size");return a.xform=i,n.push(a),n.push(new Tn("timeCreated")),n.push(new Tn("updated")),n.push(new Tn("md5Hash",null,!0)),n.push(new Tn("cacheControl",null,!0)),n.push(new Tn("contentDisposition",null,!0)),n.push(new Tn("contentEncoding",null,!0)),n.push(new Tn("contentLanguage",null,!0)),n.push(new Tn("contentType",null,!0)),n.push(new Tn("metadata","customMetadata",!0)),oh=n,oh}function zU(n,e){function t(){const i=n.bucket,a=n.fullPath,l=new Hn(i,a);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function HU(n,e,t){const i={};i.type="file";const a=t.length;for(let l=0;l<a;l++){const c=t[l];i[c.local]=c.xform(i,e[c.server])}return zU(i,n),i}function qU(n,e,t){const i=VU(e);return i===null?null:HU(n,i,t)}function FU(n,e){const t={},i=e.length;for(let a=0;a<i;a++){const l=e[a];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}class $U{constructor(e,t,i,a){this.url=e,this.method=t,this.handler=i,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GU(n){if(!n)throw hv()}function KU(n,e){function t(i,a){const l=qU(n,a,e);return GU(l!==null),l}return t}function QU(n){function e(t,i){let a;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?a=nU():a=tU():t.getStatus()===402?a=eU(n.bucket):t.getStatus()===403?a=rU(n.path):a=i,a.status=t.getStatus(),a.serverResponse=i.serverResponse,a}return e}function YU(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function XU(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=YU(null,e)),i}function WU(n,e,t,i,a){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let q="";for(let Y=0;Y<2;Y++)q=q+Math.random().toString().slice(2);return q}const p=d();c["Content-Type"]="multipart/related; boundary="+p;const m=XU(e,i,a),v=FU(m,t),b="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+p+`\r
Content-Type: `+m.contentType+`\r
\r
`,S=`\r
--`+p+"--",R=Ps.getBlob(b,i,S);if(R===null)throw uU();const I={name:m.fullPath},j=yU(l,n.host,n._protocol),N="POST",B=n.maxUploadRetryTime,G=new $U(j,N,KU(n,t),B);return G.urlParams=I,G.headers=c,G.body=R.uploadData(),G.errorHandler=QU(e),G}class ZU{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ua.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ua.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ua.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,a){if(this.sent_)throw ku("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ku("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ku("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ku("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ku("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class JU extends ZU{initXhr(){this.xhr_.responseType="text"}}function e4(){return new JU}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,t){this._service=e,t instanceof Hn?this._location=t:this._location=Hn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ya(e,t)}get root(){const e=new Hn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return vC(this._location.path)}get storage(){return this._service}get parent(){const e=LU(this._location.path);if(e===null)return null;const t=new Hn(this._location.bucket,e);return new Ya(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw fU(e)}}function t4(n,e,t){n._throwIfRoot("uploadBytes");const i=WU(n.storage,n._location,BU(),new Ps(e,!0),t);return n.storage.makeRequestWithTokens(i,e4).then(a=>({metadata:a,ref:n}))}function n4(n,e){const t=PU(n._location.path,e),i=new Hn(n._location.bucket,t);return new Ya(n.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(n){return/^[A-Za-z]+:\/\//.test(n)}function i4(n,e){return new Ya(n,e)}function _C(n,e){if(n instanceof pv){const t=n;if(t._bucket==null)throw lU();const i=new Ya(t,t._bucket);return e!=null?_C(i,e):i}else return e!==void 0?n4(n,e):n}function s4(n,e){if(e&&r4(e)){if(n instanceof pv)return i4(n,e);throw Lg("To use ref(service, url), the first argument must be a Storage instance.")}else return _C(n,e)}function Hb(n,e){const t=e==null?void 0:e[hC];return t==null?null:Hn.makeFromBucketSpec(t,n)}function a4(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:a}=i;a&&(n._overrideAuthToken=typeof a=="string"?a:KS(a,n.app.options.projectId))}class pv{constructor(e,t,i,a,l){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._bucket=null,this._host=fC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Zj,this._maxUploadRetryTime=Jj,this._requests=new Set,a!=null?this._bucket=Hn.makeFromBucketSpec(a,this._host):this._bucket=Hb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Hn.makeFromBucketSpec(this._url,e):this._bucket=Hb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){zb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){zb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(br(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ya(this,e)}_makeRequest(e,t,i,a,l=!0){if(this._deleted)return new hU(dC());{const c=AU(e,this._appId,i,a,t,this._firebaseVersion,l);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,a).getPromise()}}const qb="@firebase/storage",Fb="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="storage";function o4(n,e,t){return n=Zt(n),t4(n,e,t)}function l4(n,e){return n=Zt(n),s4(n,e)}function TC(n=vy(),e){n=Zt(n);const i=ad(n,EC).getImmediate({identifier:e}),a=FS("storage");return a&&u4(i,...a),i}function u4(n,e,t,i={}){a4(n,e,t,i)}function c4(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new pv(t,i,a,e,Wa)}function f4(){Fa(new Gs(EC,c4,"PUBLIC").setMultipleInstances(!0)),Yr(qb,Fb,""),Yr(qb,Fb,"esm2017")}f4();const h4={apiKey:"AIzaSyBZpw2LLVMR1GVQ5GqiKMl0D0h3w-w5slY",authDomain:"carbookingse800.firebaseapp.com",projectId:"carbookingse800",storageBucket:"carbookingse800.appspot.com",messagingSenderId:"95935923587",appId:"1:95935923587:web:17728090134ef8ff6e62b6",measurementId:"G-R203N43BFT"},mv=XS(h4),ur=LL(mv);Xj(mv);TC(mv);function d4(){const[n,e]=w.useState([]),t=Js();w.useEffect(()=>{(async()=>{try{const c=(await cc(Ka(ur,"cars"))).docs.map(d=>({id:d.id,...d.data()}));e(c)}catch(l){console.error("Error fetching cars: ",l)}})()},[]);const i=a=>{t(`/carform/${a}`)};return T.jsx("div",{className:"d-flex flex-wrap",children:n.map(a=>T.jsxs(Cn,{style:{width:"18rem",margin:"1rem"},children:[T.jsx(Cn.Img,{variant:"top",src:a.img_car||"https://via.placeholder.com/150",style:{height:"200px",objectFit:"cover"}}),T.jsxs(Cn.Body,{children:[T.jsxs(Cn.Title,{children:[a.brand," ",a.model]}),T.jsxs(Cn.Text,{children:[T.jsx("strong",{children:"ทะเบียน:"})," ",a.license_plate," ",T.jsx("br",{}),T.jsx("strong",{children:"ราคา:"})," ",a.price_per_day," บาท/วัน"]}),T.jsx(In,{variant:"primary",onClick:()=>i(a.id),style:{height:"50px"},children:"จองรถ"})]}),T.jsx(Cn.Footer,{children:T.jsxs("small",{className:"text-muted",children:[T.jsx("strong",{children:"สถานะ:"}),T.jsx(bw,{pill:!0,bg:a.status==="available"?"success":"secondary",className:"ms-2",children:a.status==="available"?"Available":"Not Available"})]})})]},a.id))})}function eg({text:n}){return T.jsx("div",{className:"carousel-image-container",children:T.jsx(uS,{src:"https://images.unsplash.com/photo-1593642532973-d31b6557fa68?crop=entropy&cs=tinysrgb&fit=max&ixid=MnwzNjY0OXwwfDF8c2VhY2h8NXx8Y2Fyb3VzZWx8ZW58MHx8fHwxNjc2NDA1NjY0&ixlib=rb-1.2.1&q=80&w=1080",alt:n,fluid:!0,className:"full-screen-image"})})}function p4(){return T.jsxs(ka,{fade:!0,children:[T.jsxs(ka.Item,{children:[T.jsx(eg,{text:"First slide"}),T.jsxs(ka.Caption,{children:[T.jsx("h3",{children:"First slide label"}),T.jsx("p",{children:"Nulla vitae elit libero, a pharetra augue mollis interdum."})]})]}),T.jsxs(ka.Item,{children:[T.jsx(eg,{text:"Second slide"}),T.jsxs(ka.Caption,{children:[T.jsx("h3",{children:"Second slide label"}),T.jsx("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."})]})]}),T.jsxs(ka.Item,{children:[T.jsx(eg,{text:"Third slide"}),T.jsxs(ka.Caption,{children:[T.jsx("h3",{children:"Third slide label"}),T.jsx("p",{children:"Praesent commodo cursus magna, vel scelerisque nisl consectetur."})]})]})]})}const m4=({setUser:n})=>{const[e,t]=w.useState(""),[i,a]=w.useState(""),[l,c]=w.useState(""),d=Js();w.useEffect(()=>{JSON.parse(localStorage.getItem("user"))&&d("/home")},[d]);const p=async m=>{m.preventDefault(),c("");try{const v=_b(Ka(ur,"customers"),Eb("email","==",e)),b=_b(Ka(ur,"admin"),Eb("email","==",e)),[S,R]=await Promise.all([cc(v),cc(b)]);let I=null,j=!1;if(S.empty||(I=S.docs[0].data()),R.empty||(j=!0),!I&&!j){c("ไม่พบข้อมูลผู้ใช้");return}if(I&&I.password===i){const N={first_name:I.first_name};localStorage.setItem("user",JSON.stringify(N)),n(N),d("/home");return}if(j){const N={first_name:"Admin"};localStorage.setItem("user",JSON.stringify(N)),n(N),d("/admin");return}c("รหัสผ่านไม่ถูกต้อง")}catch(v){c("เกิดข้อผิดพลาดในการเข้าสู่ระบบ"),console.error("Login Error:",v)}};return T.jsx(Yi,{children:T.jsx($s,{className:"justify-content-md-center",children:T.jsxs(wr,{xs:12,md:6,children:[T.jsx("h2",{className:"text-center my-4",children:"เข้าสู่ระบบ"}),l&&T.jsx("div",{className:"alert alert-danger",children:l}),T.jsxs(le,{onSubmit:p,children:[T.jsxs(le.Group,{controlId:"formEmail",children:[T.jsx(le.Label,{children:"อีเมล"}),T.jsx(le.Control,{type:"email",placeholder:"กรุณากรอกอีเมล",value:e,onChange:m=>t(m.target.value),required:!0})]}),T.jsxs(le.Group,{controlId:"formPassword",children:[T.jsx(le.Label,{children:"รหัสผ่าน"}),T.jsx(le.Control,{type:"password",placeholder:"กรุณากรอกรหัสผ่าน",value:i,onChange:m=>a(m.target.value),required:!0})]}),T.jsx(In,{variant:"primary",type:"submit",className:"w-100 mt-3",children:"เข้าสู่ระบบ"})]})]})})})},g4=()=>{const[n,e]=w.useState({first_name:"",last_name:"",email:"",password:"",address:"",license_no:"",phone:""}),t=a=>{e({...n,[a.target.name]:a.target.value})},i=async a=>{a.preventDefault();try{const l={...n,status:"1"},c=await DR(Ka(ur,"customers"),l);console.log("Document written with ID: ",c.id),alert("Registered Successfully!"),e({first_name:"",last_name:"",email:"",password:"",address:"",license_no:"",phone:""})}catch(l){console.error("Error adding document: ",l),alert("Registration Failed!")}};return T.jsx(Yi,{className:"mt-5",children:T.jsx($s,{className:"justify-content-md-center",children:T.jsxs(wr,{md:6,children:[T.jsx("h2",{className:"text-center",children:"Register"}),T.jsxs(le,{onSubmit:i,children:[T.jsxs(le.Group,{className:"mb-3",controlId:"formFirstName",children:[T.jsx(le.Label,{children:"First Name"}),T.jsx(le.Control,{type:"text",name:"first_name",value:n.first_name,onChange:t,required:!0})]}),T.jsxs(le.Group,{className:"mb-3",controlId:"formLastName",children:[T.jsx(le.Label,{children:"Last Name"}),T.jsx(le.Control,{type:"text",name:"last_name",value:n.last_name,onChange:t,required:!0})]}),T.jsxs(le.Group,{className:"mb-3",controlId:"formEmail",children:[T.jsx(le.Label,{children:"Email"}),T.jsx(le.Control,{type:"email",name:"email",value:n.email,onChange:t,required:!0})]}),T.jsxs(le.Group,{className:"mb-3",controlId:"formPassword",children:[T.jsx(le.Label,{children:"Password"}),T.jsx(le.Control,{type:"password",name:"password",value:n.password,onChange:t,required:!0})]}),T.jsxs(le.Group,{className:"mb-3",controlId:"formAddress",children:[T.jsx(le.Label,{children:"Address"}),T.jsx(le.Control,{type:"text",name:"address",value:n.address,onChange:t,required:!0})]}),T.jsxs(le.Group,{className:"mb-3",controlId:"formLicenseNo",children:[T.jsx(le.Label,{children:"License No"}),T.jsx(le.Control,{type:"text",name:"license_no",value:n.license_no,onChange:t,required:!0})]}),T.jsxs(le.Group,{className:"mb-3",controlId:"formPhone",children:[T.jsx(le.Label,{children:"Phone"}),T.jsx(le.Control,{type:"text",name:"phone",value:n.phone,onChange:t,required:!0})]}),T.jsx(In,{variant:"primary",type:"submit",className:"w-100",children:"Register"})]})]})})})};function y4(){return T.jsxs("div",{children:[T.jsx("center",{children:T.jsx("h2",{children:"ปฎิทินการเช่ารถ"})}),T.jsx(i2,{})]})}function v4(){const[n,e]=w.useState(null),t=a=>{const l=a.target.files[0];if(l){const c=new FileReader;c.onload=()=>{const m=c.result.split(`
`).map(v=>v.split(","));e(m),console.log("ข้อมูลจากไฟล์ CSV:",m)},c.readAsText(l)}},i=a=>{const l=a.target.files[0];if(l){const c=TC(),d=l4(c,"csv_files/"+l.name);o4(d,l).then(p=>{console.log("อัปโหลดไฟล์สำเร็จ:",p)}).catch(p=>{console.error("เกิดข้อผิดพลาดในการอัปโหลดไฟล์:",p)})}};return T.jsxs("div",{children:[T.jsx("h2",{children:"อัปโหลดไฟล์ CSV"}),T.jsx("input",{type:"file",accept:".csv",onChange:t}),T.jsxs("div",{children:[T.jsx("h3",{children:"ข้อมูลจากไฟล์ CSV:"}),T.jsx("pre",{children:JSON.stringify(n,null,2)})]}),T.jsx("h3",{children:"อัปโหลดไฟล์ไปยัง Firebase Storage"}),T.jsx("input",{type:"file",onChange:i})]})}const _4=()=>{const[n,e]=w.useState(""),[t,i]=w.useState(""),[a,l]=w.useState(""),[c,d]=w.useState(""),[p,m]=w.useState("");w.useEffect(()=>{if(n&&t&&a&&c){const b=new Date(`${n}T${t}`),R=new Date(`${a}T${c}`)-b;if(R>0){const I=Math.floor(R/864e5),j=Math.floor(R%(1e3*60*60*24)/(1e3*60*60));m(`${I} วัน ${j} ชั่วโมง`)}else m("ข้อมูลวันที่หรือเวลาไม่ถูกต้อง")}else m("")},[n,t,a,c]);const v=b=>S=>{const R=S.target.value,[I,j]=R.split(":").map(Number);j%30!==0?alert("กรุณาเลือกเวลาที่เป็นช่วงครึ่งชั่วโมง เช่น 09:00 หรือ 09:30"):b(R)};return T.jsx(Yi,{className:"mt-5",children:T.jsx($s,{className:"justify-content-center",children:T.jsx(wr,{md:6,children:T.jsxs(Cn,{className:"shadow-lg p-4",children:[T.jsx(Cn.Title,{className:"text-center mb-4",children:"แบบฟอร์มเช่ารถ"}),T.jsxs(le,{children:[T.jsxs(le.Group,{className:"mb-3",controlId:"name",children:[T.jsx(le.Label,{children:"ชื่อ-นามสกุล"}),T.jsx(le.Control,{type:"text",placeholder:"กรอกชื่อของคุณ",required:!0})]}),T.jsxs(le.Group,{className:"mb-3",controlId:"phone",children:[T.jsx(le.Label,{children:"เบอร์โทร"}),T.jsx(le.Control,{type:"tel",placeholder:"กรอกเบอร์โทร",required:!0})]}),T.jsxs(le.Group,{className:"mb-3",controlId:"email",children:[T.jsx(le.Label,{children:"อีเมล"}),T.jsx(le.Control,{type:"email",placeholder:"กรอกอีเมล",required:!0})]}),T.jsxs(le.Group,{className:"mb-3",controlId:"carType",children:[T.jsx(le.Label,{children:"เลือกรถที่ต้องการเช่า"}),T.jsxs(le.Select,{children:[T.jsx("option",{children:"-- กรุณาเลือก --"}),T.jsx("option",{children:"Honda City"}),T.jsx("option",{children:"Toyota Altis"}),T.jsx("option",{children:"Ford Ranger"})]})]}),T.jsxs(le.Group,{className:"mb-3",controlId:"rentalDate",children:[T.jsx(le.Label,{children:"วันที่เริ่มเช่า"}),T.jsx(le.Control,{type:"date",value:n,onChange:b=>e(b.target.value),required:!0})]}),T.jsxs(le.Group,{className:"mb-3",controlId:"rentalTime",children:[T.jsx(le.Label,{children:"เวลาที่ต้องการเช่า"}),T.jsx(le.Control,{type:"time",value:t,onChange:v(i),required:!0})]}),T.jsxs(le.Group,{className:"mb-3",controlId:"returnDate",children:[T.jsx(le.Label,{children:"วันที่คืนรถ"}),T.jsx(le.Control,{type:"date",value:a,onChange:b=>l(b.target.value),required:!0})]}),T.jsxs(le.Group,{className:"mb-3",controlId:"returnTime",children:[T.jsx(le.Label,{children:"เวลาที่คืนรถ"}),T.jsx(le.Control,{type:"time",value:c,onChange:v(d),required:!0})]}),T.jsxs(le.Group,{className:"mb-3",children:[T.jsx(le.Label,{children:"ระยะเวลาการเช่า"}),T.jsx(le.Control,{type:"text",value:p,readOnly:!0})]}),T.jsx(In,{variant:"primary",type:"submit",className:"w-100",children:"ส่งข้อมูล"})]})]})})})})},E4=()=>{const[n,e]=w.useState({brand:"",price_per_day:"",license_plate:"",img_car:"",model:"",status:"available"}),t=a=>{e({...n,[a.target.name]:a.target.value})},i=async a=>{a.preventDefault();try{await DR(Ka(ur,"cars"),n),alert("เพิ่มข้อมูลรถสำเร็จ!"),e({brand:"",price_per_day:"",license_plate:"",img_car:"",model:"",status:"available"})}catch(l){console.error("Error adding document: ",l),alert("เกิดข้อผิดพลาดในการบันทึกข้อมูล")}};return T.jsx(Yi,{className:"mt-5",children:T.jsx($s,{className:"justify-content-md-center",children:T.jsx(wr,{md:6,children:T.jsx(Cn,{children:T.jsxs(Cn.Body,{children:[T.jsx(Cn.Title,{children:"เพิ่มข้อมูลรถ"}),T.jsxs(le,{onSubmit:i,children:[T.jsxs(le.Group,{className:"mb-3",controlId:"brand",children:[T.jsx(le.Label,{children:"แบนด์"}),T.jsx(le.Control,{type:"text",name:"brand",value:n.brand,onChange:t,required:!0})]}),T.jsxs(le.Group,{className:"mb-3",controlId:"price_per_day",children:[T.jsx(le.Label,{children:"ราคาต่อวัน"}),T.jsx(le.Control,{type:"number",name:"price_per_day",value:n.price_per_day,onChange:t,required:!0})]}),T.jsxs(le.Group,{className:"mb-3",controlId:"license_plate",children:[T.jsx(le.Label,{children:"ทะเบียนรถ"}),T.jsx(le.Control,{type:"text",name:"license_plate",value:n.license_plate,onChange:t,required:!0})]}),T.jsxs(le.Group,{className:"mb-3",controlId:"img_car",children:[T.jsx(le.Label,{children:"ลิงก์รูปรถ"}),T.jsx(le.Control,{type:"text",name:"img_car",value:n.img_car,onChange:t,required:!0})]}),T.jsxs(le.Group,{className:"mb-3",controlId:"model",children:[T.jsx(le.Label,{children:"รุ่น"}),T.jsx(le.Control,{type:"text",name:"model",value:n.model,onChange:t,required:!0})]}),T.jsxs(le.Group,{className:"mb-3",controlId:"status",children:[T.jsx(le.Label,{children:"สถานะ"}),T.jsxs(le.Select,{name:"status",value:n.status,onChange:t,children:[T.jsx("option",{value:"available",children:"ว่าง"}),T.jsx("option",{value:"rented",children:"ถูกเช่า"}),T.jsx("option",{value:"maintenance",children:"ซ่อมบำรุง"})]})]}),T.jsx(In,{variant:"primary",type:"submit",children:"บันทึกข้อมูล"})]})]})})})})})};var bC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},$b=Tt.createContext&&Tt.createContext(bC),T4=["attr","size","title"];function b4(n,e){if(n==null)return{};var t=w4(n,e),i,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(a=0;a<l.length;a++)i=l[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function w4(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function Fh(){return Fh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Fh.apply(this,arguments)}function Gb(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function $h(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Gb(Object(t),!0).forEach(function(i){S4(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Gb(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function S4(n,e,t){return e=A4(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function A4(n){var e=R4(n,"string");return typeof e=="symbol"?e:e+""}function R4(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function wC(n){return n&&n.map((e,t)=>Tt.createElement(e.tag,$h({key:t},e.attr),wC(e.child)))}function C4(n){return e=>Tt.createElement(x4,Fh({attr:$h({},n.attr)},e),wC(n.child))}function x4(n){var e=t=>{var{attr:i,size:a,title:l}=n,c=b4(n,T4),d=a||t.size||"1em",p;return t.className&&(p=t.className),n.className&&(p=(p?p+" ":"")+n.className),Tt.createElement("svg",Fh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,c,{className:p,style:$h($h({color:n.color||t.color},t.style),n.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&Tt.createElement("title",null,l),n.children)};return $b!==void 0?Tt.createElement($b.Consumer,null,t=>e(t)):e(bC)}function I4(n){return C4({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(n)}const O4=()=>{const[n,e]=w.useState(!1);Js();const t=()=>e(!n);return T.jsxs(T.Fragment,{children:[T.jsx(I4,{onClick:t,style:{position:"fixed",top:"10px",left:"10px",fontSize:"1.8rem",cursor:"pointer",zIndex:1040}}),T.jsxs(Lu,{show:n,onHide:t,backdrop:!1,scroll:!0,className:"sidebar",style:{width:"250px"},children:[T.jsx(Lu.Header,{closeButton:!0,children:T.jsx(Lu.Title,{children:"Menu"})}),T.jsx(Lu.Body,{children:T.jsxs(lr,{className:"flex-column",children:[T.jsx(lr.Link,{as:Er,to:"/Tablecar",onClick:t,children:"ข้อมูลรถยนต์"}),T.jsx(lr.Link,{as:Er,to:"/TableRental",onClick:t,children:"ข้อมูลแอดมิน"}),T.jsx(lr.Link,{as:Er,to:"/TableRental",onClick:t,children:"ข้อมูลเช่ารถยนต์"}),T.jsx(lr.Link,{onClick:t,children:"Logout"})]})})]})]})},N4=()=>{const[n,e]=w.useState([]),t=Js();w.useEffect(()=>{(async()=>{const d=await cc(Ka(ur,"cars")),p=[];d.forEach(m=>{p.push({id:m.id,...m.data()})}),e(p)})()},[]);const i=()=>{t("/addcar")},a=c=>{console.log("Edit vehicle with id:",c),t(`/editcar/${c}`)},l=async c=>{try{await NR(hl(ur,"cars",c)),e(n.filter(d=>d.id!==c))}catch(d){console.error("Error deleting vehicle:",d)}};return T.jsxs("div",{className:"container mt-4",children:[T.jsx("center",{children:T.jsx("h2",{children:"รถยนต์"})}),T.jsx(In,{variant:"success",onClick:i,className:"me-2",children:"เพิ่มข้อมูลรถ"}),T.jsxs(my,{striped:!0,bordered:!0,hover:!0,children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Brand"}),T.jsx("th",{children:"License Plate"}),T.jsx("th",{children:"Model"}),T.jsx("th",{children:"Price Per Day"}),T.jsx("th",{children:"Status"}),T.jsx("th",{children:"แก้ไขข้อมูล"}),T.jsx("th",{children:"ลบข้อมูล"})]})}),T.jsx("tbody",{children:n.map(c=>T.jsxs("tr",{children:[T.jsx("td",{children:c.brand}),T.jsx("td",{children:c.license_plate}),T.jsx("td",{children:c.model}),T.jsx("td",{children:c.price_per_day}),T.jsx("td",{children:c.status}),T.jsx("td",{children:T.jsx(In,{variant:"warning",onClick:()=>a(c.id),className:"me-2",children:"Edit"})}),T.jsx("td",{children:T.jsx(In,{variant:"danger",onClick:()=>l(c.id),children:"Delete"})})]},c.id))})]})]})},D4=()=>{const[n,e]=w.useState({brand:"",price_per_day:"",license_plate:"",img_car:"",model:"",status:"available"}),t=Js(),{carId:i}=D1();w.useEffect(()=>{(async()=>{const d=hl(ur,"cars",i),p=await JL(d);p.exists()?e(p.data()):console.log("No such car!")})()},[i]);const a=c=>{e({...n,[c.target.name]:c.target.value})},l=async c=>{c.preventDefault();try{const d=hl(ur,"cars",i);await OR(d,n),alert("แก้ไขข้อมูลรถสำเร็จ!"),t("/Tablecar")}catch(d){console.error("Error updating document: ",d),alert("เกิดข้อผิดพลาดในการแก้ไขข้อมูล")}};return T.jsx(Yi,{className:"mt-5",children:T.jsx($s,{className:"justify-content-md-center",children:T.jsx(wr,{md:6,children:T.jsx(Cn,{children:T.jsxs(Cn.Body,{children:[T.jsx(Cn.Title,{children:"แก้ไขข้อมูลรถ"}),T.jsxs(le,{onSubmit:l,children:[T.jsxs(le.Group,{className:"mb-3",controlId:"brand",children:[T.jsx(le.Label,{children:"แบนด์"}),T.jsx(le.Control,{type:"text",name:"brand",value:n.brand,onChange:a,required:!0})]}),T.jsxs(le.Group,{className:"mb-3",controlId:"price_per_day",children:[T.jsx(le.Label,{children:"ราคาต่อวัน"}),T.jsx(le.Control,{type:"number",name:"price_per_day",value:n.price_per_day,onChange:a,required:!0})]}),T.jsxs(le.Group,{className:"mb-3",controlId:"license_plate",children:[T.jsx(le.Label,{children:"ทะเบียนรถ"}),T.jsx(le.Control,{type:"text",name:"license_plate",value:n.license_plate,onChange:a,required:!0})]}),T.jsxs(le.Group,{className:"mb-3",controlId:"img_car",children:[T.jsx(le.Label,{children:"ลิงก์รูปรถ"}),T.jsx(le.Control,{type:"text",name:"img_car",value:n.img_car,onChange:a,required:!0})]}),T.jsxs(le.Group,{className:"mb-3",controlId:"model",children:[T.jsx(le.Label,{children:"รุ่น"}),T.jsx(le.Control,{type:"text",name:"model",value:n.model,onChange:a,required:!0})]}),T.jsxs(le.Group,{className:"mb-3",controlId:"status",children:[T.jsx(le.Label,{children:"สถานะ"}),T.jsxs(le.Select,{name:"status",value:n.status,onChange:a,children:[T.jsx("option",{value:"available",children:"ว่าง"}),T.jsx("option",{value:"rented",children:"ถูกเช่า"}),T.jsx("option",{value:"maintenance",children:"ซ่อมบำรุง"})]})]}),T.jsx(In,{variant:"primary",type:"submit",children:"บันทึกข้อมูล"})]})]})})})})})},M4=()=>{const[n,e]=w.useState([]);Js(),w.useEffect(()=>{(async()=>{const l=await cc(Ka(ur,"rentals")),c=[];l.forEach(d=>{c.push({id:d.id,...d.data()})}),e(c)})()},[]);const t=async(a,l)=>{try{const c=hl(ur,"rentals",a);await OR(c,{status:l}),e(n.map(d=>d.id===a?{...d,status:l}:d))}catch(c){console.error("Error updating rental status:",c)}},i=async a=>{try{await NR(hl(ur,"rentals",a)),e(n.filter(l=>l.id!==a))}catch(l){console.error("Error deleting rental:",l)}};return T.jsxs("div",{className:"container mt-4",children:[T.jsx("center",{children:T.jsx("h2",{children:"ข้อมูลการเช่ารถ"})}),T.jsxs(my,{striped:!0,bordered:!0,hover:!0,children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Car ID"}),T.jsx("th",{children:"Customer ID"}),T.jsx("th",{children:"Status"}),T.jsx("th",{children:"Start Date"}),T.jsx("th",{children:"End Date"}),T.jsx("th",{children:"Total Price"}),T.jsx("th",{children:"แก้ไขข้อมูล"}),T.jsx("th",{children:"ลบข้อมูล"})]})}),T.jsx("tbody",{children:n.map(a=>T.jsxs("tr",{children:[T.jsx("td",{children:a.car_id}),T.jsx("td",{children:a.customer_id}),T.jsx("td",{children:a.status}),T.jsx("td",{children:new Date(a.start_date.seconds*1e3).toLocaleDateString()})," ",T.jsx("td",{children:new Date(a.end_date.seconds*1e3).toLocaleDateString()})," ",T.jsx("td",{children:a.total_price}),T.jsx("td",{children:T.jsxs(uy,{variant:"warning",title:"Edit Status",children:[T.jsx(Sr.Item,{onClick:()=>t(a.id,"Available"),children:"Available"}),T.jsx(Sr.Item,{onClick:()=>t(a.id,"Rented"),children:"Rented"}),T.jsx(Sr.Item,{onClick:()=>t(a.id,"Maintenance"),children:"Maintenance"})]})}),T.jsx("td",{children:T.jsx(In,{variant:"danger",onClick:()=>i(a.id),children:"Delete"})})]},a.id))})]})]})};function k4({user:n,setUser:e}){const t=Ki();w.useEffect(()=>{const v=JSON.parse(localStorage.getItem("user"));v&&e(v)},[e]);const i=["/admin","/incar","/Tablecar","/addcar","/TableRental"],a=["/Login","/incar","/admin","/Tablecar","/addcar","/TableRental"],l=O1("/editcar/:carId"),c=["/admin","/Tablecar","/addcar","/TableRental"].includes(t.pathname),d=!(i.includes(t.pathname)||l),p=c||l,m=!(a.includes(t.pathname)||l);return T.jsxs("div",{style:{display:"flex"},children:[p&&T.jsx(O4,{}),T.jsxs("div",{style:{flex:1},children:[d&&T.jsx(s2,{user:n,setUser:e}),T.jsxs(K1,{children:[T.jsx(or,{path:"/",element:T.jsx(T.Fragment,{children:T.jsx(p4,{})})}),T.jsx(or,{path:"/home",element:T.jsx(d4,{})}),T.jsx(or,{path:"/Login",element:T.jsx(m4,{setUser:e})}),T.jsx(or,{path:"/Reg",element:T.jsx(g4,{})}),T.jsx(or,{path:"/admin",element:T.jsx(y4,{})}),T.jsx(or,{path:"/putcar",element:T.jsx(v4,{})}),T.jsx(or,{path:"/carform/:carId",element:T.jsx(_4,{})}),T.jsx(or,{path:"/addcar",element:T.jsx(E4,{})}),T.jsx(or,{path:"/Tablecar",element:T.jsx(N4,{})}),T.jsx(or,{path:"/editcar/:carId",element:T.jsx(D4,{})}),T.jsx(or,{path:"/TableRental",element:T.jsx(M4,{})})]}),m&&T.jsx(a2,{})]})]})}function V4(){const[n,e]=w.useState(null);return T.jsx(gI,{children:T.jsx(k4,{user:n,setUser:e})})}n1.createRoot(document.getElementById("root")).render(T.jsx(w.StrictMode,{children:T.jsx(V4,{})}));
